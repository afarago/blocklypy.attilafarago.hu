/*! For license information please see main.js.LICENSE.txt */
(()=>{var e={375:(e,t,n)=>{var r=n(853),i={ease:r(.25,.1,.25,1),easeIn:r(.42,0,1,1),easeOut:r(0,0,.58,1),easeInOut:r(.42,0,.58,1),linear:r(0,0,1,1)};function o(){}function a(){var e=new Set,t=new Set,n=0;return{next:r,cancel:r,clearAll:function(){e.clear(),t.clear(),cancelAnimationFrame(n),n=0}};function r(e){t.add(e),n||(n=requestAnimationFrame(i))}function i(){n=0;var r=t;t=e,(e=r).forEach((function(e){e()})),e.clear()}}e.exports=function(e,t,n){var r=Object.create(null),a=Object.create(null),s="function"==typeof(n=n||{}).easing?n.easing:i[n.easing];s||(n.easing&&console.warn("Unknown easing function in amator: "+n.easing),s=i.ease);var c="function"==typeof n.step?n.step:o,l="function"==typeof n.done?n.done:o,u=function(e){if(!e)return"undefined"!=typeof window&&window.requestAnimationFrame?{next:window.requestAnimationFrame.bind(window),cancel:window.cancelAnimationFrame.bind(window)}:{next:function(e){return setTimeout(e,1e3/60)},cancel:function(e){return clearTimeout(e)}};if("function"!=typeof e.next)throw new Error("Scheduler is supposed to have next(cb) function");if("function"!=typeof e.cancel)throw new Error("Scheduler is supposed to have cancel(handle) function");return e}(n.scheduler),d=Object.keys(t);d.forEach((function(n){r[n]=e[n],a[n]=t[n]-e[n]}));var f,h="number"==typeof n.duration?n.duration:400,p=Math.max(1,.06*h),m=0;return f=u.next((function t(){var n=s(m/p);m+=1,function(t){d.forEach((function(n){e[n]=a[n]*t+r[n]}))}(n),m<=p?(f=u.next(t),c(e)):(f=0,setTimeout((function(){l(e)}),0))})),{cancel:function(){u.cancel(f),f=0}}},e.exports.makeAggregateRaf=a,e.exports.sharedScheduler=a()},853:e=>{var t=.1,n="function"==typeof Float32Array;function r(e,t){return 1-3*t+3*e}function i(e,t){return 3*t-6*e}function o(e){return 3*e}function a(e,t,n){return((r(t,n)*e+i(t,n))*e+o(t))*e}function s(e,t,n){return 3*r(t,n)*e*e+2*i(t,n)*e+o(t)}function c(e){return e}e.exports=function(e,r,i,o){if(!(0<=e&&e<=1&&0<=i&&i<=1))throw new Error("bezier x values must be in [0, 1] range");if(e===r&&i===o)return c;for(var l=n?new Float32Array(11):new Array(11),u=0;u<11;++u)l[u]=a(u*t,e,i);return function(n){return 0===n?0:1===n?1:a(function(n){for(var r=0,o=1;10!==o&&l[o]<=n;++o)r+=t;--o;var c=r+(n-l[o])/(l[o+1]-l[o])*t,u=s(c,e,i);return u>=.001?function(e,t,n,r){for(var i=0;i<4;++i){var o=s(t,n,r);if(0===o)return t;t-=(a(t,n,r)-e)/o}return t}(n,c,e,i):0===u?c:function(e,t,n,r,i){var o,s,c=0;do{(o=a(s=t+(n-t)/2,r,i)-e)>0?n=s:t=s}while(Math.abs(o)>1e-7&&++c<10);return s}(n,r,r+t,e,i)}(n),r,o)}}},556:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(601),i=n.n(r),o=n(314),a=n.n(o)()(i());a.push([e.id,"body {\n  min-height: 100vh;\n  position: relative;\n}\n\nbody::after {\n  content: '';\n  display: block;\n  height: 50px;\n  /* Set same as footer's height */\n}\n\nfooter {\n  position: absolute;\n  bottom: 0;\n  right: 0;\n  /* width: 100%; */\n  /* height: 1em; */\n  text-align: right;\n  /* background-color: #eee; */\n  padding-top: 1em;\n  width: 100%;\n  height: 60px;\n}\n\n/* Please see documentation at https://docs.microsoft.com/aspnet/core/client-side/bundling-and-minification\nfor details on configuring this project to bundle and minify static web assets. */\n\na.navbar-brand {\n  white-space: normal;\n  text-align: center;\n  word-break: break-all;\n}\n\n/* Provide sufficient contrast against white background */\na {\n  color: #0366d6;\n}\n\n.btn-primary {\n  color: #fff;\n  background-color: #1b6ec2;\n  border-color: #1861ac;\n}\n\n.nav-pills .nav-link.active,\n.nav-pills .show > .nav-link {\n  color: #fff;\n  background-color: #1b6ec2;\n  border-color: #1861ac;\n}\n\n/* Main page\n-------------------------------------------------- */\n\n.tab-pane {\n  min-height: 32vh;\n  position: relative;\n}\n\n/* Main page Animated drop area\n-------------------------------------------------- \n    from: https://css-tricks.com/more-control-over-css-borders-with-background-image/\n*/\n\n#maincontainer.drop-active {\n  background-image: repeating-linear-gradient(\n      -60deg,\n      #f6c407,\n      #f6c407 9.3px,\n      transparent 30px,\n      transparent 39.3px,\n      #f6c407 60px\n    ),\n    repeating-linear-gradient(\n      30deg,\n      #f6c407,\n      #f6c407 9.3px,\n      transparent 30px,\n      transparent 39.3px,\n      #f6c407 60px\n    ),\n    repeating-linear-gradient(\n      120deg,\n      #f6c407,\n      #f6c407 9.3px,\n      transparent 30px,\n      transparent 39.3px,\n      #f6c407 60px\n    ),\n    repeating-linear-gradient(\n      210deg,\n      #f6c407,\n      #f6c407 9.3px,\n      transparent 30px,\n      transparent 39.3px,\n      #f6c407 60px\n    );\n  background-size:\n    3px calc(100% + 120px),\n    calc(100% + 120px) 3px,\n    3px calc(100% + 120px),\n    calc(100% + 120px) 3px;\n  background-position:\n    0 0,\n    0 0,\n    100% 0,\n    0 100%;\n  background-repeat: no-repeat;\n  animation: dropActive-borderAnimation 0.8s infinite linear;\n  border-radius: 8px;\n}\n\n@keyframes dropActive-borderAnimation {\n  from {\n    background-position:\n      0 0,\n      -120px 0,\n      100% -120px,\n      0 100%;\n  }\n\n  to {\n    background-position:\n      0 -120px,\n      0 0,\n      100% 0,\n      -120px 100%;\n  }\n}\n\n/* ----- */\n\n@keyframes copysuccess-animation {\n  from {\n    outline: 0px solid rgba(144, 238, 144, 0.5);\n  }\n  30% {\n    outline: 6px solid rgba(144, 238, 144, 1);\n  }\n  90% {\n    outline: 6px solid rgba(144, 238, 144, 1);\n  }\n  to {\n    outline: 0px solid rgba(144, 238, 144, 0.5);\n  }\n}\n\n.copy-button {\n  position: absolute;\n  top: 0;\n  right: 0;\n  cursor: pointer;\n  border-radius: 5px;\n  border: 1px #ccc solid;\n  margin: 0.5em;\n  z-index: 999;\n}\n\n.copy-button.success {\n  animation: copysuccess-animation 0.5s 1 ease-in;\n  animation-delay: 0s;\n  animation-fill-mode: forwards;\n  -webkit-animation-fill-mode: forwards;\n  outline: 2px solid lightgreen;\n  background-color: hsl(120, 73%, 80%);\n}\n\n#tab-content-wrapper {\n  position: relative;\n}\n\n.nav-tabs {\n  z-index: 1;\n  position: relative;\n}\n\n#preview-svg-map {\n  width: 30%;\n  position: absolute;\n  right: 0;\n  top: 0;\n  opacity: 0.3;\n  z-index: 998;\n}\n\n#preview-svg-map:hover {\n  opacity: 1;\n}\n\n#preview-svg {\n  overflow: hidden;\n}\n\n#tabs-wrapper {\n  width: 100%;\n}\n\n#preview-pycode,\n#preview-pseudocode {\n  font-family: 'Courier New', monospace;\n  width: 100%;\n  border: none;\n  white-space: pre;\n}\n",""]);const s=a},314:e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",r=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),r&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),r&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,r,i,o){"string"==typeof e&&(e=[[null,e,void 0]]);var a={};if(r)for(var s=0;s<this.length;s++){var c=this[s][0];null!=c&&(a[c]=!0)}for(var l=0;l<e.length;l++){var u=[].concat(e[l]);r&&a[u[0]]||(void 0!==o&&(void 0===u[5]||(u[1]="@layer".concat(u[5].length>0?" ".concat(u[5]):""," {").concat(u[1],"}")),u[5]=o),n&&(u[2]?(u[1]="@media ".concat(u[2]," {").concat(u[1],"}"),u[2]=n):u[2]=n),i&&(u[4]?(u[1]="@supports (".concat(u[4],") {").concat(u[1],"}"),u[4]=i):u[4]="".concat(i)),t.push(u))}},t}},601:e=>{"use strict";e.exports=function(e){return e[1]}},710:(e,t,n)=>{e.exports=function e(t,n,r){function i(a,s){if(!n[a]){if(!t[a]){if(o)return o(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var l=n[a]={exports:{}};t[a][0].call(l.exports,(function(e){return i(t[a][1][e]||e)}),l,l.exports,e,t,n,r)}return n[a].exports}for(var o=void 0,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(e,t,n){"use strict";var r=e("./utils"),i=e("./support"),o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";n.encode=function(e){for(var t,n,i,a,s,c,l,u=[],d=0,f=e.length,h=f,p="string"!==r.getTypeOf(e);d<e.length;)h=f-d,i=p?(t=e[d++],n=d<f?e[d++]:0,d<f?e[d++]:0):(t=e.charCodeAt(d++),n=d<f?e.charCodeAt(d++):0,d<f?e.charCodeAt(d++):0),a=t>>2,s=(3&t)<<4|n>>4,c=1<h?(15&n)<<2|i>>6:64,l=2<h?63&i:64,u.push(o.charAt(a)+o.charAt(s)+o.charAt(c)+o.charAt(l));return u.join("")},n.decode=function(e){var t,n,r,a,s,c,l=0,u=0,d="data:";if(e.substr(0,5)===d)throw new Error("Invalid base64 input, it looks like a data url.");var f,h=3*(e=e.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(e.charAt(e.length-1)===o.charAt(64)&&h--,e.charAt(e.length-2)===o.charAt(64)&&h--,h%1!=0)throw new Error("Invalid base64 input, bad content length.");for(f=i.uint8array?new Uint8Array(0|h):new Array(0|h);l<e.length;)t=o.indexOf(e.charAt(l++))<<2|(a=o.indexOf(e.charAt(l++)))>>4,n=(15&a)<<4|(s=o.indexOf(e.charAt(l++)))>>2,r=(3&s)<<6|(c=o.indexOf(e.charAt(l++))),f[u++]=t,64!==s&&(f[u++]=n),64!==c&&(f[u++]=r);return f}},{"./support":30,"./utils":32}],2:[function(e,t,n){"use strict";var r=e("./external"),i=e("./stream/DataWorker"),o=e("./stream/Crc32Probe"),a=e("./stream/DataLengthProbe");function s(e,t,n,r,i){this.compressedSize=e,this.uncompressedSize=t,this.crc32=n,this.compression=r,this.compressedContent=i}s.prototype={getContentWorker:function(){var e=new i(r.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new a("data_length")),t=this;return e.on("end",(function(){if(this.streamInfo.data_length!==t.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")})),e},getCompressedWorker:function(){return new i(r.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},s.createWorkerFrom=function(e,t,n){return e.pipe(new o).pipe(new a("uncompressedSize")).pipe(t.compressWorker(n)).pipe(new a("compressedSize")).withStreamInfo("compression",t)},t.exports=s},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(e,t,n){"use strict";var r=e("./stream/GenericWorker");n.STORE={magic:"\0\0",compressWorker:function(){return new r("STORE compression")},uncompressWorker:function(){return new r("STORE decompression")}},n.DEFLATE=e("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(e,t,n){"use strict";var r=e("./utils"),i=function(){for(var e,t=[],n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}();t.exports=function(e,t){return void 0!==e&&e.length?"string"!==r.getTypeOf(e)?function(e,t,n){var r=i,o=0+n;e^=-1;for(var a=0;a<o;a++)e=e>>>8^r[255&(e^t[a])];return~e}(0|t,e,e.length):function(e,t,n){var r=i,o=0+n;e^=-1;for(var a=0;a<o;a++)e=e>>>8^r[255&(e^t.charCodeAt(a))];return~e}(0|t,e,e.length):0}},{"./utils":32}],5:[function(e,t,n){"use strict";n.base64=!1,n.binary=!1,n.dir=!1,n.createFolders=!0,n.date=null,n.compression=null,n.compressionOptions=null,n.comment=null,n.unixPermissions=null,n.dosPermissions=null},{}],6:[function(e,t,n){"use strict";var r;r="undefined"!=typeof Promise?Promise:e("lie"),t.exports={Promise:r}},{lie:37}],7:[function(e,t,n){"use strict";var r="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array,i=e("pako"),o=e("./utils"),a=e("./stream/GenericWorker"),s=r?"uint8array":"array";function c(e,t){a.call(this,"FlateWorker/"+e),this._pako=null,this._pakoAction=e,this._pakoOptions=t,this.meta={}}n.magic="\b\0",o.inherits(c,a),c.prototype.processChunk=function(e){this.meta=e.meta,null===this._pako&&this._createPako(),this._pako.push(o.transformTo(s,e.data),!1)},c.prototype.flush=function(){a.prototype.flush.call(this),null===this._pako&&this._createPako(),this._pako.push([],!0)},c.prototype.cleanUp=function(){a.prototype.cleanUp.call(this),this._pako=null},c.prototype._createPako=function(){this._pako=new i[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var e=this;this._pako.onData=function(t){e.push({data:t,meta:e.meta})}},n.compressWorker=function(e){return new c("Deflate",e)},n.uncompressWorker=function(){return new c("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(e,t,n){"use strict";function r(e,t){var n,r="";for(n=0;n<t;n++)r+=String.fromCharCode(255&e),e>>>=8;return r}function i(e,t,n,i,a,u){var d,f,h=e.file,p=e.compression,m=u!==s.utf8encode,v=o.transformTo("string",u(h.name)),g=o.transformTo("string",s.utf8encode(h.name)),_=h.comment,y=o.transformTo("string",u(_)),b=o.transformTo("string",s.utf8encode(_)),w=g.length!==h.name.length,k=b.length!==_.length,E="",x="",S="",A=h.dir,O=h.date,T={crc32:0,compressedSize:0,uncompressedSize:0};t&&!n||(T.crc32=e.crc32,T.compressedSize=e.compressedSize,T.uncompressedSize=e.uncompressedSize);var C=0;t&&(C|=8),m||!w&&!k||(C|=2048);var N=0,I=0;A&&(N|=16),"UNIX"===a?(I=798,N|=function(e,t){var n=e;return e||(n=t?16893:33204),(65535&n)<<16}(h.unixPermissions,A)):(I=20,N|=function(e){return 63&(e||0)}(h.dosPermissions)),d=O.getUTCHours(),d<<=6,d|=O.getUTCMinutes(),d<<=5,d|=O.getUTCSeconds()/2,f=O.getUTCFullYear()-1980,f<<=4,f|=O.getUTCMonth()+1,f<<=5,f|=O.getUTCDate(),w&&(x=r(1,1)+r(c(v),4)+g,E+="up"+r(x.length,2)+x),k&&(S=r(1,1)+r(c(y),4)+b,E+="uc"+r(S.length,2)+S);var R="";return R+="\n\0",R+=r(C,2),R+=p.magic,R+=r(d,2),R+=r(f,2),R+=r(T.crc32,4),R+=r(T.compressedSize,4),R+=r(T.uncompressedSize,4),R+=r(v.length,2),R+=r(E.length,2),{fileRecord:l.LOCAL_FILE_HEADER+R+v+E,dirRecord:l.CENTRAL_FILE_HEADER+r(I,2)+R+r(y.length,2)+"\0\0\0\0"+r(N,4)+r(i,4)+v+E+y}}var o=e("../utils"),a=e("../stream/GenericWorker"),s=e("../utf8"),c=e("../crc32"),l=e("../signature");function u(e,t,n,r){a.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=t,this.zipPlatform=n,this.encodeFileName=r,this.streamFiles=e,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}o.inherits(u,a),u.prototype.push=function(e){var t=e.meta.percent||0,n=this.entriesCount,r=this._sources.length;this.accumulate?this.contentBuffer.push(e):(this.bytesWritten+=e.data.length,a.prototype.push.call(this,{data:e.data,meta:{currentFile:this.currentFile,percent:n?(t+100*(n-r-1))/n:100}}))},u.prototype.openedSource=function(e){this.currentSourceOffset=this.bytesWritten,this.currentFile=e.file.name;var t=this.streamFiles&&!e.file.dir;if(t){var n=i(e,t,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:n.fileRecord,meta:{percent:0}})}else this.accumulate=!0},u.prototype.closedSource=function(e){this.accumulate=!1;var t=this.streamFiles&&!e.file.dir,n=i(e,t,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(n.dirRecord),t)this.push({data:function(e){return l.DATA_DESCRIPTOR+r(e.crc32,4)+r(e.compressedSize,4)+r(e.uncompressedSize,4)}(e),meta:{percent:100}});else for(this.push({data:n.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},u.prototype.flush=function(){for(var e=this.bytesWritten,t=0;t<this.dirRecords.length;t++)this.push({data:this.dirRecords[t],meta:{percent:100}});var n=this.bytesWritten-e,i=function(e,t,n,i,a){var s=o.transformTo("string",a(i));return l.CENTRAL_DIRECTORY_END+"\0\0\0\0"+r(e,2)+r(e,2)+r(t,4)+r(n,4)+r(s.length,2)+s}(this.dirRecords.length,n,e,this.zipComment,this.encodeFileName);this.push({data:i,meta:{percent:100}})},u.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},u.prototype.registerPrevious=function(e){this._sources.push(e);var t=this;return e.on("data",(function(e){t.processChunk(e)})),e.on("end",(function(){t.closedSource(t.previous.streamInfo),t._sources.length?t.prepareNextSource():t.end()})),e.on("error",(function(e){t.error(e)})),this},u.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},u.prototype.error=function(e){var t=this._sources;if(!a.prototype.error.call(this,e))return!1;for(var n=0;n<t.length;n++)try{t[n].error(e)}catch(e){}return!0},u.prototype.lock=function(){a.prototype.lock.call(this);for(var e=this._sources,t=0;t<e.length;t++)e[t].lock()},t.exports=u},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(e,t,n){"use strict";var r=e("../compressions"),i=e("./ZipFileWorker");n.generateWorker=function(e,t,n){var o=new i(t.streamFiles,n,t.platform,t.encodeFileName),a=0;try{e.forEach((function(e,n){a++;var i=function(e,t){var n=e||t,i=r[n];if(!i)throw new Error(n+" is not a valid compression method !");return i}(n.options.compression,t.compression),s=n.options.compressionOptions||t.compressionOptions||{},c=n.dir,l=n.date;n._compressWorker(i,s).withStreamInfo("file",{name:e,dir:c,date:l,comment:n.comment||"",unixPermissions:n.unixPermissions,dosPermissions:n.dosPermissions}).pipe(o)})),o.entriesCount=a}catch(e){o.error(e)}return o}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(e,t,n){"use strict";function r(){if(!(this instanceof r))return new r;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var e=new r;for(var t in this)"function"!=typeof this[t]&&(e[t]=this[t]);return e}}(r.prototype=e("./object")).loadAsync=e("./load"),r.support=e("./support"),r.defaults=e("./defaults"),r.version="3.10.1",r.loadAsync=function(e,t){return(new r).loadAsync(e,t)},r.external=e("./external"),t.exports=r},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(e,t,n){"use strict";var r=e("./utils"),i=e("./external"),o=e("./utf8"),a=e("./zipEntries"),s=e("./stream/Crc32Probe"),c=e("./nodejsUtils");function l(e){return new i.Promise((function(t,n){var r=e.decompressed.getContentWorker().pipe(new s);r.on("error",(function(e){n(e)})).on("end",(function(){r.streamInfo.crc32!==e.decompressed.crc32?n(new Error("Corrupted zip : CRC32 mismatch")):t()})).resume()}))}t.exports=function(e,t){var n=this;return t=r.extend(t||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:o.utf8decode}),c.isNode&&c.isStream(e)?i.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):r.prepareContent("the loaded zip file",e,!0,t.optimizedBinaryString,t.base64).then((function(e){var n=new a(t);return n.load(e),n})).then((function(e){var n=[i.Promise.resolve(e)],r=e.files;if(t.checkCRC32)for(var o=0;o<r.length;o++)n.push(l(r[o]));return i.Promise.all(n)})).then((function(e){for(var i=e.shift(),o=i.files,a=0;a<o.length;a++){var s=o[a],c=s.fileNameStr,l=r.resolve(s.fileNameStr);n.file(l,s.decompressed,{binary:!0,optimizedBinaryString:!0,date:s.date,dir:s.dir,comment:s.fileCommentStr.length?s.fileCommentStr:null,unixPermissions:s.unixPermissions,dosPermissions:s.dosPermissions,createFolders:t.createFolders}),s.dir||(n.file(l).unsafeOriginalName=c)}return i.zipComment.length&&(n.comment=i.zipComment),n}))}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(e,t,n){"use strict";var r=e("../utils"),i=e("../stream/GenericWorker");function o(e,t){i.call(this,"Nodejs stream input adapter for "+e),this._upstreamEnded=!1,this._bindStream(t)}r.inherits(o,i),o.prototype._bindStream=function(e){var t=this;(this._stream=e).pause(),e.on("data",(function(e){t.push({data:e,meta:{percent:0}})})).on("error",(function(e){t.isPaused?this.generatedError=e:t.error(e)})).on("end",(function(){t.isPaused?t._upstreamEnded=!0:t.end()}))},o.prototype.pause=function(){return!!i.prototype.pause.call(this)&&(this._stream.pause(),!0)},o.prototype.resume=function(){return!!i.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},t.exports=o},{"../stream/GenericWorker":28,"../utils":32}],13:[function(e,t,n){"use strict";var r=e("readable-stream").Readable;function i(e,t,n){r.call(this,t),this._helper=e;var i=this;e.on("data",(function(e,t){i.push(e)||i._helper.pause(),n&&n(t)})).on("error",(function(e){i.emit("error",e)})).on("end",(function(){i.push(null)}))}e("../utils").inherits(i,r),i.prototype._read=function(){this._helper.resume()},t.exports=i},{"../utils":32,"readable-stream":16}],14:[function(e,t,n){"use strict";t.exports={isNode:"undefined"!=typeof Buffer,newBufferFrom:function(e,t){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(e,t);if("number"==typeof e)throw new Error('The "data" argument must not be a number');return new Buffer(e,t)},allocBuffer:function(e){if(Buffer.alloc)return Buffer.alloc(e);var t=new Buffer(e);return t.fill(0),t},isBuffer:function(e){return Buffer.isBuffer(e)},isStream:function(e){return e&&"function"==typeof e.on&&"function"==typeof e.pause&&"function"==typeof e.resume}}},{}],15:[function(e,t,n){"use strict";function r(e,t,n){var r,i=o.getTypeOf(t),s=o.extend(n||{},c);s.date=s.date||new Date,null!==s.compression&&(s.compression=s.compression.toUpperCase()),"string"==typeof s.unixPermissions&&(s.unixPermissions=parseInt(s.unixPermissions,8)),s.unixPermissions&&16384&s.unixPermissions&&(s.dir=!0),s.dosPermissions&&16&s.dosPermissions&&(s.dir=!0),s.dir&&(e=m(e)),s.createFolders&&(r=p(e))&&v.call(this,r,!0);var d="string"===i&&!1===s.binary&&!1===s.base64;n&&void 0!==n.binary||(s.binary=!d),(t instanceof l&&0===t.uncompressedSize||s.dir||!t||0===t.length)&&(s.base64=!1,s.binary=!0,t="",s.compression="STORE",i="string");var g;g=t instanceof l||t instanceof a?t:f.isNode&&f.isStream(t)?new h(e,t):o.prepareContent(e,t,s.binary,s.optimizedBinaryString,s.base64);var _=new u(e,g,s);this.files[e]=_}var i=e("./utf8"),o=e("./utils"),a=e("./stream/GenericWorker"),s=e("./stream/StreamHelper"),c=e("./defaults"),l=e("./compressedObject"),u=e("./zipObject"),d=e("./generate"),f=e("./nodejsUtils"),h=e("./nodejs/NodejsStreamInputAdapter"),p=function(e){"/"===e.slice(-1)&&(e=e.substring(0,e.length-1));var t=e.lastIndexOf("/");return 0<t?e.substring(0,t):""},m=function(e){return"/"!==e.slice(-1)&&(e+="/"),e},v=function(e,t){return t=void 0!==t?t:c.createFolders,e=m(e),this.files[e]||r.call(this,e,null,{dir:!0,createFolders:t}),this.files[e]};function g(e){return"[object RegExp]"===Object.prototype.toString.call(e)}var _={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(e){var t,n,r;for(t in this.files)r=this.files[t],(n=t.slice(this.root.length,t.length))&&t.slice(0,this.root.length)===this.root&&e(n,r)},filter:function(e){var t=[];return this.forEach((function(n,r){e(n,r)&&t.push(r)})),t},file:function(e,t,n){if(1!==arguments.length)return e=this.root+e,r.call(this,e,t,n),this;if(g(e)){var i=e;return this.filter((function(e,t){return!t.dir&&i.test(e)}))}var o=this.files[this.root+e];return o&&!o.dir?o:null},folder:function(e){if(!e)return this;if(g(e))return this.filter((function(t,n){return n.dir&&e.test(t)}));var t=this.root+e,n=v.call(this,t),r=this.clone();return r.root=n.name,r},remove:function(e){e=this.root+e;var t=this.files[e];if(t||("/"!==e.slice(-1)&&(e+="/"),t=this.files[e]),t&&!t.dir)delete this.files[e];else for(var n=this.filter((function(t,n){return n.name.slice(0,e.length)===e})),r=0;r<n.length;r++)delete this.files[n[r].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(e){var t,n={};try{if((n=o.extend(e||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:i.utf8encode})).type=n.type.toLowerCase(),n.compression=n.compression.toUpperCase(),"binarystring"===n.type&&(n.type="string"),!n.type)throw new Error("No output type specified.");o.checkSupport(n.type),"darwin"!==n.platform&&"freebsd"!==n.platform&&"linux"!==n.platform&&"sunos"!==n.platform||(n.platform="UNIX"),"win32"===n.platform&&(n.platform="DOS");var r=n.comment||this.comment||"";t=d.generateWorker(this,n,r)}catch(e){(t=new a("error")).error(e)}return new s(t,n.type||"string",n.mimeType)},generateAsync:function(e,t){return this.generateInternalStream(e).accumulate(t)},generateNodeStream:function(e,t){return(e=e||{}).type||(e.type="nodebuffer"),this.generateInternalStream(e).toNodejsStream(t)}};t.exports=_},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(e,t,n){"use strict";t.exports=e("stream")},{stream:void 0}],17:[function(e,t,n){"use strict";var r=e("./DataReader");function i(e){r.call(this,e);for(var t=0;t<this.data.length;t++)e[t]=255&e[t]}e("../utils").inherits(i,r),i.prototype.byteAt=function(e){return this.data[this.zero+e]},i.prototype.lastIndexOfSignature=function(e){for(var t=e.charCodeAt(0),n=e.charCodeAt(1),r=e.charCodeAt(2),i=e.charCodeAt(3),o=this.length-4;0<=o;--o)if(this.data[o]===t&&this.data[o+1]===n&&this.data[o+2]===r&&this.data[o+3]===i)return o-this.zero;return-1},i.prototype.readAndCheckSignature=function(e){var t=e.charCodeAt(0),n=e.charCodeAt(1),r=e.charCodeAt(2),i=e.charCodeAt(3),o=this.readData(4);return t===o[0]&&n===o[1]&&r===o[2]&&i===o[3]},i.prototype.readData=function(e){if(this.checkOffset(e),0===e)return[];var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=i},{"../utils":32,"./DataReader":18}],18:[function(e,t,n){"use strict";var r=e("../utils");function i(e){this.data=e,this.length=e.length,this.index=0,this.zero=0}i.prototype={checkOffset:function(e){this.checkIndex(this.index+e)},checkIndex:function(e){if(this.length<this.zero+e||e<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+e+"). Corrupted zip ?")},setIndex:function(e){this.checkIndex(e),this.index=e},skip:function(e){this.setIndex(this.index+e)},byteAt:function(){},readInt:function(e){var t,n=0;for(this.checkOffset(e),t=this.index+e-1;t>=this.index;t--)n=(n<<8)+this.byteAt(t);return this.index+=e,n},readString:function(e){return r.transformTo("string",this.readData(e))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var e=this.readInt(4);return new Date(Date.UTC(1980+(e>>25&127),(e>>21&15)-1,e>>16&31,e>>11&31,e>>5&63,(31&e)<<1))}},t.exports=i},{"../utils":32}],19:[function(e,t,n){"use strict";var r=e("./Uint8ArrayReader");function i(e){r.call(this,e)}e("../utils").inherits(i,r),i.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=i},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(e,t,n){"use strict";var r=e("./DataReader");function i(e){r.call(this,e)}e("../utils").inherits(i,r),i.prototype.byteAt=function(e){return this.data.charCodeAt(this.zero+e)},i.prototype.lastIndexOfSignature=function(e){return this.data.lastIndexOf(e)-this.zero},i.prototype.readAndCheckSignature=function(e){return e===this.readData(4)},i.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=i},{"../utils":32,"./DataReader":18}],21:[function(e,t,n){"use strict";var r=e("./ArrayReader");function i(e){r.call(this,e)}e("../utils").inherits(i,r),i.prototype.readData=function(e){if(this.checkOffset(e),0===e)return new Uint8Array(0);var t=this.data.subarray(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=i},{"../utils":32,"./ArrayReader":17}],22:[function(e,t,n){"use strict";var r=e("../utils"),i=e("../support"),o=e("./ArrayReader"),a=e("./StringReader"),s=e("./NodeBufferReader"),c=e("./Uint8ArrayReader");t.exports=function(e){var t=r.getTypeOf(e);return r.checkSupport(t),"string"!==t||i.uint8array?"nodebuffer"===t?new s(e):i.uint8array?new c(r.transformTo("uint8array",e)):new o(r.transformTo("array",e)):new a(e)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(e,t,n){"use strict";n.LOCAL_FILE_HEADER="PK",n.CENTRAL_FILE_HEADER="PK",n.CENTRAL_DIRECTORY_END="PK",n.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK",n.ZIP64_CENTRAL_DIRECTORY_END="PK",n.DATA_DESCRIPTOR="PK\b"},{}],24:[function(e,t,n){"use strict";var r=e("./GenericWorker"),i=e("../utils");function o(e){r.call(this,"ConvertWorker to "+e),this.destType=e}i.inherits(o,r),o.prototype.processChunk=function(e){this.push({data:i.transformTo(this.destType,e.data),meta:e.meta})},t.exports=o},{"../utils":32,"./GenericWorker":28}],25:[function(e,t,n){"use strict";var r=e("./GenericWorker"),i=e("../crc32");function o(){r.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}e("../utils").inherits(o,r),o.prototype.processChunk=function(e){this.streamInfo.crc32=i(e.data,this.streamInfo.crc32||0),this.push(e)},t.exports=o},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(e,t,n){"use strict";var r=e("../utils"),i=e("./GenericWorker");function o(e){i.call(this,"DataLengthProbe for "+e),this.propName=e,this.withStreamInfo(e,0)}r.inherits(o,i),o.prototype.processChunk=function(e){if(e){var t=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=t+e.data.length}i.prototype.processChunk.call(this,e)},t.exports=o},{"../utils":32,"./GenericWorker":28}],27:[function(e,t,n){"use strict";var r=e("../utils"),i=e("./GenericWorker");function o(e){i.call(this,"DataWorker");var t=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,e.then((function(e){t.dataIsReady=!0,t.data=e,t.max=e&&e.length||0,t.type=r.getTypeOf(e),t.isPaused||t._tickAndRepeat()}),(function(e){t.error(e)}))}r.inherits(o,i),o.prototype.cleanUp=function(){i.prototype.cleanUp.call(this),this.data=null},o.prototype.resume=function(){return!!i.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,r.delay(this._tickAndRepeat,[],this)),!0)},o.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(r.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},o.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var e=null,t=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":e=this.data.substring(this.index,t);break;case"uint8array":e=this.data.subarray(this.index,t);break;case"array":case"nodebuffer":e=this.data.slice(this.index,t)}return this.index=t,this.push({data:e,meta:{percent:this.max?this.index/this.max*100:0}})},t.exports=o},{"../utils":32,"./GenericWorker":28}],28:[function(e,t,n){"use strict";function r(e){this.name=e||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}r.prototype={push:function(e){this.emit("data",e)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(e){this.emit("error",e)}return!0},error:function(e){return!this.isFinished&&(this.isPaused?this.generatedError=e:(this.isFinished=!0,this.emit("error",e),this.previous&&this.previous.error(e),this.cleanUp()),!0)},on:function(e,t){return this._listeners[e].push(t),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(e,t){if(this._listeners[e])for(var n=0;n<this._listeners[e].length;n++)this._listeners[e][n].call(this,t)},pipe:function(e){return e.registerPrevious(this)},registerPrevious:function(e){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=e.streamInfo,this.mergeStreamInfo(),this.previous=e;var t=this;return e.on("data",(function(e){t.processChunk(e)})),e.on("end",(function(){t.end()})),e.on("error",(function(e){t.error(e)})),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var e=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),e=!0),this.previous&&this.previous.resume(),!e},flush:function(){},processChunk:function(e){this.push(e)},withStreamInfo:function(e,t){return this.extraStreamInfo[e]=t,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var e in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,e)&&(this.streamInfo[e]=this.extraStreamInfo[e])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var e="Worker "+this.name;return this.previous?this.previous+" -> "+e:e}},t.exports=r},{}],29:[function(e,t,n){"use strict";var r=e("../utils"),i=e("./ConvertWorker"),o=e("./GenericWorker"),a=e("../base64"),s=e("../support"),c=e("../external"),l=null;if(s.nodestream)try{l=e("../nodejs/NodejsStreamOutputAdapter")}catch(e){}function u(e,t,n){var a=t;switch(t){case"blob":case"arraybuffer":a="uint8array";break;case"base64":a="string"}try{this._internalType=a,this._outputType=t,this._mimeType=n,r.checkSupport(a),this._worker=e.pipe(new i(a)),e.lock()}catch(e){this._worker=new o("error"),this._worker.error(e)}}u.prototype={accumulate:function(e){return function(e,t){return new c.Promise((function(n,i){var o=[],s=e._internalType,c=e._outputType,l=e._mimeType;e.on("data",(function(e,n){o.push(e),t&&t(n)})).on("error",(function(e){o=[],i(e)})).on("end",(function(){try{var e=function(e,t,n){switch(e){case"blob":return r.newBlob(r.transformTo("arraybuffer",t),n);case"base64":return a.encode(t);default:return r.transformTo(e,t)}}(c,function(e,t){var n,r=0,i=null,o=0;for(n=0;n<t.length;n++)o+=t[n].length;switch(e){case"string":return t.join("");case"array":return Array.prototype.concat.apply([],t);case"uint8array":for(i=new Uint8Array(o),n=0;n<t.length;n++)i.set(t[n],r),r+=t[n].length;return i;case"nodebuffer":return Buffer.concat(t);default:throw new Error("concat : unsupported type '"+e+"'")}}(s,o),l);n(e)}catch(e){i(e)}o=[]})).resume()}))}(this,e)},on:function(e,t){var n=this;return"data"===e?this._worker.on(e,(function(e){t.call(n,e.data,e.meta)})):this._worker.on(e,(function(){r.delay(t,arguments,n)})),this},resume:function(){return r.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(e){if(r.checkSupport("nodestream"),"nodebuffer"!==this._outputType)throw new Error(this._outputType+" is not supported by this method");return new l(this,{objectMode:"nodebuffer"!==this._outputType},e)}},t.exports=u},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(e,t,n){"use strict";if(n.base64=!0,n.array=!0,n.string=!0,n.arraybuffer="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array,n.nodebuffer="undefined"!=typeof Buffer,n.uint8array="undefined"!=typeof Uint8Array,"undefined"==typeof ArrayBuffer)n.blob=!1;else{var r=new ArrayBuffer(0);try{n.blob=0===new Blob([r],{type:"application/zip"}).size}catch(e){try{var i=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);i.append(r),n.blob=0===i.getBlob("application/zip").size}catch(e){n.blob=!1}}}try{n.nodestream=!!e("readable-stream").Readable}catch(e){n.nodestream=!1}},{"readable-stream":16}],31:[function(e,t,n){"use strict";for(var r=e("./utils"),i=e("./support"),o=e("./nodejsUtils"),a=e("./stream/GenericWorker"),s=new Array(256),c=0;c<256;c++)s[c]=252<=c?6:248<=c?5:240<=c?4:224<=c?3:192<=c?2:1;function l(){a.call(this,"utf-8 decode"),this.leftOver=null}function u(){a.call(this,"utf-8 encode")}s[254]=s[254]=1,n.utf8encode=function(e){return i.nodebuffer?o.newBufferFrom(e,"utf-8"):function(e){var t,n,r,o,a,s=e.length,c=0;for(o=0;o<s;o++)55296==(64512&(n=e.charCodeAt(o)))&&o+1<s&&56320==(64512&(r=e.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(r-56320),o++),c+=n<128?1:n<2048?2:n<65536?3:4;for(t=i.uint8array?new Uint8Array(c):new Array(c),o=a=0;a<c;o++)55296==(64512&(n=e.charCodeAt(o)))&&o+1<s&&56320==(64512&(r=e.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(r-56320),o++),n<128?t[a++]=n:(n<2048?t[a++]=192|n>>>6:(n<65536?t[a++]=224|n>>>12:(t[a++]=240|n>>>18,t[a++]=128|n>>>12&63),t[a++]=128|n>>>6&63),t[a++]=128|63&n);return t}(e)},n.utf8decode=function(e){return i.nodebuffer?r.transformTo("nodebuffer",e).toString("utf-8"):function(e){var t,n,i,o,a=e.length,c=new Array(2*a);for(t=n=0;t<a;)if((i=e[t++])<128)c[n++]=i;else if(4<(o=s[i]))c[n++]=65533,t+=o-1;else{for(i&=2===o?31:3===o?15:7;1<o&&t<a;)i=i<<6|63&e[t++],o--;1<o?c[n++]=65533:i<65536?c[n++]=i:(i-=65536,c[n++]=55296|i>>10&1023,c[n++]=56320|1023&i)}return c.length!==n&&(c.subarray?c=c.subarray(0,n):c.length=n),r.applyFromCharCode(c)}(e=r.transformTo(i.uint8array?"uint8array":"array",e))},r.inherits(l,a),l.prototype.processChunk=function(e){var t=r.transformTo(i.uint8array?"uint8array":"array",e.data);if(this.leftOver&&this.leftOver.length){if(i.uint8array){var o=t;(t=new Uint8Array(o.length+this.leftOver.length)).set(this.leftOver,0),t.set(o,this.leftOver.length)}else t=this.leftOver.concat(t);this.leftOver=null}var a=function(e,t){var n;for((t=t||e.length)>e.length&&(t=e.length),n=t-1;0<=n&&128==(192&e[n]);)n--;return n<0||0===n?t:n+s[e[n]]>t?n:t}(t),c=t;a!==t.length&&(i.uint8array?(c=t.subarray(0,a),this.leftOver=t.subarray(a,t.length)):(c=t.slice(0,a),this.leftOver=t.slice(a,t.length))),this.push({data:n.utf8decode(c),meta:e.meta})},l.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:n.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},n.Utf8DecodeWorker=l,r.inherits(u,a),u.prototype.processChunk=function(e){this.push({data:n.utf8encode(e.data),meta:e.meta})},n.Utf8EncodeWorker=u},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(e,t,n){"use strict";var r=e("./support"),i=e("./base64"),o=e("./nodejsUtils"),a=e("./external");function s(e){return e}function c(e,t){for(var n=0;n<e.length;++n)t[n]=255&e.charCodeAt(n);return t}e("setimmediate"),n.newBlob=function(e,t){n.checkSupport("blob");try{return new Blob([e],{type:t})}catch(n){try{var r=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return r.append(e),r.getBlob(t)}catch(e){throw new Error("Bug : can't construct the Blob.")}}};var l={stringifyByChunk:function(e,t,n){var r=[],i=0,o=e.length;if(o<=n)return String.fromCharCode.apply(null,e);for(;i<o;)"array"===t||"nodebuffer"===t?r.push(String.fromCharCode.apply(null,e.slice(i,Math.min(i+n,o)))):r.push(String.fromCharCode.apply(null,e.subarray(i,Math.min(i+n,o)))),i+=n;return r.join("")},stringifyByChar:function(e){for(var t="",n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return t},applyCanBeUsed:{uint8array:function(){try{return r.uint8array&&1===String.fromCharCode.apply(null,new Uint8Array(1)).length}catch(e){return!1}}(),nodebuffer:function(){try{return r.nodebuffer&&1===String.fromCharCode.apply(null,o.allocBuffer(1)).length}catch(e){return!1}}()}};function u(e){var t=65536,r=n.getTypeOf(e),i=!0;if("uint8array"===r?i=l.applyCanBeUsed.uint8array:"nodebuffer"===r&&(i=l.applyCanBeUsed.nodebuffer),i)for(;1<t;)try{return l.stringifyByChunk(e,r,t)}catch(e){t=Math.floor(t/2)}return l.stringifyByChar(e)}function d(e,t){for(var n=0;n<e.length;n++)t[n]=e[n];return t}n.applyFromCharCode=u;var f={};f.string={string:s,array:function(e){return c(e,new Array(e.length))},arraybuffer:function(e){return f.string.uint8array(e).buffer},uint8array:function(e){return c(e,new Uint8Array(e.length))},nodebuffer:function(e){return c(e,o.allocBuffer(e.length))}},f.array={string:u,array:s,arraybuffer:function(e){return new Uint8Array(e).buffer},uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return o.newBufferFrom(e)}},f.arraybuffer={string:function(e){return u(new Uint8Array(e))},array:function(e){return d(new Uint8Array(e),new Array(e.byteLength))},arraybuffer:s,uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return o.newBufferFrom(new Uint8Array(e))}},f.uint8array={string:u,array:function(e){return d(e,new Array(e.length))},arraybuffer:function(e){return e.buffer},uint8array:s,nodebuffer:function(e){return o.newBufferFrom(e)}},f.nodebuffer={string:u,array:function(e){return d(e,new Array(e.length))},arraybuffer:function(e){return f.nodebuffer.uint8array(e).buffer},uint8array:function(e){return d(e,new Uint8Array(e.length))},nodebuffer:s},n.transformTo=function(e,t){if(t=t||"",!e)return t;n.checkSupport(e);var r=n.getTypeOf(t);return f[r][e](t)},n.resolve=function(e){for(var t=e.split("/"),n=[],r=0;r<t.length;r++){var i=t[r];"."===i||""===i&&0!==r&&r!==t.length-1||(".."===i?n.pop():n.push(i))}return n.join("/")},n.getTypeOf=function(e){return"string"==typeof e?"string":"[object Array]"===Object.prototype.toString.call(e)?"array":r.nodebuffer&&o.isBuffer(e)?"nodebuffer":r.uint8array&&e instanceof Uint8Array?"uint8array":r.arraybuffer&&e instanceof ArrayBuffer?"arraybuffer":void 0},n.checkSupport=function(e){if(!r[e.toLowerCase()])throw new Error(e+" is not supported by this platform")},n.MAX_VALUE_16BITS=65535,n.MAX_VALUE_32BITS=-1,n.pretty=function(e){var t,n,r="";for(n=0;n<(e||"").length;n++)r+="\\x"+((t=e.charCodeAt(n))<16?"0":"")+t.toString(16).toUpperCase();return r},n.delay=function(e,t,n){setImmediate((function(){e.apply(n||null,t||[])}))},n.inherits=function(e,t){function n(){}n.prototype=t.prototype,e.prototype=new n},n.extend=function(){var e,t,n={};for(e=0;e<arguments.length;e++)for(t in arguments[e])Object.prototype.hasOwnProperty.call(arguments[e],t)&&void 0===n[t]&&(n[t]=arguments[e][t]);return n},n.prepareContent=function(e,t,o,s,l){return a.Promise.resolve(t).then((function(e){return r.blob&&(e instanceof Blob||-1!==["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(e)))&&"undefined"!=typeof FileReader?new a.Promise((function(t,n){var r=new FileReader;r.onload=function(e){t(e.target.result)},r.onerror=function(e){n(e.target.error)},r.readAsArrayBuffer(e)})):e})).then((function(t){var u=n.getTypeOf(t);return u?("arraybuffer"===u?t=n.transformTo("uint8array",t):"string"===u&&(l?t=i.decode(t):o&&!0!==s&&(t=function(e){return c(e,r.uint8array?new Uint8Array(e.length):new Array(e.length))}(t))),t):a.Promise.reject(new Error("Can't read the data of '"+e+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))}))}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(e,t,n){"use strict";var r=e("./reader/readerFor"),i=e("./utils"),o=e("./signature"),a=e("./zipEntry"),s=e("./support");function c(e){this.files=[],this.loadOptions=e}c.prototype={checkSignature:function(e){if(!this.reader.readAndCheckSignature(e)){this.reader.index-=4;var t=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+i.pretty(t)+", expected "+i.pretty(e)+")")}},isSignature:function(e,t){var n=this.reader.index;this.reader.setIndex(e);var r=this.reader.readString(4)===t;return this.reader.setIndex(n),r},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var e=this.reader.readData(this.zipCommentLength),t=s.uint8array?"uint8array":"array",n=i.transformTo(t,e);this.zipComment=this.loadOptions.decodeFileName(n)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var e,t,n,r=this.zip64EndOfCentralSize-44;0<r;)e=this.reader.readInt(2),t=this.reader.readInt(4),n=this.reader.readData(t),this.zip64ExtensibleData[e]={id:e,length:t,value:n}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var e,t;for(e=0;e<this.files.length;e++)t=this.files[e],this.reader.setIndex(t.localHeaderOffset),this.checkSignature(o.LOCAL_FILE_HEADER),t.readLocalPart(this.reader),t.handleUTF8(),t.processAttributes()},readCentralDir:function(){var e;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(o.CENTRAL_FILE_HEADER);)(e=new a({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(e);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var e=this.reader.lastIndexOfSignature(o.CENTRAL_DIRECTORY_END);if(e<0)throw this.isSignature(0,o.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(e);var t=e;if(this.checkSignature(o.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===i.MAX_VALUE_16BITS||this.diskWithCentralDirStart===i.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===i.MAX_VALUE_16BITS||this.centralDirRecords===i.MAX_VALUE_16BITS||this.centralDirSize===i.MAX_VALUE_32BITS||this.centralDirOffset===i.MAX_VALUE_32BITS){if(this.zip64=!0,(e=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(e),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,o.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var n=this.centralDirOffset+this.centralDirSize;this.zip64&&(n+=20,n+=12+this.zip64EndOfCentralSize);var r=t-n;if(0<r)this.isSignature(t,o.CENTRAL_FILE_HEADER)||(this.reader.zero=r);else if(r<0)throw new Error("Corrupted zip: missing "+Math.abs(r)+" bytes.")},prepareReader:function(e){this.reader=r(e)},load:function(e){this.prepareReader(e),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},t.exports=c},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(e,t,n){"use strict";var r=e("./reader/readerFor"),i=e("./utils"),o=e("./compressedObject"),a=e("./crc32"),s=e("./utf8"),c=e("./compressions"),l=e("./support");function u(e,t){this.options=e,this.loadOptions=t}u.prototype={isEncrypted:function(){return!(1&~this.bitFlag)},useUTF8:function(){return!(2048&~this.bitFlag)},readLocalPart:function(e){var t,n;if(e.skip(22),this.fileNameLength=e.readInt(2),n=e.readInt(2),this.fileName=e.readData(this.fileNameLength),e.skip(n),-1===this.compressedSize||-1===this.uncompressedSize)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(null===(t=function(e){for(var t in c)if(Object.prototype.hasOwnProperty.call(c,t)&&c[t].magic===e)return c[t];return null}(this.compressionMethod)))throw new Error("Corrupted zip : compression "+i.pretty(this.compressionMethod)+" unknown (inner file : "+i.transformTo("string",this.fileName)+")");this.decompressed=new o(this.compressedSize,this.uncompressedSize,this.crc32,t,e.readData(this.compressedSize))},readCentralPart:function(e){this.versionMadeBy=e.readInt(2),e.skip(2),this.bitFlag=e.readInt(2),this.compressionMethod=e.readString(2),this.date=e.readDate(),this.crc32=e.readInt(4),this.compressedSize=e.readInt(4),this.uncompressedSize=e.readInt(4);var t=e.readInt(2);if(this.extraFieldsLength=e.readInt(2),this.fileCommentLength=e.readInt(2),this.diskNumberStart=e.readInt(2),this.internalFileAttributes=e.readInt(2),this.externalFileAttributes=e.readInt(4),this.localHeaderOffset=e.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");e.skip(t),this.readExtraFields(e),this.parseZIP64ExtraField(e),this.fileComment=e.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var e=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),0==e&&(this.dosPermissions=63&this.externalFileAttributes),3==e&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||"/"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var e=r(this.extraFields[1].value);this.uncompressedSize===i.MAX_VALUE_32BITS&&(this.uncompressedSize=e.readInt(8)),this.compressedSize===i.MAX_VALUE_32BITS&&(this.compressedSize=e.readInt(8)),this.localHeaderOffset===i.MAX_VALUE_32BITS&&(this.localHeaderOffset=e.readInt(8)),this.diskNumberStart===i.MAX_VALUE_32BITS&&(this.diskNumberStart=e.readInt(4))}},readExtraFields:function(e){var t,n,r,i=e.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});e.index+4<i;)t=e.readInt(2),n=e.readInt(2),r=e.readData(n),this.extraFields[t]={id:t,length:n,value:r};e.setIndex(i)},handleUTF8:function(){var e=l.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=s.utf8decode(this.fileName),this.fileCommentStr=s.utf8decode(this.fileComment);else{var t=this.findExtraFieldUnicodePath();if(null!==t)this.fileNameStr=t;else{var n=i.transformTo(e,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(n)}var r=this.findExtraFieldUnicodeComment();if(null!==r)this.fileCommentStr=r;else{var o=i.transformTo(e,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(o)}}},findExtraFieldUnicodePath:function(){var e=this.extraFields[28789];if(e){var t=r(e.value);return 1!==t.readInt(1)||a(this.fileName)!==t.readInt(4)?null:s.utf8decode(t.readData(e.length-5))}return null},findExtraFieldUnicodeComment:function(){var e=this.extraFields[25461];if(e){var t=r(e.value);return 1!==t.readInt(1)||a(this.fileComment)!==t.readInt(4)?null:s.utf8decode(t.readData(e.length-5))}return null}},t.exports=u},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(e,t,n){"use strict";function r(e,t,n){this.name=e,this.dir=n.dir,this.date=n.date,this.comment=n.comment,this.unixPermissions=n.unixPermissions,this.dosPermissions=n.dosPermissions,this._data=t,this._dataBinary=n.binary,this.options={compression:n.compression,compressionOptions:n.compressionOptions}}var i=e("./stream/StreamHelper"),o=e("./stream/DataWorker"),a=e("./utf8"),s=e("./compressedObject"),c=e("./stream/GenericWorker");r.prototype={internalStream:function(e){var t=null,n="string";try{if(!e)throw new Error("No output type specified.");var r="string"===(n=e.toLowerCase())||"text"===n;"binarystring"!==n&&"text"!==n||(n="string"),t=this._decompressWorker();var o=!this._dataBinary;o&&!r&&(t=t.pipe(new a.Utf8EncodeWorker)),!o&&r&&(t=t.pipe(new a.Utf8DecodeWorker))}catch(e){(t=new c("error")).error(e)}return new i(t,n,"")},async:function(e,t){return this.internalStream(e).accumulate(t)},nodeStream:function(e,t){return this.internalStream(e||"nodebuffer").toNodejsStream(t)},_compressWorker:function(e,t){if(this._data instanceof s&&this._data.compression.magic===e.magic)return this._data.getCompressedWorker();var n=this._decompressWorker();return this._dataBinary||(n=n.pipe(new a.Utf8EncodeWorker)),s.createWorkerFrom(n,e,t)},_decompressWorker:function(){return this._data instanceof s?this._data.getContentWorker():this._data instanceof c?this._data:new o(this._data)}};for(var l=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],u=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},d=0;d<l.length;d++)r.prototype[l[d]]=u;t.exports=r},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(e,t,r){(function(e){"use strict";var n,r,i=e.MutationObserver||e.WebKitMutationObserver;if(i){var o=0,a=new i(u),s=e.document.createTextNode("");a.observe(s,{characterData:!0}),n=function(){s.data=o=++o%2}}else if(e.setImmediate||void 0===e.MessageChannel)n="document"in e&&"onreadystatechange"in e.document.createElement("script")?function(){var t=e.document.createElement("script");t.onreadystatechange=function(){u(),t.onreadystatechange=null,t.parentNode.removeChild(t),t=null},e.document.documentElement.appendChild(t)}:function(){setTimeout(u,0)};else{var c=new e.MessageChannel;c.port1.onmessage=u,n=function(){c.port2.postMessage(0)}}var l=[];function u(){var e,t;r=!0;for(var n=l.length;n;){for(t=l,l=[],e=-1;++e<n;)t[e]();n=l.length}r=!1}t.exports=function(e){1!==l.push(e)||r||n()}}).call(this,void 0!==n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],37:[function(e,t,n){"use strict";var r=e("immediate");function i(){}var o={},a=["REJECTED"],s=["FULFILLED"],c=["PENDING"];function l(e){if("function"!=typeof e)throw new TypeError("resolver must be a function");this.state=c,this.queue=[],this.outcome=void 0,e!==i&&h(this,e)}function u(e,t,n){this.promise=e,"function"==typeof t&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),"function"==typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}function d(e,t,n){r((function(){var r;try{r=t(n)}catch(r){return o.reject(e,r)}r===e?o.reject(e,new TypeError("Cannot resolve promise with itself")):o.resolve(e,r)}))}function f(e){var t=e&&e.then;if(e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof t)return function(){t.apply(e,arguments)}}function h(e,t){var n=!1;function r(t){n||(n=!0,o.reject(e,t))}function i(t){n||(n=!0,o.resolve(e,t))}var a=p((function(){t(i,r)}));"error"===a.status&&r(a.value)}function p(e,t){var n={};try{n.value=e(t),n.status="success"}catch(e){n.status="error",n.value=e}return n}(t.exports=l).prototype.finally=function(e){if("function"!=typeof e)return this;var t=this.constructor;return this.then((function(n){return t.resolve(e()).then((function(){return n}))}),(function(n){return t.resolve(e()).then((function(){throw n}))}))},l.prototype.catch=function(e){return this.then(null,e)},l.prototype.then=function(e,t){if("function"!=typeof e&&this.state===s||"function"!=typeof t&&this.state===a)return this;var n=new this.constructor(i);return this.state!==c?d(n,this.state===s?e:t,this.outcome):this.queue.push(new u(n,e,t)),n},u.prototype.callFulfilled=function(e){o.resolve(this.promise,e)},u.prototype.otherCallFulfilled=function(e){d(this.promise,this.onFulfilled,e)},u.prototype.callRejected=function(e){o.reject(this.promise,e)},u.prototype.otherCallRejected=function(e){d(this.promise,this.onRejected,e)},o.resolve=function(e,t){var n=p(f,t);if("error"===n.status)return o.reject(e,n.value);var r=n.value;if(r)h(e,r);else{e.state=s,e.outcome=t;for(var i=-1,a=e.queue.length;++i<a;)e.queue[i].callFulfilled(t)}return e},o.reject=function(e,t){e.state=a,e.outcome=t;for(var n=-1,r=e.queue.length;++n<r;)e.queue[n].callRejected(t);return e},l.resolve=function(e){return e instanceof this?e:o.resolve(new this(i),e)},l.reject=function(e){var t=new this(i);return o.reject(t,e)},l.all=function(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var n=e.length,r=!1;if(!n)return this.resolve([]);for(var a=new Array(n),s=0,c=-1,l=new this(i);++c<n;)u(e[c],c);return l;function u(e,i){t.resolve(e).then((function(e){a[i]=e,++s!==n||r||(r=!0,o.resolve(l,a))}),(function(e){r||(r=!0,o.reject(l,e))}))}},l.race=function(e){if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var t=e.length,n=!1;if(!t)return this.resolve([]);for(var r,a=-1,s=new this(i);++a<t;)r=e[a],this.resolve(r).then((function(e){n||(n=!0,o.resolve(s,e))}),(function(e){n||(n=!0,o.reject(s,e))}));return s}},{immediate:36}],38:[function(e,t,n){"use strict";var r={};(0,e("./lib/utils/common").assign)(r,e("./lib/deflate"),e("./lib/inflate"),e("./lib/zlib/constants")),t.exports=r},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(e,t,n){"use strict";var r=e("./zlib/deflate"),i=e("./utils/common"),o=e("./utils/strings"),a=e("./zlib/messages"),s=e("./zlib/zstream"),c=Object.prototype.toString,l=0,u=-1,d=0,f=8;function h(e){if(!(this instanceof h))return new h(e);this.options=i.assign({level:u,method:f,chunkSize:16384,windowBits:15,memLevel:8,strategy:d,to:""},e||{});var t=this.options;t.raw&&0<t.windowBits?t.windowBits=-t.windowBits:t.gzip&&0<t.windowBits&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new s,this.strm.avail_out=0;var n=r.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(n!==l)throw new Error(a[n]);if(t.header&&r.deflateSetHeader(this.strm,t.header),t.dictionary){var p;if(p="string"==typeof t.dictionary?o.string2buf(t.dictionary):"[object ArrayBuffer]"===c.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,(n=r.deflateSetDictionary(this.strm,p))!==l)throw new Error(a[n]);this._dict_set=!0}}function p(e,t){var n=new h(t);if(n.push(e,!0),n.err)throw n.msg||a[n.err];return n.result}h.prototype.push=function(e,t){var n,a,s=this.strm,u=this.options.chunkSize;if(this.ended)return!1;a=t===~~t?t:!0===t?4:0,"string"==typeof e?s.input=o.string2buf(e):"[object ArrayBuffer]"===c.call(e)?s.input=new Uint8Array(e):s.input=e,s.next_in=0,s.avail_in=s.input.length;do{if(0===s.avail_out&&(s.output=new i.Buf8(u),s.next_out=0,s.avail_out=u),1!==(n=r.deflate(s,a))&&n!==l)return this.onEnd(n),!(this.ended=!0);0!==s.avail_out&&(0!==s.avail_in||4!==a&&2!==a)||("string"===this.options.to?this.onData(o.buf2binstring(i.shrinkBuf(s.output,s.next_out))):this.onData(i.shrinkBuf(s.output,s.next_out)))}while((0<s.avail_in||0===s.avail_out)&&1!==n);return 4===a?(n=r.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===l):2!==a||(this.onEnd(l),!(s.avail_out=0))},h.prototype.onData=function(e){this.chunks.push(e)},h.prototype.onEnd=function(e){e===l&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},n.Deflate=h,n.deflate=p,n.deflateRaw=function(e,t){return(t=t||{}).raw=!0,p(e,t)},n.gzip=function(e,t){return(t=t||{}).gzip=!0,p(e,t)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(e,t,n){"use strict";var r=e("./zlib/inflate"),i=e("./utils/common"),o=e("./utils/strings"),a=e("./zlib/constants"),s=e("./zlib/messages"),c=e("./zlib/zstream"),l=e("./zlib/gzheader"),u=Object.prototype.toString;function d(e){if(!(this instanceof d))return new d(e);this.options=i.assign({chunkSize:16384,windowBits:0,to:""},e||{});var t=this.options;t.raw&&0<=t.windowBits&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(0<=t.windowBits&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),15<t.windowBits&&t.windowBits<48&&!(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new c,this.strm.avail_out=0;var n=r.inflateInit2(this.strm,t.windowBits);if(n!==a.Z_OK)throw new Error(s[n]);this.header=new l,r.inflateGetHeader(this.strm,this.header)}function f(e,t){var n=new d(t);if(n.push(e,!0),n.err)throw n.msg||s[n.err];return n.result}d.prototype.push=function(e,t){var n,s,c,l,d,f,h=this.strm,p=this.options.chunkSize,m=this.options.dictionary,v=!1;if(this.ended)return!1;s=t===~~t?t:!0===t?a.Z_FINISH:a.Z_NO_FLUSH,"string"==typeof e?h.input=o.binstring2buf(e):"[object ArrayBuffer]"===u.call(e)?h.input=new Uint8Array(e):h.input=e,h.next_in=0,h.avail_in=h.input.length;do{if(0===h.avail_out&&(h.output=new i.Buf8(p),h.next_out=0,h.avail_out=p),(n=r.inflate(h,a.Z_NO_FLUSH))===a.Z_NEED_DICT&&m&&(f="string"==typeof m?o.string2buf(m):"[object ArrayBuffer]"===u.call(m)?new Uint8Array(m):m,n=r.inflateSetDictionary(this.strm,f)),n===a.Z_BUF_ERROR&&!0===v&&(n=a.Z_OK,v=!1),n!==a.Z_STREAM_END&&n!==a.Z_OK)return this.onEnd(n),!(this.ended=!0);h.next_out&&(0!==h.avail_out&&n!==a.Z_STREAM_END&&(0!==h.avail_in||s!==a.Z_FINISH&&s!==a.Z_SYNC_FLUSH)||("string"===this.options.to?(c=o.utf8border(h.output,h.next_out),l=h.next_out-c,d=o.buf2string(h.output,c),h.next_out=l,h.avail_out=p-l,l&&i.arraySet(h.output,h.output,c,l,0),this.onData(d)):this.onData(i.shrinkBuf(h.output,h.next_out)))),0===h.avail_in&&0===h.avail_out&&(v=!0)}while((0<h.avail_in||0===h.avail_out)&&n!==a.Z_STREAM_END);return n===a.Z_STREAM_END&&(s=a.Z_FINISH),s===a.Z_FINISH?(n=r.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===a.Z_OK):s!==a.Z_SYNC_FLUSH||(this.onEnd(a.Z_OK),!(h.avail_out=0))},d.prototype.onData=function(e){this.chunks.push(e)},d.prototype.onEnd=function(e){e===a.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},n.Inflate=d,n.inflate=f,n.inflateRaw=function(e,t){return(t=t||{}).raw=!0,f(e,t)},n.ungzip=f},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(e,t,n){"use strict";var r="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;n.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var n=t.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(var r in n)n.hasOwnProperty(r)&&(e[r]=n[r])}}return e},n.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var i={arraySet:function(e,t,n,r,i){if(t.subarray&&e.subarray)e.set(t.subarray(n,n+r),i);else for(var o=0;o<r;o++)e[i+o]=t[n+o]},flattenChunks:function(e){var t,n,r,i,o,a;for(t=r=0,n=e.length;t<n;t++)r+=e[t].length;for(a=new Uint8Array(r),t=i=0,n=e.length;t<n;t++)o=e[t],a.set(o,i),i+=o.length;return a}},o={arraySet:function(e,t,n,r,i){for(var o=0;o<r;o++)e[i+o]=t[n+o]},flattenChunks:function(e){return[].concat.apply([],e)}};n.setTyped=function(e){e?(n.Buf8=Uint8Array,n.Buf16=Uint16Array,n.Buf32=Int32Array,n.assign(n,i)):(n.Buf8=Array,n.Buf16=Array,n.Buf32=Array,n.assign(n,o))},n.setTyped(r)},{}],42:[function(e,t,n){"use strict";var r=e("./common"),i=!0,o=!0;try{String.fromCharCode.apply(null,[0])}catch(e){i=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){o=!1}for(var a=new r.Buf8(256),s=0;s<256;s++)a[s]=252<=s?6:248<=s?5:240<=s?4:224<=s?3:192<=s?2:1;function c(e,t){if(t<65537&&(e.subarray&&o||!e.subarray&&i))return String.fromCharCode.apply(null,r.shrinkBuf(e,t));for(var n="",a=0;a<t;a++)n+=String.fromCharCode(e[a]);return n}a[254]=a[254]=1,n.string2buf=function(e){var t,n,i,o,a,s=e.length,c=0;for(o=0;o<s;o++)55296==(64512&(n=e.charCodeAt(o)))&&o+1<s&&56320==(64512&(i=e.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(i-56320),o++),c+=n<128?1:n<2048?2:n<65536?3:4;for(t=new r.Buf8(c),o=a=0;a<c;o++)55296==(64512&(n=e.charCodeAt(o)))&&o+1<s&&56320==(64512&(i=e.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(i-56320),o++),n<128?t[a++]=n:(n<2048?t[a++]=192|n>>>6:(n<65536?t[a++]=224|n>>>12:(t[a++]=240|n>>>18,t[a++]=128|n>>>12&63),t[a++]=128|n>>>6&63),t[a++]=128|63&n);return t},n.buf2binstring=function(e){return c(e,e.length)},n.binstring2buf=function(e){for(var t=new r.Buf8(e.length),n=0,i=t.length;n<i;n++)t[n]=e.charCodeAt(n);return t},n.buf2string=function(e,t){var n,r,i,o,s=t||e.length,l=new Array(2*s);for(n=r=0;n<s;)if((i=e[n++])<128)l[r++]=i;else if(4<(o=a[i]))l[r++]=65533,n+=o-1;else{for(i&=2===o?31:3===o?15:7;1<o&&n<s;)i=i<<6|63&e[n++],o--;1<o?l[r++]=65533:i<65536?l[r++]=i:(i-=65536,l[r++]=55296|i>>10&1023,l[r++]=56320|1023&i)}return c(l,r)},n.utf8border=function(e,t){var n;for((t=t||e.length)>e.length&&(t=e.length),n=t-1;0<=n&&128==(192&e[n]);)n--;return n<0||0===n?t:n+a[e[n]]>t?n:t}},{"./common":41}],43:[function(e,t,n){"use strict";t.exports=function(e,t,n,r){for(var i=65535&e,o=e>>>16&65535,a=0;0!==n;){for(n-=a=2e3<n?2e3:n;o=o+(i=i+t[r++]|0)|0,--a;);i%=65521,o%=65521}return i|o<<16}},{}],44:[function(e,t,n){"use strict";t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(e,t,n){"use strict";var r=function(){for(var e,t=[],n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}();t.exports=function(e,t,n,i){var o=r,a=i+n;e^=-1;for(var s=i;s<a;s++)e=e>>>8^o[255&(e^t[s])];return~e}},{}],46:[function(e,t,n){"use strict";var r,i=e("../utils/common"),o=e("./trees"),a=e("./adler32"),s=e("./crc32"),c=e("./messages"),l=0,u=0,d=-2,f=2,h=8,p=286,m=30,v=19,g=2*p+1,_=15,y=3,b=258,w=b+y+1,k=42,E=113;function x(e,t){return e.msg=c[t],t}function S(e){return(e<<1)-(4<e?9:0)}function A(e){for(var t=e.length;0<=--t;)e[t]=0}function O(e){var t=e.state,n=t.pending;n>e.avail_out&&(n=e.avail_out),0!==n&&(i.arraySet(e.output,t.pending_buf,t.pending_out,n,e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,0===t.pending&&(t.pending_out=0))}function T(e,t){o._tr_flush_block(e,0<=e.block_start?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,O(e.strm)}function C(e,t){e.pending_buf[e.pending++]=t}function N(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function I(e,t){var n,r,i=e.max_chain_length,o=e.strstart,a=e.prev_length,s=e.nice_match,c=e.strstart>e.w_size-w?e.strstart-(e.w_size-w):0,l=e.window,u=e.w_mask,d=e.prev,f=e.strstart+b,h=l[o+a-1],p=l[o+a];e.prev_length>=e.good_match&&(i>>=2),s>e.lookahead&&(s=e.lookahead);do{if(l[(n=t)+a]===p&&l[n+a-1]===h&&l[n]===l[o]&&l[++n]===l[o+1]){o+=2,n++;do{}while(l[++o]===l[++n]&&l[++o]===l[++n]&&l[++o]===l[++n]&&l[++o]===l[++n]&&l[++o]===l[++n]&&l[++o]===l[++n]&&l[++o]===l[++n]&&l[++o]===l[++n]&&o<f);if(r=b-(f-o),o=f-b,a<r){if(e.match_start=t,s<=(a=r))break;h=l[o+a-1],p=l[o+a]}}}while((t=d[t&u])>c&&0!=--i);return a<=e.lookahead?a:e.lookahead}function R(e){var t,n,r,o,c,l,u,d,f,h,p=e.w_size;do{if(o=e.window_size-e.lookahead-e.strstart,e.strstart>=p+(p-w)){for(i.arraySet(e.window,e.window,p,p,0),e.match_start-=p,e.strstart-=p,e.block_start-=p,t=n=e.hash_size;r=e.head[--t],e.head[t]=p<=r?r-p:0,--n;);for(t=n=p;r=e.prev[--t],e.prev[t]=p<=r?r-p:0,--n;);o+=p}if(0===e.strm.avail_in)break;if(l=e.strm,u=e.window,d=e.strstart+e.lookahead,h=void 0,(f=o)<(h=l.avail_in)&&(h=f),n=0===h?0:(l.avail_in-=h,i.arraySet(u,l.input,l.next_in,h,d),1===l.state.wrap?l.adler=a(l.adler,u,h,d):2===l.state.wrap&&(l.adler=s(l.adler,u,h,d)),l.next_in+=h,l.total_in+=h,h),e.lookahead+=n,e.lookahead+e.insert>=y)for(c=e.strstart-e.insert,e.ins_h=e.window[c],e.ins_h=(e.ins_h<<e.hash_shift^e.window[c+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[c+y-1])&e.hash_mask,e.prev[c&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=c,c++,e.insert--,!(e.lookahead+e.insert<y)););}while(e.lookahead<w&&0!==e.strm.avail_in)}function P(e,t){for(var n,r;;){if(e.lookahead<w){if(R(e),e.lookahead<w&&t===l)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=y&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+y-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==n&&e.strstart-n<=e.w_size-w&&(e.match_length=I(e,n)),e.match_length>=y)if(r=o._tr_tally(e,e.strstart-e.match_start,e.match_length-y),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=y){for(e.match_length--;e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+y-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart,0!=--e.match_length;);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else r=o._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(r&&(T(e,!1),0===e.strm.avail_out))return 1}return e.insert=e.strstart<y-1?e.strstart:y-1,4===t?(T(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(T(e,!1),0===e.strm.avail_out)?1:2}function B(e,t){for(var n,r,i;;){if(e.lookahead<w){if(R(e),e.lookahead<w&&t===l)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=y&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+y-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=y-1,0!==n&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-w&&(e.match_length=I(e,n),e.match_length<=5&&(1===e.strategy||e.match_length===y&&4096<e.strstart-e.match_start)&&(e.match_length=y-1)),e.prev_length>=y&&e.match_length<=e.prev_length){for(i=e.strstart+e.lookahead-y,r=o._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-y),e.lookahead-=e.prev_length-1,e.prev_length-=2;++e.strstart<=i&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+y-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!=--e.prev_length;);if(e.match_available=0,e.match_length=y-1,e.strstart++,r&&(T(e,!1),0===e.strm.avail_out))return 1}else if(e.match_available){if((r=o._tr_tally(e,0,e.window[e.strstart-1]))&&T(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return 1}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(r=o._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<y-1?e.strstart:y-1,4===t?(T(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(T(e,!1),0===e.strm.avail_out)?1:2}function L(e,t,n,r,i){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=r,this.func=i}function D(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=h,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new i.Buf16(2*g),this.dyn_dtree=new i.Buf16(2*(2*m+1)),this.bl_tree=new i.Buf16(2*(2*v+1)),A(this.dyn_ltree),A(this.dyn_dtree),A(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new i.Buf16(_+1),this.heap=new i.Buf16(2*p+1),A(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new i.Buf16(2*p+1),A(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function M(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=f,(t=e.state).pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?k:E,e.adler=2===t.wrap?0:1,t.last_flush=l,o._tr_init(t),u):x(e,d)}function z(e){var t=M(e);return t===u&&function(e){e.window_size=2*e.w_size,A(e.head),e.max_lazy_match=r[e.level].max_lazy,e.good_match=r[e.level].good_length,e.nice_match=r[e.level].nice_length,e.max_chain_length=r[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=y-1,e.match_available=0,e.ins_h=0}(e.state),t}function j(e,t,n,r,o,a){if(!e)return d;var s=1;if(-1===t&&(t=6),r<0?(s=0,r=-r):15<r&&(s=2,r-=16),o<1||9<o||n!==h||r<8||15<r||t<0||9<t||a<0||4<a)return x(e,d);8===r&&(r=9);var c=new D;return(e.state=c).strm=e,c.wrap=s,c.gzhead=null,c.w_bits=r,c.w_size=1<<c.w_bits,c.w_mask=c.w_size-1,c.hash_bits=o+7,c.hash_size=1<<c.hash_bits,c.hash_mask=c.hash_size-1,c.hash_shift=~~((c.hash_bits+y-1)/y),c.window=new i.Buf8(2*c.w_size),c.head=new i.Buf16(c.hash_size),c.prev=new i.Buf16(c.w_size),c.lit_bufsize=1<<o+6,c.pending_buf_size=4*c.lit_bufsize,c.pending_buf=new i.Buf8(c.pending_buf_size),c.d_buf=1*c.lit_bufsize,c.l_buf=3*c.lit_bufsize,c.level=t,c.strategy=a,c.method=n,z(e)}r=[new L(0,0,0,0,(function(e,t){var n=65535;for(n>e.pending_buf_size-5&&(n=e.pending_buf_size-5);;){if(e.lookahead<=1){if(R(e),0===e.lookahead&&t===l)return 1;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var r=e.block_start+n;if((0===e.strstart||e.strstart>=r)&&(e.lookahead=e.strstart-r,e.strstart=r,T(e,!1),0===e.strm.avail_out))return 1;if(e.strstart-e.block_start>=e.w_size-w&&(T(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(T(e,!0),0===e.strm.avail_out?3:4):(e.strstart>e.block_start&&(T(e,!1),e.strm.avail_out),1)})),new L(4,4,8,4,P),new L(4,5,16,8,P),new L(4,6,32,32,P),new L(4,4,16,16,B),new L(8,16,32,32,B),new L(8,16,128,128,B),new L(8,32,128,256,B),new L(32,128,258,1024,B),new L(32,258,258,4096,B)],n.deflateInit=function(e,t){return j(e,t,h,15,8,0)},n.deflateInit2=j,n.deflateReset=z,n.deflateResetKeep=M,n.deflateSetHeader=function(e,t){return e&&e.state?2!==e.state.wrap?d:(e.state.gzhead=t,u):d},n.deflate=function(e,t){var n,i,a,c;if(!e||!e.state||5<t||t<0)return e?x(e,d):d;if(i=e.state,!e.output||!e.input&&0!==e.avail_in||666===i.status&&4!==t)return x(e,0===e.avail_out?-5:d);if(i.strm=e,n=i.last_flush,i.last_flush=t,i.status===k)if(2===i.wrap)e.adler=0,C(i,31),C(i,139),C(i,8),i.gzhead?(C(i,(i.gzhead.text?1:0)+(i.gzhead.hcrc?2:0)+(i.gzhead.extra?4:0)+(i.gzhead.name?8:0)+(i.gzhead.comment?16:0)),C(i,255&i.gzhead.time),C(i,i.gzhead.time>>8&255),C(i,i.gzhead.time>>16&255),C(i,i.gzhead.time>>24&255),C(i,9===i.level?2:2<=i.strategy||i.level<2?4:0),C(i,255&i.gzhead.os),i.gzhead.extra&&i.gzhead.extra.length&&(C(i,255&i.gzhead.extra.length),C(i,i.gzhead.extra.length>>8&255)),i.gzhead.hcrc&&(e.adler=s(e.adler,i.pending_buf,i.pending,0)),i.gzindex=0,i.status=69):(C(i,0),C(i,0),C(i,0),C(i,0),C(i,0),C(i,9===i.level?2:2<=i.strategy||i.level<2?4:0),C(i,3),i.status=E);else{var f=h+(i.w_bits-8<<4)<<8;f|=(2<=i.strategy||i.level<2?0:i.level<6?1:6===i.level?2:3)<<6,0!==i.strstart&&(f|=32),f+=31-f%31,i.status=E,N(i,f),0!==i.strstart&&(N(i,e.adler>>>16),N(i,65535&e.adler)),e.adler=1}if(69===i.status)if(i.gzhead.extra){for(a=i.pending;i.gzindex<(65535&i.gzhead.extra.length)&&(i.pending!==i.pending_buf_size||(i.gzhead.hcrc&&i.pending>a&&(e.adler=s(e.adler,i.pending_buf,i.pending-a,a)),O(e),a=i.pending,i.pending!==i.pending_buf_size));)C(i,255&i.gzhead.extra[i.gzindex]),i.gzindex++;i.gzhead.hcrc&&i.pending>a&&(e.adler=s(e.adler,i.pending_buf,i.pending-a,a)),i.gzindex===i.gzhead.extra.length&&(i.gzindex=0,i.status=73)}else i.status=73;if(73===i.status)if(i.gzhead.name){a=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>a&&(e.adler=s(e.adler,i.pending_buf,i.pending-a,a)),O(e),a=i.pending,i.pending===i.pending_buf_size)){c=1;break}c=i.gzindex<i.gzhead.name.length?255&i.gzhead.name.charCodeAt(i.gzindex++):0,C(i,c)}while(0!==c);i.gzhead.hcrc&&i.pending>a&&(e.adler=s(e.adler,i.pending_buf,i.pending-a,a)),0===c&&(i.gzindex=0,i.status=91)}else i.status=91;if(91===i.status)if(i.gzhead.comment){a=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>a&&(e.adler=s(e.adler,i.pending_buf,i.pending-a,a)),O(e),a=i.pending,i.pending===i.pending_buf_size)){c=1;break}c=i.gzindex<i.gzhead.comment.length?255&i.gzhead.comment.charCodeAt(i.gzindex++):0,C(i,c)}while(0!==c);i.gzhead.hcrc&&i.pending>a&&(e.adler=s(e.adler,i.pending_buf,i.pending-a,a)),0===c&&(i.status=103)}else i.status=103;if(103===i.status&&(i.gzhead.hcrc?(i.pending+2>i.pending_buf_size&&O(e),i.pending+2<=i.pending_buf_size&&(C(i,255&e.adler),C(i,e.adler>>8&255),e.adler=0,i.status=E)):i.status=E),0!==i.pending){if(O(e),0===e.avail_out)return i.last_flush=-1,u}else if(0===e.avail_in&&S(t)<=S(n)&&4!==t)return x(e,-5);if(666===i.status&&0!==e.avail_in)return x(e,-5);if(0!==e.avail_in||0!==i.lookahead||t!==l&&666!==i.status){var p=2===i.strategy?function(e,t){for(var n;;){if(0===e.lookahead&&(R(e),0===e.lookahead)){if(t===l)return 1;break}if(e.match_length=0,n=o._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(T(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(T(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(T(e,!1),0===e.strm.avail_out)?1:2}(i,t):3===i.strategy?function(e,t){for(var n,r,i,a,s=e.window;;){if(e.lookahead<=b){if(R(e),e.lookahead<=b&&t===l)return 1;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=y&&0<e.strstart&&(r=s[i=e.strstart-1])===s[++i]&&r===s[++i]&&r===s[++i]){a=e.strstart+b;do{}while(r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&i<a);e.match_length=b-(a-i),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=y?(n=o._tr_tally(e,1,e.match_length-y),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=o._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(T(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(T(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(T(e,!1),0===e.strm.avail_out)?1:2}(i,t):r[i.level].func(i,t);if(3!==p&&4!==p||(i.status=666),1===p||3===p)return 0===e.avail_out&&(i.last_flush=-1),u;if(2===p&&(1===t?o._tr_align(i):5!==t&&(o._tr_stored_block(i,0,0,!1),3===t&&(A(i.head),0===i.lookahead&&(i.strstart=0,i.block_start=0,i.insert=0))),O(e),0===e.avail_out))return i.last_flush=-1,u}return 4!==t?u:i.wrap<=0?1:(2===i.wrap?(C(i,255&e.adler),C(i,e.adler>>8&255),C(i,e.adler>>16&255),C(i,e.adler>>24&255),C(i,255&e.total_in),C(i,e.total_in>>8&255),C(i,e.total_in>>16&255),C(i,e.total_in>>24&255)):(N(i,e.adler>>>16),N(i,65535&e.adler)),O(e),0<i.wrap&&(i.wrap=-i.wrap),0!==i.pending?u:1)},n.deflateEnd=function(e){var t;return e&&e.state?(t=e.state.status)!==k&&69!==t&&73!==t&&91!==t&&103!==t&&t!==E&&666!==t?x(e,d):(e.state=null,t===E?x(e,-3):u):d},n.deflateSetDictionary=function(e,t){var n,r,o,s,c,l,f,h,p=t.length;if(!e||!e.state)return d;if(2===(s=(n=e.state).wrap)||1===s&&n.status!==k||n.lookahead)return d;for(1===s&&(e.adler=a(e.adler,t,p,0)),n.wrap=0,p>=n.w_size&&(0===s&&(A(n.head),n.strstart=0,n.block_start=0,n.insert=0),h=new i.Buf8(n.w_size),i.arraySet(h,t,p-n.w_size,n.w_size,0),t=h,p=n.w_size),c=e.avail_in,l=e.next_in,f=e.input,e.avail_in=p,e.next_in=0,e.input=t,R(n);n.lookahead>=y;){for(r=n.strstart,o=n.lookahead-(y-1);n.ins_h=(n.ins_h<<n.hash_shift^n.window[r+y-1])&n.hash_mask,n.prev[r&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=r,r++,--o;);n.strstart=r,n.lookahead=y-1,R(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=y-1,n.match_available=0,e.next_in=l,e.input=f,e.avail_in=c,n.wrap=s,u},n.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(e,t,n){"use strict";t.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(e,t,n){"use strict";t.exports=function(e,t){var n,r,i,o,a,s,c,l,u,d,f,h,p,m,v,g,_,y,b,w,k,E,x,S,A;n=e.state,r=e.next_in,S=e.input,i=r+(e.avail_in-5),o=e.next_out,A=e.output,a=o-(t-e.avail_out),s=o+(e.avail_out-257),c=n.dmax,l=n.wsize,u=n.whave,d=n.wnext,f=n.window,h=n.hold,p=n.bits,m=n.lencode,v=n.distcode,g=(1<<n.lenbits)-1,_=(1<<n.distbits)-1;e:do{p<15&&(h+=S[r++]<<p,p+=8,h+=S[r++]<<p,p+=8),y=m[h&g];t:for(;;){if(h>>>=b=y>>>24,p-=b,0==(b=y>>>16&255))A[o++]=65535&y;else{if(!(16&b)){if(!(64&b)){y=m[(65535&y)+(h&(1<<b)-1)];continue t}if(32&b){n.mode=12;break e}e.msg="invalid literal/length code",n.mode=30;break e}w=65535&y,(b&=15)&&(p<b&&(h+=S[r++]<<p,p+=8),w+=h&(1<<b)-1,h>>>=b,p-=b),p<15&&(h+=S[r++]<<p,p+=8,h+=S[r++]<<p,p+=8),y=v[h&_];n:for(;;){if(h>>>=b=y>>>24,p-=b,!(16&(b=y>>>16&255))){if(!(64&b)){y=v[(65535&y)+(h&(1<<b)-1)];continue n}e.msg="invalid distance code",n.mode=30;break e}if(k=65535&y,p<(b&=15)&&(h+=S[r++]<<p,(p+=8)<b&&(h+=S[r++]<<p,p+=8)),c<(k+=h&(1<<b)-1)){e.msg="invalid distance too far back",n.mode=30;break e}if(h>>>=b,p-=b,(b=o-a)<k){if(u<(b=k-b)&&n.sane){e.msg="invalid distance too far back",n.mode=30;break e}if(x=f,(E=0)===d){if(E+=l-b,b<w){for(w-=b;A[o++]=f[E++],--b;);E=o-k,x=A}}else if(d<b){if(E+=l+d-b,(b-=d)<w){for(w-=b;A[o++]=f[E++],--b;);if(E=0,d<w){for(w-=b=d;A[o++]=f[E++],--b;);E=o-k,x=A}}}else if(E+=d-b,b<w){for(w-=b;A[o++]=f[E++],--b;);E=o-k,x=A}for(;2<w;)A[o++]=x[E++],A[o++]=x[E++],A[o++]=x[E++],w-=3;w&&(A[o++]=x[E++],1<w&&(A[o++]=x[E++]))}else{for(E=o-k;A[o++]=A[E++],A[o++]=A[E++],A[o++]=A[E++],2<(w-=3););w&&(A[o++]=A[E++],1<w&&(A[o++]=A[E++]))}break}}break}}while(r<i&&o<s);r-=w=p>>3,h&=(1<<(p-=w<<3))-1,e.next_in=r,e.next_out=o,e.avail_in=r<i?i-r+5:5-(r-i),e.avail_out=o<s?s-o+257:257-(o-s),n.hold=h,n.bits=p}},{}],49:[function(e,t,n){"use strict";var r=e("../utils/common"),i=e("./adler32"),o=e("./crc32"),a=e("./inffast"),s=e("./inftrees"),c=0,l=-2,u=1,d=852,f=592;function h(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function p(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new r.Buf16(320),this.work=new r.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function m(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=u,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new r.Buf32(d),t.distcode=t.distdyn=new r.Buf32(f),t.sane=1,t.back=-1,c):l}function v(e){var t;return e&&e.state?((t=e.state).wsize=0,t.whave=0,t.wnext=0,m(e)):l}function g(e,t){var n,r;return e&&e.state?(r=e.state,t<0?(n=0,t=-t):(n=1+(t>>4),t<48&&(t&=15)),t&&(t<8||15<t)?l:(null!==r.window&&r.wbits!==t&&(r.window=null),r.wrap=n,r.wbits=t,v(e))):l}function _(e,t){var n,r;return e?(r=new p,(e.state=r).window=null,(n=g(e,t))!==c&&(e.state=null),n):l}var y,b,w=!0;function k(e){if(w){var t;for(y=new r.Buf32(512),b=new r.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(s(1,e.lens,0,288,y,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;s(2,e.lens,0,32,b,0,e.work,{bits:5}),w=!1}e.lencode=y,e.lenbits=9,e.distcode=b,e.distbits=5}function E(e,t,n,i){var o,a=e.state;return null===a.window&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new r.Buf8(a.wsize)),i>=a.wsize?(r.arraySet(a.window,t,n-a.wsize,a.wsize,0),a.wnext=0,a.whave=a.wsize):(i<(o=a.wsize-a.wnext)&&(o=i),r.arraySet(a.window,t,n-i,o,a.wnext),(i-=o)?(r.arraySet(a.window,t,n-i,i,0),a.wnext=i,a.whave=a.wsize):(a.wnext+=o,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=o))),0}n.inflateReset=v,n.inflateReset2=g,n.inflateResetKeep=m,n.inflateInit=function(e){return _(e,15)},n.inflateInit2=_,n.inflate=function(e,t){var n,d,f,p,m,v,g,_,y,b,w,x,S,A,O,T,C,N,I,R,P,B,L,D,M=0,z=new r.Buf8(4),j=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return l;12===(n=e.state).mode&&(n.mode=13),m=e.next_out,f=e.output,g=e.avail_out,p=e.next_in,d=e.input,v=e.avail_in,_=n.hold,y=n.bits,b=v,w=g,B=c;e:for(;;)switch(n.mode){case u:if(0===n.wrap){n.mode=13;break}for(;y<16;){if(0===v)break e;v--,_+=d[p++]<<y,y+=8}if(2&n.wrap&&35615===_){z[n.check=0]=255&_,z[1]=_>>>8&255,n.check=o(n.check,z,2,0),y=_=0,n.mode=2;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&_)<<8)+(_>>8))%31){e.msg="incorrect header check",n.mode=30;break}if(8!=(15&_)){e.msg="unknown compression method",n.mode=30;break}if(y-=4,P=8+(15&(_>>>=4)),0===n.wbits)n.wbits=P;else if(P>n.wbits){e.msg="invalid window size",n.mode=30;break}n.dmax=1<<P,e.adler=n.check=1,n.mode=512&_?10:12,y=_=0;break;case 2:for(;y<16;){if(0===v)break e;v--,_+=d[p++]<<y,y+=8}if(n.flags=_,8!=(255&n.flags)){e.msg="unknown compression method",n.mode=30;break}if(57344&n.flags){e.msg="unknown header flags set",n.mode=30;break}n.head&&(n.head.text=_>>8&1),512&n.flags&&(z[0]=255&_,z[1]=_>>>8&255,n.check=o(n.check,z,2,0)),y=_=0,n.mode=3;case 3:for(;y<32;){if(0===v)break e;v--,_+=d[p++]<<y,y+=8}n.head&&(n.head.time=_),512&n.flags&&(z[0]=255&_,z[1]=_>>>8&255,z[2]=_>>>16&255,z[3]=_>>>24&255,n.check=o(n.check,z,4,0)),y=_=0,n.mode=4;case 4:for(;y<16;){if(0===v)break e;v--,_+=d[p++]<<y,y+=8}n.head&&(n.head.xflags=255&_,n.head.os=_>>8),512&n.flags&&(z[0]=255&_,z[1]=_>>>8&255,n.check=o(n.check,z,2,0)),y=_=0,n.mode=5;case 5:if(1024&n.flags){for(;y<16;){if(0===v)break e;v--,_+=d[p++]<<y,y+=8}n.length=_,n.head&&(n.head.extra_len=_),512&n.flags&&(z[0]=255&_,z[1]=_>>>8&255,n.check=o(n.check,z,2,0)),y=_=0}else n.head&&(n.head.extra=null);n.mode=6;case 6:if(1024&n.flags&&(v<(x=n.length)&&(x=v),x&&(n.head&&(P=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),r.arraySet(n.head.extra,d,p,x,P)),512&n.flags&&(n.check=o(n.check,d,x,p)),v-=x,p+=x,n.length-=x),n.length))break e;n.length=0,n.mode=7;case 7:if(2048&n.flags){if(0===v)break e;for(x=0;P=d[p+x++],n.head&&P&&n.length<65536&&(n.head.name+=String.fromCharCode(P)),P&&x<v;);if(512&n.flags&&(n.check=o(n.check,d,x,p)),v-=x,p+=x,P)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=8;case 8:if(4096&n.flags){if(0===v)break e;for(x=0;P=d[p+x++],n.head&&P&&n.length<65536&&(n.head.comment+=String.fromCharCode(P)),P&&x<v;);if(512&n.flags&&(n.check=o(n.check,d,x,p)),v-=x,p+=x,P)break e}else n.head&&(n.head.comment=null);n.mode=9;case 9:if(512&n.flags){for(;y<16;){if(0===v)break e;v--,_+=d[p++]<<y,y+=8}if(_!==(65535&n.check)){e.msg="header crc mismatch",n.mode=30;break}y=_=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=12;break;case 10:for(;y<32;){if(0===v)break e;v--,_+=d[p++]<<y,y+=8}e.adler=n.check=h(_),y=_=0,n.mode=11;case 11:if(0===n.havedict)return e.next_out=m,e.avail_out=g,e.next_in=p,e.avail_in=v,n.hold=_,n.bits=y,2;e.adler=n.check=1,n.mode=12;case 12:if(5===t||6===t)break e;case 13:if(n.last){_>>>=7&y,y-=7&y,n.mode=27;break}for(;y<3;){if(0===v)break e;v--,_+=d[p++]<<y,y+=8}switch(n.last=1&_,y-=1,3&(_>>>=1)){case 0:n.mode=14;break;case 1:if(k(n),n.mode=20,6!==t)break;_>>>=2,y-=2;break e;case 2:n.mode=17;break;case 3:e.msg="invalid block type",n.mode=30}_>>>=2,y-=2;break;case 14:for(_>>>=7&y,y-=7&y;y<32;){if(0===v)break e;v--,_+=d[p++]<<y,y+=8}if((65535&_)!=(_>>>16^65535)){e.msg="invalid stored block lengths",n.mode=30;break}if(n.length=65535&_,y=_=0,n.mode=15,6===t)break e;case 15:n.mode=16;case 16:if(x=n.length){if(v<x&&(x=v),g<x&&(x=g),0===x)break e;r.arraySet(f,d,p,x,m),v-=x,p+=x,g-=x,m+=x,n.length-=x;break}n.mode=12;break;case 17:for(;y<14;){if(0===v)break e;v--,_+=d[p++]<<y,y+=8}if(n.nlen=257+(31&_),_>>>=5,y-=5,n.ndist=1+(31&_),_>>>=5,y-=5,n.ncode=4+(15&_),_>>>=4,y-=4,286<n.nlen||30<n.ndist){e.msg="too many length or distance symbols",n.mode=30;break}n.have=0,n.mode=18;case 18:for(;n.have<n.ncode;){for(;y<3;){if(0===v)break e;v--,_+=d[p++]<<y,y+=8}n.lens[j[n.have++]]=7&_,_>>>=3,y-=3}for(;n.have<19;)n.lens[j[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,L={bits:n.lenbits},B=s(0,n.lens,0,19,n.lencode,0,n.work,L),n.lenbits=L.bits,B){e.msg="invalid code lengths set",n.mode=30;break}n.have=0,n.mode=19;case 19:for(;n.have<n.nlen+n.ndist;){for(;T=(M=n.lencode[_&(1<<n.lenbits)-1])>>>16&255,C=65535&M,!((O=M>>>24)<=y);){if(0===v)break e;v--,_+=d[p++]<<y,y+=8}if(C<16)_>>>=O,y-=O,n.lens[n.have++]=C;else{if(16===C){for(D=O+2;y<D;){if(0===v)break e;v--,_+=d[p++]<<y,y+=8}if(_>>>=O,y-=O,0===n.have){e.msg="invalid bit length repeat",n.mode=30;break}P=n.lens[n.have-1],x=3+(3&_),_>>>=2,y-=2}else if(17===C){for(D=O+3;y<D;){if(0===v)break e;v--,_+=d[p++]<<y,y+=8}y-=O,P=0,x=3+(7&(_>>>=O)),_>>>=3,y-=3}else{for(D=O+7;y<D;){if(0===v)break e;v--,_+=d[p++]<<y,y+=8}y-=O,P=0,x=11+(127&(_>>>=O)),_>>>=7,y-=7}if(n.have+x>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=30;break}for(;x--;)n.lens[n.have++]=P}}if(30===n.mode)break;if(0===n.lens[256]){e.msg="invalid code -- missing end-of-block",n.mode=30;break}if(n.lenbits=9,L={bits:n.lenbits},B=s(1,n.lens,0,n.nlen,n.lencode,0,n.work,L),n.lenbits=L.bits,B){e.msg="invalid literal/lengths set",n.mode=30;break}if(n.distbits=6,n.distcode=n.distdyn,L={bits:n.distbits},B=s(2,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,L),n.distbits=L.bits,B){e.msg="invalid distances set",n.mode=30;break}if(n.mode=20,6===t)break e;case 20:n.mode=21;case 21:if(6<=v&&258<=g){e.next_out=m,e.avail_out=g,e.next_in=p,e.avail_in=v,n.hold=_,n.bits=y,a(e,w),m=e.next_out,f=e.output,g=e.avail_out,p=e.next_in,d=e.input,v=e.avail_in,_=n.hold,y=n.bits,12===n.mode&&(n.back=-1);break}for(n.back=0;T=(M=n.lencode[_&(1<<n.lenbits)-1])>>>16&255,C=65535&M,!((O=M>>>24)<=y);){if(0===v)break e;v--,_+=d[p++]<<y,y+=8}if(T&&!(240&T)){for(N=O,I=T,R=C;T=(M=n.lencode[R+((_&(1<<N+I)-1)>>N)])>>>16&255,C=65535&M,!(N+(O=M>>>24)<=y);){if(0===v)break e;v--,_+=d[p++]<<y,y+=8}_>>>=N,y-=N,n.back+=N}if(_>>>=O,y-=O,n.back+=O,n.length=C,0===T){n.mode=26;break}if(32&T){n.back=-1,n.mode=12;break}if(64&T){e.msg="invalid literal/length code",n.mode=30;break}n.extra=15&T,n.mode=22;case 22:if(n.extra){for(D=n.extra;y<D;){if(0===v)break e;v--,_+=d[p++]<<y,y+=8}n.length+=_&(1<<n.extra)-1,_>>>=n.extra,y-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=23;case 23:for(;T=(M=n.distcode[_&(1<<n.distbits)-1])>>>16&255,C=65535&M,!((O=M>>>24)<=y);){if(0===v)break e;v--,_+=d[p++]<<y,y+=8}if(!(240&T)){for(N=O,I=T,R=C;T=(M=n.distcode[R+((_&(1<<N+I)-1)>>N)])>>>16&255,C=65535&M,!(N+(O=M>>>24)<=y);){if(0===v)break e;v--,_+=d[p++]<<y,y+=8}_>>>=N,y-=N,n.back+=N}if(_>>>=O,y-=O,n.back+=O,64&T){e.msg="invalid distance code",n.mode=30;break}n.offset=C,n.extra=15&T,n.mode=24;case 24:if(n.extra){for(D=n.extra;y<D;){if(0===v)break e;v--,_+=d[p++]<<y,y+=8}n.offset+=_&(1<<n.extra)-1,_>>>=n.extra,y-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=30;break}n.mode=25;case 25:if(0===g)break e;if(x=w-g,n.offset>x){if((x=n.offset-x)>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=30;break}S=x>n.wnext?(x-=n.wnext,n.wsize-x):n.wnext-x,x>n.length&&(x=n.length),A=n.window}else A=f,S=m-n.offset,x=n.length;for(g<x&&(x=g),g-=x,n.length-=x;f[m++]=A[S++],--x;);0===n.length&&(n.mode=21);break;case 26:if(0===g)break e;f[m++]=n.length,g--,n.mode=21;break;case 27:if(n.wrap){for(;y<32;){if(0===v)break e;v--,_|=d[p++]<<y,y+=8}if(w-=g,e.total_out+=w,n.total+=w,w&&(e.adler=n.check=n.flags?o(n.check,f,w,m-w):i(n.check,f,w,m-w)),w=g,(n.flags?_:h(_))!==n.check){e.msg="incorrect data check",n.mode=30;break}y=_=0}n.mode=28;case 28:if(n.wrap&&n.flags){for(;y<32;){if(0===v)break e;v--,_+=d[p++]<<y,y+=8}if(_!==(4294967295&n.total)){e.msg="incorrect length check",n.mode=30;break}y=_=0}n.mode=29;case 29:B=1;break e;case 30:B=-3;break e;case 31:return-4;default:return l}return e.next_out=m,e.avail_out=g,e.next_in=p,e.avail_in=v,n.hold=_,n.bits=y,(n.wsize||w!==e.avail_out&&n.mode<30&&(n.mode<27||4!==t))&&E(e,e.output,e.next_out,w-e.avail_out)?(n.mode=31,-4):(b-=e.avail_in,w-=e.avail_out,e.total_in+=b,e.total_out+=w,n.total+=w,n.wrap&&w&&(e.adler=n.check=n.flags?o(n.check,f,w,e.next_out-w):i(n.check,f,w,e.next_out-w)),e.data_type=n.bits+(n.last?64:0)+(12===n.mode?128:0)+(20===n.mode||15===n.mode?256:0),(0==b&&0===w||4===t)&&B===c&&(B=-5),B)},n.inflateEnd=function(e){if(!e||!e.state)return l;var t=e.state;return t.window&&(t.window=null),e.state=null,c},n.inflateGetHeader=function(e,t){var n;return e&&e.state&&2&(n=e.state).wrap?((n.head=t).done=!1,c):l},n.inflateSetDictionary=function(e,t){var n,r=t.length;return e&&e.state?0!==(n=e.state).wrap&&11!==n.mode?l:11===n.mode&&i(1,t,r,0)!==n.check?-3:E(e,t,r,r)?(n.mode=31,-4):(n.havedict=1,c):l},n.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(e,t,n){"use strict";var r=e("../utils/common"),i=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],o=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],a=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],s=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];t.exports=function(e,t,n,c,l,u,d,f){var h,p,m,v,g,_,y,b,w,k=f.bits,E=0,x=0,S=0,A=0,O=0,T=0,C=0,N=0,I=0,R=0,P=null,B=0,L=new r.Buf16(16),D=new r.Buf16(16),M=null,z=0;for(E=0;E<=15;E++)L[E]=0;for(x=0;x<c;x++)L[t[n+x]]++;for(O=k,A=15;1<=A&&0===L[A];A--);if(A<O&&(O=A),0===A)return l[u++]=20971520,l[u++]=20971520,f.bits=1,0;for(S=1;S<A&&0===L[S];S++);for(O<S&&(O=S),E=N=1;E<=15;E++)if(N<<=1,(N-=L[E])<0)return-1;if(0<N&&(0===e||1!==A))return-1;for(D[1]=0,E=1;E<15;E++)D[E+1]=D[E]+L[E];for(x=0;x<c;x++)0!==t[n+x]&&(d[D[t[n+x]]++]=x);if(_=0===e?(P=M=d,19):1===e?(P=i,B-=257,M=o,z-=257,256):(P=a,M=s,-1),E=S,g=u,C=x=R=0,m=-1,v=(I=1<<(T=O))-1,1===e&&852<I||2===e&&592<I)return 1;for(;;){for(y=E-C,w=d[x]<_?(b=0,d[x]):d[x]>_?(b=M[z+d[x]],P[B+d[x]]):(b=96,0),h=1<<E-C,S=p=1<<T;l[g+(R>>C)+(p-=h)]=y<<24|b<<16|w,0!==p;);for(h=1<<E-1;R&h;)h>>=1;if(0!==h?(R&=h-1,R+=h):R=0,x++,0==--L[E]){if(E===A)break;E=t[n+d[x]]}if(O<E&&(R&v)!==m){for(0===C&&(C=O),g+=S,N=1<<(T=E-C);T+C<A&&!((N-=L[T+C])<=0);)T++,N<<=1;if(I+=1<<T,1===e&&852<I||2===e&&592<I)return 1;l[m=R&v]=O<<24|T<<16|g-u}}return 0!==R&&(l[g+R]=E-C<<24|64<<16),f.bits=O,0}},{"../utils/common":41}],51:[function(e,t,n){"use strict";t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(e,t,n){"use strict";var r=e("../utils/common");function i(e){for(var t=e.length;0<=--t;)e[t]=0}var o=256,a=286,s=30,c=15,l=16,u=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],d=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],f=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],h=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],p=new Array(576);i(p);var m=new Array(60);i(m);var v=new Array(512);i(v);var g=new Array(256);i(g);var _=new Array(29);i(_);var y,b,w,k=new Array(s);function E(e,t,n,r,i){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=r,this.max_length=i,this.has_stree=e&&e.length}function x(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function S(e){return e<256?v[e]:v[256+(e>>>7)]}function A(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function O(e,t,n){e.bi_valid>l-n?(e.bi_buf|=t<<e.bi_valid&65535,A(e,e.bi_buf),e.bi_buf=t>>l-e.bi_valid,e.bi_valid+=n-l):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)}function T(e,t,n){O(e,n[2*t],n[2*t+1])}function C(e,t){for(var n=0;n|=1&e,e>>>=1,n<<=1,0<--t;);return n>>>1}function N(e,t,n){var r,i,o=new Array(c+1),a=0;for(r=1;r<=c;r++)o[r]=a=a+n[r-1]<<1;for(i=0;i<=t;i++){var s=e[2*i+1];0!==s&&(e[2*i]=C(o[s]++,s))}}function I(e){var t;for(t=0;t<a;t++)e.dyn_ltree[2*t]=0;for(t=0;t<s;t++)e.dyn_dtree[2*t]=0;for(t=0;t<19;t++)e.bl_tree[2*t]=0;e.dyn_ltree[512]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function R(e){8<e.bi_valid?A(e,e.bi_buf):0<e.bi_valid&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function P(e,t,n,r){var i=2*t,o=2*n;return e[i]<e[o]||e[i]===e[o]&&r[t]<=r[n]}function B(e,t,n){for(var r=e.heap[n],i=n<<1;i<=e.heap_len&&(i<e.heap_len&&P(t,e.heap[i+1],e.heap[i],e.depth)&&i++,!P(t,r,e.heap[i],e.depth));)e.heap[n]=e.heap[i],n=i,i<<=1;e.heap[n]=r}function L(e,t,n){var r,i,a,s,c=0;if(0!==e.last_lit)for(;r=e.pending_buf[e.d_buf+2*c]<<8|e.pending_buf[e.d_buf+2*c+1],i=e.pending_buf[e.l_buf+c],c++,0===r?T(e,i,t):(T(e,(a=g[i])+o+1,t),0!==(s=u[a])&&O(e,i-=_[a],s),T(e,a=S(--r),n),0!==(s=d[a])&&O(e,r-=k[a],s)),c<e.last_lit;);T(e,256,t)}function D(e,t){var n,r,i,o=t.dyn_tree,a=t.stat_desc.static_tree,s=t.stat_desc.has_stree,l=t.stat_desc.elems,u=-1;for(e.heap_len=0,e.heap_max=573,n=0;n<l;n++)0!==o[2*n]?(e.heap[++e.heap_len]=u=n,e.depth[n]=0):o[2*n+1]=0;for(;e.heap_len<2;)o[2*(i=e.heap[++e.heap_len]=u<2?++u:0)]=1,e.depth[i]=0,e.opt_len--,s&&(e.static_len-=a[2*i+1]);for(t.max_code=u,n=e.heap_len>>1;1<=n;n--)B(e,o,n);for(i=l;n=e.heap[1],e.heap[1]=e.heap[e.heap_len--],B(e,o,1),r=e.heap[1],e.heap[--e.heap_max]=n,e.heap[--e.heap_max]=r,o[2*i]=o[2*n]+o[2*r],e.depth[i]=(e.depth[n]>=e.depth[r]?e.depth[n]:e.depth[r])+1,o[2*n+1]=o[2*r+1]=i,e.heap[1]=i++,B(e,o,1),2<=e.heap_len;);e.heap[--e.heap_max]=e.heap[1],function(e,t){var n,r,i,o,a,s,l=t.dyn_tree,u=t.max_code,d=t.stat_desc.static_tree,f=t.stat_desc.has_stree,h=t.stat_desc.extra_bits,p=t.stat_desc.extra_base,m=t.stat_desc.max_length,v=0;for(o=0;o<=c;o++)e.bl_count[o]=0;for(l[2*e.heap[e.heap_max]+1]=0,n=e.heap_max+1;n<573;n++)m<(o=l[2*l[2*(r=e.heap[n])+1]+1]+1)&&(o=m,v++),l[2*r+1]=o,u<r||(e.bl_count[o]++,a=0,p<=r&&(a=h[r-p]),s=l[2*r],e.opt_len+=s*(o+a),f&&(e.static_len+=s*(d[2*r+1]+a)));if(0!==v){do{for(o=m-1;0===e.bl_count[o];)o--;e.bl_count[o]--,e.bl_count[o+1]+=2,e.bl_count[m]--,v-=2}while(0<v);for(o=m;0!==o;o--)for(r=e.bl_count[o];0!==r;)u<(i=e.heap[--n])||(l[2*i+1]!==o&&(e.opt_len+=(o-l[2*i+1])*l[2*i],l[2*i+1]=o),r--)}}(e,t),N(o,u,e.bl_count)}function M(e,t,n){var r,i,o=-1,a=t[1],s=0,c=7,l=4;for(0===a&&(c=138,l=3),t[2*(n+1)+1]=65535,r=0;r<=n;r++)i=a,a=t[2*(r+1)+1],++s<c&&i===a||(s<l?e.bl_tree[2*i]+=s:0!==i?(i!==o&&e.bl_tree[2*i]++,e.bl_tree[32]++):s<=10?e.bl_tree[34]++:e.bl_tree[36]++,o=i,l=(s=0)===a?(c=138,3):i===a?(c=6,3):(c=7,4))}function z(e,t,n){var r,i,o=-1,a=t[1],s=0,c=7,l=4;for(0===a&&(c=138,l=3),r=0;r<=n;r++)if(i=a,a=t[2*(r+1)+1],!(++s<c&&i===a)){if(s<l)for(;T(e,i,e.bl_tree),0!=--s;);else 0!==i?(i!==o&&(T(e,i,e.bl_tree),s--),T(e,16,e.bl_tree),O(e,s-3,2)):s<=10?(T(e,17,e.bl_tree),O(e,s-3,3)):(T(e,18,e.bl_tree),O(e,s-11,7));o=i,l=(s=0)===a?(c=138,3):i===a?(c=6,3):(c=7,4)}}i(k);var j=!1;function F(e,t,n,i){O(e,0+(i?1:0),3),function(e,t,n){R(e),A(e,n),A(e,~n),r.arraySet(e.pending_buf,e.window,t,n,e.pending),e.pending+=n}(e,t,n)}n._tr_init=function(e){j||(function(){var e,t,n,r,i,o=new Array(c+1);for(r=n=0;r<28;r++)for(_[r]=n,e=0;e<1<<u[r];e++)g[n++]=r;for(g[n-1]=r,r=i=0;r<16;r++)for(k[r]=i,e=0;e<1<<d[r];e++)v[i++]=r;for(i>>=7;r<s;r++)for(k[r]=i<<7,e=0;e<1<<d[r]-7;e++)v[256+i++]=r;for(t=0;t<=c;t++)o[t]=0;for(e=0;e<=143;)p[2*e+1]=8,e++,o[8]++;for(;e<=255;)p[2*e+1]=9,e++,o[9]++;for(;e<=279;)p[2*e+1]=7,e++,o[7]++;for(;e<=287;)p[2*e+1]=8,e++,o[8]++;for(N(p,287,o),e=0;e<s;e++)m[2*e+1]=5,m[2*e]=C(e,5);y=new E(p,u,257,a,c),b=new E(m,d,0,s,c),w=new E(new Array(0),f,0,19,7)}(),j=!0),e.l_desc=new x(e.dyn_ltree,y),e.d_desc=new x(e.dyn_dtree,b),e.bl_desc=new x(e.bl_tree,w),e.bi_buf=0,e.bi_valid=0,I(e)},n._tr_stored_block=F,n._tr_flush_block=function(e,t,n,r){var i,a,s=0;0<e.level?(2===e.strm.data_type&&(e.strm.data_type=function(e){var t,n=4093624447;for(t=0;t<=31;t++,n>>>=1)if(1&n&&0!==e.dyn_ltree[2*t])return 0;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return 1;for(t=32;t<o;t++)if(0!==e.dyn_ltree[2*t])return 1;return 0}(e)),D(e,e.l_desc),D(e,e.d_desc),s=function(e){var t;for(M(e,e.dyn_ltree,e.l_desc.max_code),M(e,e.dyn_dtree,e.d_desc.max_code),D(e,e.bl_desc),t=18;3<=t&&0===e.bl_tree[2*h[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}(e),i=e.opt_len+3+7>>>3,(a=e.static_len+3+7>>>3)<=i&&(i=a)):i=a=n+5,n+4<=i&&-1!==t?F(e,t,n,r):4===e.strategy||a===i?(O(e,2+(r?1:0),3),L(e,p,m)):(O(e,4+(r?1:0),3),function(e,t,n,r){var i;for(O(e,t-257,5),O(e,n-1,5),O(e,r-4,4),i=0;i<r;i++)O(e,e.bl_tree[2*h[i]+1],3);z(e,e.dyn_ltree,t-1),z(e,e.dyn_dtree,n-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,s+1),L(e,e.dyn_ltree,e.dyn_dtree)),I(e),r&&R(e)},n._tr_tally=function(e,t,n){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&n,e.last_lit++,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(g[n]+o+1)]++,e.dyn_dtree[2*S(t)]++),e.last_lit===e.lit_bufsize-1},n._tr_align=function(e){O(e,2,3),T(e,256,p),function(e){16===e.bi_valid?(A(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):8<=e.bi_valid&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}(e)}},{"../utils/common":41}],53:[function(e,t,n){"use strict";t.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(e,t,r){(function(e){!function(e,t){"use strict";if(!e.setImmediate){var n,r,i,o,a=1,s={},c=!1,l=e.document,u=Object.getPrototypeOf&&Object.getPrototypeOf(e);u=u&&u.setTimeout?u:e,n="[object process]"==={}.toString.call(e.process)?function(e){process.nextTick((function(){f(e)}))}:function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?(o="setImmediate$"+Math.random()+"$",e.addEventListener?e.addEventListener("message",h,!1):e.attachEvent("onmessage",h),function(t){e.postMessage(o+t,"*")}):e.MessageChannel?((i=new MessageChannel).port1.onmessage=function(e){f(e.data)},function(e){i.port2.postMessage(e)}):l&&"onreadystatechange"in l.createElement("script")?(r=l.documentElement,function(e){var t=l.createElement("script");t.onreadystatechange=function(){f(e),t.onreadystatechange=null,r.removeChild(t),t=null},r.appendChild(t)}):function(e){setTimeout(f,0,e)},u.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),r=0;r<t.length;r++)t[r]=arguments[r+1];var i={callback:e,args:t};return s[a]=i,n(a),a++},u.clearImmediate=d}function d(e){delete s[e]}function f(e){if(c)setTimeout(f,0,e);else{var n=s[e];if(n){c=!0;try{!function(e){var n=e.callback,r=e.args;switch(r.length){case 0:n();break;case 1:n(r[0]);break;case 2:n(r[0],r[1]);break;case 3:n(r[0],r[1],r[2]);break;default:n.apply(t,r)}}(n)}finally{d(e),c=!1}}}}function h(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(o)&&f(+t.data.slice(o.length))}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,void 0!==n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[10])(10)},790:e=>{e.exports=function(e){!function(e){if(!e)throw new Error("Eventify cannot use falsy object as events subject");for(var t=["on","fire","off"],n=0;n<t.length;++n)if(e.hasOwnProperty(t[n]))throw new Error("Subject cannot be eventified, since it already has property '"+t[n]+"'")}(e);var t=function(e){var t=Object.create(null);return{on:function(n,r,i){if("function"!=typeof r)throw new Error("callback is expected to be a function");var o=t[n];return o||(o=t[n]=[]),o.push({callback:r,ctx:i}),e},off:function(n,r){if(void 0===n)return t=Object.create(null),e;if(t[n])if("function"!=typeof r)delete t[n];else for(var i=t[n],o=0;o<i.length;++o)i[o].callback===r&&i.splice(o,1);return e},fire:function(n){var r,i=t[n];if(!i)return e;arguments.length>1&&(r=Array.prototype.splice.call(arguments,1));for(var o=0;o<i.length;++o){var a=i[o];a.callback.apply(a.ctx,r)}return e}}}(e);return e.on=t.on,e.off=t.off,e.fire=t.fire,e}},611:(e,t,n)=>{"use strict";var r=n(964),i=n(375),o=n(790),a=n(860),s=n(833),c=s(),l=s(!0),u=n(59),d=n(25),f=n(35);function h(e,t){var n=(t=t||{}).controller;if(n||(d.canAttach(e)?n=d(e,t):f.canAttach(e)&&(n=f(e,t))),!n)throw new Error("Cannot create panzoom for the current type of dom element");var s=n.getOwner(),h={x:0,y:0},m=!1,y=new u;n.initTransform&&n.initTransform(y);var b,w="function"==typeof t.filterKey?t.filterKey:v,k="number"==typeof t.pinchSpeed?t.pinchSpeed:1,E=t.bounds,x="number"==typeof t.maxZoom?t.maxZoom:Number.POSITIVE_INFINITY,S="number"==typeof t.minZoom?t.minZoom:0,A="number"==typeof t.boundsPadding?t.boundsPadding:.05,O="number"==typeof t.zoomDoubleClickSpeed?t.zoomDoubleClickSpeed:1.75,T=t.beforeWheel||v,C=t.beforeMouseDown||v,N="number"==typeof t.zoomSpeed?t.zoomSpeed:1,I=p(t.transformOrigin),R=t.enableTextSelection?l:c;!function(e){var t=typeof e;if("undefined"!==t&&"boolean"!==t&&!(g(e.left)&&g(e.top)&&g(e.bottom)&&g(e.right)))throw new Error("Bounds object is not valid. It can be: undefined, boolean (true|false) or an object {left, top, right, bottom}")}(E),t.autocenter&&function(){var e,t,r=0,i=0,o=oe();if(o)r=o.left,i=o.top,e=o.right-o.left,t=o.bottom-o.top;else{var a=s.getBoundingClientRect();e=a.width,t=a.height}var c=n.getBBox();if(0!==c.width&&0!==c.height){var l=t/c.height,u=e/c.width,d=Math.min(u,l);y.x=-(c.left+c.width/2)*d+e/2+r,y.y=-(c.top+c.height/2)*d+t/2+i,y.scale=d}}();var P,B,L,D,M,z,j,F,U,W,$=0,H=0,G=0,Z=null,V=new Date,Y=!1,q=!1;j="smoothScroll"in t&&!t.smoothScroll?{start:v,stop:v,cancel:v}:a((function(){return{x:y.x,y:y.y}}),(function(e,t){Re(),ne(e,t)}),t.smoothScroll);var K=!1;ue();var X={dispose:function(){de()},moveBy:le,moveTo:ne,smoothMoveTo:function(e,t){le(e-y.x,t-y.y,!0)},centerOn:function(e){var t=e.ownerSVGElement;if(!t)throw new Error("ui element is required to be within the scene");var n=e.getBoundingClientRect(),r=n.left+n.width/2,i=n.top+n.height/2,o=t.getBoundingClientRect();le(o.width/2-r,o.height/2-i,!0)},zoomTo:Ie,zoomAbs:ce,smoothZoom:Ce,smoothZoomAbs:function(e,t,n){var r={scale:y.scale},o={scale:n};j.cancel(),Re(),U=i(r,o,{step:function(n){ce(e,t,n.scale)}})},showRectangle:function(e){var t=s.getBoundingClientRect(),n=te(t.width,t.height),r=e.right-e.left,i=e.bottom-e.top;if(!Number.isFinite(r)||!Number.isFinite(i))throw new Error("Invalid rectangle");var o=n.x/r,a=n.y/i,c=Math.min(o,a);y.x=-(e.left+r/2)*c+n.x/2,y.y=-(e.top+i/2)*c+n.y/2,y.scale=c},pause:function(){de(),K=!0},resume:function(){K&&(ue(),K=!1)},isPaused:function(){return K},getTransform:function(){return y},getMinZoom:function(){return S},setMinZoom:function(e){S=e},getMaxZoom:function(){return x},setMaxZoom:function(e){x=e},getTransformOrigin:function(){return I},setTransformOrigin:function(e){I=p(e)},getZoomSpeed:function(){return N},setZoomSpeed:function(e){if(!Number.isFinite(e))throw new Error("Zoom speed should be a number");N=e}};o(X);var Q="number"==typeof t.initialX?t.initialX:y.x,J="number"==typeof t.initialY?t.initialY:y.y,ee="number"==typeof t.initialZoom?t.initialZoom:y.scale;return Q==y.x&&J==y.y&&ee==y.scale||ce(Q,J,ee),X;function te(e,t){if(n.getScreenCTM){var r=n.getScreenCTM(),i=r.a,o=r.d,a=r.e,s=r.f;h.x=e*i-a,h.y=t*o-s}else h.x=e,h.y=t;return h}function ne(e,t){y.x=e,y.y=t,ie(),Me("pan"),ae()}function re(e,t){ne(y.x+e,y.y+t)}function ie(){var e=oe();if(e){var t,r,i,o,a=!1,s=(i=(t=n.getBBox()).left,o=t.top,{left:(r={x:i*y.scale+y.x,y:o*y.scale+y.y}).x,top:r.y,right:t.width*y.scale+r.x,bottom:t.height*y.scale+r.y}),c=e.left-s.right;return c>0&&(y.x+=c,a=!0),(c=e.right-s.left)<0&&(y.x+=c,a=!0),(c=e.top-s.bottom)>0&&(y.y+=c,a=!0),(c=e.bottom-s.top)<0&&(y.y+=c,a=!0),a}}function oe(){if(E){if("boolean"==typeof E){var e=s.getBoundingClientRect(),t=e.width,n=e.height;return{left:t*A,top:n*A,right:t*(1-A),bottom:n*(1-A)}}return E}}function ae(){m=!0,b=window.requestAnimationFrame(fe)}function se(e,t,n){if(_(e)||_(t)||_(n))throw new Error("zoom requires valid numbers");var r=y.scale*n;if(r<S){if(y.scale===S)return;n=S/y.scale}if(r>x){if(y.scale===x)return;n=x/y.scale}var i=te(e,t);y.x=i.x-n*(i.x-y.x),y.y=i.y-n*(i.y-y.y),E&&1===A&&1===S?(y.scale*=n,ie()):ie()||(y.scale*=n),Me("zoom"),ae()}function ce(e,t,n){se(e,t,n/y.scale)}function le(e,t,n){if(!n)return re(e,t);F&&F.cancel();var r=0,o=0;F=i({x:0,y:0},{x:e,y:t},{step:function(e){re(e.x-r,e.y-o),r=e.x,o=e.y}})}function ue(){s.addEventListener("mousedown",ke,{passive:!1}),s.addEventListener("dblclick",we,{passive:!1}),s.addEventListener("touchstart",pe,{passive:!1}),s.addEventListener("keydown",he,{passive:!1}),r.addWheelListener(s,Oe,{passive:!1}),ae()}function de(){r.removeWheelListener(s,Oe),s.removeEventListener("mousedown",ke),s.removeEventListener("keydown",he),s.removeEventListener("dblclick",we),s.removeEventListener("touchstart",pe),b&&(window.cancelAnimationFrame(b),b=0),j.cancel(),Se(),Ae(),R.release(),Le()}function fe(){m&&(m=!1,n.applyTransform(y),Me("transform"),b=0)}function he(e){var t=0,n=0,r=0;if(38===e.keyCode?n=1:40===e.keyCode?n=-1:37===e.keyCode?t=1:39===e.keyCode?t=-1:189===e.keyCode||109===e.keyCode?r=1:187!==e.keyCode&&107!==e.keyCode||(r=-1),!w(e,t,n,r)){if(t||n){e.preventDefault(),e.stopPropagation();var i=s.getBoundingClientRect();le(.05*(o=Math.min(i.width,i.height))*t,.05*o*n)}if(r){var o,a=Pe(100*r);Ie((o=I?Ne():{x:(c=s.getBoundingClientRect()).width/2,y:c.height/2}).x,o.y,a)}var c}}function pe(e){if(function(e){t.onTouch&&!t.onTouch(e)||(e.stopPropagation(),e.preventDefault())}(e),ge(),1===e.touches.length)return function(e){H=new Date;var t=Te(e.touches[0]);P=t;var n=te(t.x,t.y);B=n.x,L=n.y,D=B,M=L,j.cancel(),me()}(e,e.touches[0]);2===e.touches.length&&(z=be(e.touches[0],e.touches[1]),W=!0,me())}function me(){Y||(Y=!0,document.addEventListener("touchmove",ve),document.addEventListener("touchend",ye),document.addEventListener("touchcancel",ye))}function ve(e){if(1===e.touches.length){e.stopPropagation();var t=te((u=Te(e.touches[0])).x,u.y),n=t.x-B,r=t.y-L;0!==n&&0!==r&&Be(),B=t.x,L=t.y,le(n,r)}else if(2===e.touches.length){W=!0;var i=e.touches[0],o=e.touches[1],a=be(i,o),s=1+(a/z-1)*k,c=Te(i),l=Te(o);if(B=(c.x+l.x)/2,L=(c.y+l.y)/2,I){var u=Ne();B=u.x,L=u.y}Ie(B,L,s),z=a,e.stopPropagation(),e.preventDefault()}}function ge(){G&&(clearTimeout(G),G=0)}function _e(e){if(t.onClick){ge();var n=B-D,r=L-M;Math.sqrt(n*n+r*r)>5||(G=setTimeout((function(){G=0,t.onClick(e)}),300))}}function ye(e){if(ge(),e.touches.length>0){var t=te((n=Te(e.touches[0])).x,n.y);B=t.x,L=t.y}else{var n,r=new Date;r-$<300?I?Ce((n=Ne()).x,n.y,O):Ce(P.x,P.y,O):r-H<200&&_e(e),$=r,Le(),Ae()}}function be(e,t){var n=e.clientX-t.clientX,r=e.clientY-t.clientY;return Math.sqrt(n*n+r*r)}function we(e){!function(e){ge(),t.onDoubleClick&&!t.onDoubleClick(e)||(e.preventDefault(),e.stopPropagation())}(e);var n=Te(e);I&&(n=Ne()),Ce(n.x,n.y,O)}function ke(e){if(ge(),!C(e)){if(Z=e,V=new Date,Y)return e.stopPropagation(),!1;if(1===e.button&&null!==window.event||0===e.button){j.cancel();var t=Te(e),n=te(t.x,t.y);return D=B=n.x,M=L=n.y,document.addEventListener("mousemove",Ee),document.addEventListener("mouseup",xe),R.capture(e.target||e.srcElement),!1}}}function Ee(e){if(!Y){Be();var t=Te(e),n=te(t.x,t.y),r=n.x-B,i=n.y-L;B=n.x,L=n.y,le(r,i)}}function xe(){new Date-V<200&&_e(Z),R.release(),Le(),Se()}function Se(){document.removeEventListener("mousemove",Ee),document.removeEventListener("mouseup",xe),q=!1}function Ae(){document.removeEventListener("touchmove",ve),document.removeEventListener("touchend",ye),document.removeEventListener("touchcancel",ye),q=!1,W=!1,Y=!1}function Oe(e){if(!T(e)){j.cancel();var t=e.deltaY;e.deltaMode>0&&(t*=100);var n=Pe(t);if(1!==n){var r=I?Ne():Te(e);Ie(r.x,r.y,n),e.preventDefault()}}}function Te(e){var t=s.getBoundingClientRect();return{x:e.clientX-t.left,y:e.clientY-t.top}}function Ce(e,t,n){var r=y.scale,o={scale:r},a={scale:n*r};j.cancel(),Re(),U=i(o,a,{step:function(n){ce(e,t,n.scale)},done:De})}function Ne(){var e=s.getBoundingClientRect();return{x:e.width*I.x,y:e.height*I.y}}function Ie(e,t,n){return j.cancel(),Re(),se(e,t,n)}function Re(){U&&(U.cancel(),U=null)}function Pe(e){return 1-Math.sign(e)*Math.min(.25,Math.abs(N*e/128))}function Be(){q||(Me("panstart"),q=!0,j.start())}function Le(){q&&(W||j.stop(),Me("panend"))}function De(){Me("zoomend")}function Me(e){X.fire(e,X)}}function p(e){if(e)return"object"==typeof e?(g(e.x)&&g(e.y)||m(e),e):void m()}function m(e){throw console.error(e),new Error(["Cannot parse transform origin.","Some good examples:",'  "center center" can be achieved with {x: 0.5, y: 0.5}','  "top center" can be achieved with {x: 0.5, y: 0}','  "bottom right" can be achieved with {x: 1, y: 1}'].join("\n"))}function v(){}function g(e){return Number.isFinite(e)}function _(e){return Number.isNaN?Number.isNaN(e):e!=e}e.exports=h,function(){if("undefined"!=typeof document){var e=document.getElementsByTagName("script");if(e){for(var t,n=0;n<e.length;++n){var r=e[n];if(r.src&&r.src.match(/\bpanzoom(\.min)?\.js/)){t=r;break}}if(t){var i=t.getAttribute("query");if(i){var o=t.getAttribute("name")||"pz",a=Date.now();!function e(){var n=document.querySelector(i);if(!n)return Date.now()-a<2e3?void setTimeout(e,100):void console.error("Cannot find the panzoom element",o);var r=function(e){for(var t=e.attributes,n={},r=0;r<t.length;++r){var i=s(t[r]);i&&(n[i.name]=i.value)}return n}(t);console.log(r),window[o]=h(n,r)}()}}}}function s(e){if(e.name&&"p"===e.name[0]&&"z"===e.name[1]&&"-"===e.name[2])return{name:e.name.substr(3),value:JSON.parse(e.value)}}}()},833:e=>{function t(e){return e.stopPropagation(),!1}function n(){}e.exports=function(e){if(e)return{capture:n,release:n};var r,i,o,a=!1;return{capture:function(e){a=!0,i=window.document.onselectstart,o=window.document.ondragstart,window.document.onselectstart=t,(r=e).ondragstart=t},release:function(){a&&(a=!1,window.document.onselectstart=i,r&&(r.ondragstart=o))}}}},35:e=>{function t(e){return e&&e.parentElement&&e.style}e.exports=function(e,n){if(!t(e))throw new Error("panzoom requires DOM element to be attached to the DOM tree");var r=e.parentElement;return e.scrollTop=0,n.disableKeyboardInteraction||r.setAttribute("tabindex",0),{getBBox:function(){return{left:0,top:0,width:e.clientWidth,height:e.clientHeight}},getOwner:function(){return r},applyTransform:function(t){e.style.transformOrigin="0 0 0",e.style.transform="matrix("+t.scale+", 0, 0, "+t.scale+", "+t.x+", "+t.y+")"}}},e.exports.canAttach=t},860:e=>{function t(){return"function"==typeof cancelAnimationFrame?cancelAnimationFrame:clearTimeout}function n(){return"function"==typeof requestAnimationFrame?requestAnimationFrame:function(e){return setTimeout(e,16)}}e.exports=function(e,r,i){"object"!=typeof i&&(i={});var o,a,s,c,l,u,d,f,h,p,m="number"==typeof i.minVelocity?i.minVelocity:5,v="number"==typeof i.amplitude?i.amplitude:.25,g="function"==typeof i.cancelAnimationFrame?i.cancelAnimationFrame:t(),_="function"==typeof i.requestAnimationFrame?i.requestAnimationFrame:n();return{start:function(){o=e(),u=h=c=d=0,a=new Date,g(s),g(p),s=_(y)},stop:function(){g(s),g(p);var t=e();l=t.x,f=t.y,a=Date.now(),(c<-m||c>m)&&(l+=u=v*c),(d<-m||d>m)&&(f+=h=v*d),p=_(b)},cancel:function(){g(s),g(p)}};function y(){var t=Date.now(),n=t-a;a=t;var r=e(),i=r.x-o.x,l=r.y-o.y;o=r;var u=1e3/(1+n);c=.8*i*u+.2*c,d=.8*l*u+.2*d,s=_(y)}function b(){var e=Date.now()-a,t=!1,n=0,i=0;u&&((n=-u*Math.exp(-e/342))>.5||n<-.5?t=!0:n=u=0),h&&((i=-h*Math.exp(-e/342))>.5||i<-.5?t=!0:i=h=0),t&&(r(l+n,f+i),p=_(b))}}},25:e=>{function t(e){return e&&e.ownerSVGElement&&e.getCTM}e.exports=function(e,n){if(!t(e))throw new Error("svg element is required for svg.panzoom to work");var r=e.ownerSVGElement;if(!r)throw new Error("Do not apply panzoom to the root <svg> element. Use its child instead (e.g. <g></g>). As of March 2016 only FireFox supported transform on the root element");return n.disableKeyboardInteraction||r.setAttribute("tabindex",0),{getBBox:function(){var t=e.getBBox();return{left:t.x,top:t.y,width:t.width,height:t.height}},getScreenCTM:function(){var e=r.getCTM();return e||r.getScreenCTM()},getOwner:function(){return r},applyTransform:function(t){e.setAttribute("transform","matrix("+t.scale+" 0 0 "+t.scale+" "+t.x+" "+t.y+")")},initTransform:function(t){var n=e.getCTM();null===n&&(n=document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGMatrix()),t.x=n.e,t.y=n.f,t.scale=n.a,r.removeAttributeNS(null,"viewBox")}}},e.exports.canAttach=t},59:e=>{e.exports=function(){this.x=0,this.y=0,this.scale=1}},72:e=>{"use strict";var t=[];function n(e){for(var n=-1,r=0;r<t.length;r++)if(t[r].identifier===e){n=r;break}return n}function r(e,r){for(var o={},a=[],s=0;s<e.length;s++){var c=e[s],l=r.base?c[0]+r.base:c[0],u=o[l]||0,d="".concat(l," ").concat(u);o[l]=u+1;var f=n(d),h={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==f)t[f].references++,t[f].updater(h);else{var p=i(h,r);r.byIndex=s,t.splice(s,0,{identifier:d,updater:p,references:1})}a.push(d)}return a}function i(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,i){var o=r(e=e||[],i=i||{});return function(e){e=e||[];for(var a=0;a<o.length;a++){var s=n(o[a]);t[s].references--}for(var c=r(e,i),l=0;l<o.length;l++){var u=n(o[l]);0===t[u].references&&(t[u].updater(),t.splice(u,1))}o=c}}},659:e=>{"use strict";var t={};e.exports=function(e,n){var r=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},540:e=>{"use strict";e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},56:(e,t,n)=>{"use strict";e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},825:e=>{"use strict";e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var i=void 0!==n.layer;i&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,i&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var o=n.sourceMap;o&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),t.styleTagTransform(r,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},113:e=>{"use strict";e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},964:e=>{function t(e,t,n){e.addEventListener("wheel",t,n)}e.exports=t,e.exports.addWheelListener=t,e.exports.removeWheelListener=function(e,t,n){e.removeEventListener("wheel",t,n)}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={id:r,exports:{}};return e[r](o,o.exports,n),o.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nc=void 0,(()=>{"use strict";var e={};n.r(e),n.d(e,{afterMain:()=>w,afterRead:()=>_,afterWrite:()=>x,applyStyles:()=>I,arrow:()=>Q,auto:()=>a,basePlacements:()=>s,beforeMain:()=>y,beforeRead:()=>v,beforeWrite:()=>k,bottom:()=>r,clippingParents:()=>u,computeStyles:()=>ne,createPopper:()=>Ie,createPopperBase:()=>Ne,createPopperLite:()=>Re,detectOverflow:()=>ge,end:()=>l,eventListeners:()=>ie,flip:()=>_e,hide:()=>we,left:()=>o,main:()=>b,modifierPhases:()=>S,offset:()=>ke,placements:()=>m,popper:()=>f,popperGenerator:()=>Ce,popperOffsets:()=>Ee,preventOverflow:()=>xe,read:()=>g,reference:()=>h,right:()=>i,start:()=>c,top:()=>t,variationPlacements:()=>p,viewport:()=>d,write:()=>E});var t="top",r="bottom",i="right",o="left",a="auto",s=[t,r,i,o],c="start",l="end",u="clippingParents",d="viewport",f="popper",h="reference",p=s.reduce((function(e,t){return e.concat([t+"-"+c,t+"-"+l])}),[]),m=[].concat(s,[a]).reduce((function(e,t){return e.concat([t,t+"-"+c,t+"-"+l])}),[]),v="beforeRead",g="read",_="afterRead",y="beforeMain",b="main",w="afterMain",k="beforeWrite",E="write",x="afterWrite",S=[v,g,_,y,b,w,k,E,x];function A(e){return e?(e.nodeName||"").toLowerCase():null}function O(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function T(e){return e instanceof O(e).Element||e instanceof Element}function C(e){return e instanceof O(e).HTMLElement||e instanceof HTMLElement}function N(e){return"undefined"!=typeof ShadowRoot&&(e instanceof O(e).ShadowRoot||e instanceof ShadowRoot)}const I={name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach((function(e){var n=t.styles[e]||{},r=t.attributes[e]||{},i=t.elements[e];C(i)&&A(i)&&(Object.assign(i.style,n),Object.keys(r).forEach((function(e){var t=r[e];!1===t?i.removeAttribute(e):i.setAttribute(e,!0===t?"":t)})))}))},effect:function(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach((function(e){var r=t.elements[e],i=t.attributes[e]||{},o=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:n[e]).reduce((function(e,t){return e[t]="",e}),{});C(r)&&A(r)&&(Object.assign(r.style,o),Object.keys(i).forEach((function(e){r.removeAttribute(e)})))}))}},requires:["computeStyles"]};function R(e){return e.split("-")[0]}var P=Math.max,B=Math.min,L=Math.round;function D(){var e=navigator.userAgentData;return null!=e&&e.brands&&Array.isArray(e.brands)?e.brands.map((function(e){return e.brand+"/"+e.version})).join(" "):navigator.userAgent}function M(){return!/^((?!chrome|android).)*safari/i.test(D())}function z(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var r=e.getBoundingClientRect(),i=1,o=1;t&&C(e)&&(i=e.offsetWidth>0&&L(r.width)/e.offsetWidth||1,o=e.offsetHeight>0&&L(r.height)/e.offsetHeight||1);var a=(T(e)?O(e):window).visualViewport,s=!M()&&n,c=(r.left+(s&&a?a.offsetLeft:0))/i,l=(r.top+(s&&a?a.offsetTop:0))/o,u=r.width/i,d=r.height/o;return{width:u,height:d,top:l,right:c+u,bottom:l+d,left:c,x:c,y:l}}function j(e){var t=z(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function F(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&N(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function U(e){return O(e).getComputedStyle(e)}function W(e){return["table","td","th"].indexOf(A(e))>=0}function H(e){return((T(e)?e.ownerDocument:e.document)||window.document).documentElement}function G(e){return"html"===A(e)?e:e.assignedSlot||e.parentNode||(N(e)?e.host:null)||H(e)}function Z(e){return C(e)&&"fixed"!==U(e).position?e.offsetParent:null}function V(e){for(var t=O(e),n=Z(e);n&&W(n)&&"static"===U(n).position;)n=Z(n);return n&&("html"===A(n)||"body"===A(n)&&"static"===U(n).position)?t:n||function(e){var t=/firefox/i.test(D());if(/Trident/i.test(D())&&C(e)&&"fixed"===U(e).position)return null;var n=G(e);for(N(n)&&(n=n.host);C(n)&&["html","body"].indexOf(A(n))<0;){var r=U(n);if("none"!==r.transform||"none"!==r.perspective||"paint"===r.contain||-1!==["transform","perspective"].indexOf(r.willChange)||t&&"filter"===r.willChange||t&&r.filter&&"none"!==r.filter)return n;n=n.parentNode}return null}(e)||t}function Y(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function q(e,t,n){return P(e,B(t,n))}function K(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function X(e,t){return t.reduce((function(t,n){return t[n]=e,t}),{})}const Q={name:"arrow",enabled:!0,phase:"main",fn:function(e){var n,a=e.state,c=e.name,l=e.options,u=a.elements.arrow,d=a.modifiersData.popperOffsets,f=R(a.placement),h=Y(f),p=[o,i].indexOf(f)>=0?"height":"width";if(u&&d){var m=function(e,t){return K("number"!=typeof(e="function"==typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:X(e,s))}(l.padding,a),v=j(u),g="y"===h?t:o,_="y"===h?r:i,y=a.rects.reference[p]+a.rects.reference[h]-d[h]-a.rects.popper[p],b=d[h]-a.rects.reference[h],w=V(u),k=w?"y"===h?w.clientHeight||0:w.clientWidth||0:0,E=y/2-b/2,x=m[g],S=k-v[p]-m[_],A=k/2-v[p]/2+E,O=q(x,A,S),T=h;a.modifiersData[c]=((n={})[T]=O,n.centerOffset=O-A,n)}},effect:function(e){var t=e.state,n=e.options.element,r=void 0===n?"[data-popper-arrow]":n;null!=r&&("string"!=typeof r||(r=t.elements.popper.querySelector(r)))&&F(t.elements.popper,r)&&(t.elements.arrow=r)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function J(e){return e.split("-")[1]}var ee={top:"auto",right:"auto",bottom:"auto",left:"auto"};function te(e){var n,a=e.popper,s=e.popperRect,c=e.placement,u=e.variation,d=e.offsets,f=e.position,h=e.gpuAcceleration,p=e.adaptive,m=e.roundOffsets,v=e.isFixed,g=d.x,_=void 0===g?0:g,y=d.y,b=void 0===y?0:y,w="function"==typeof m?m({x:_,y:b}):{x:_,y:b};_=w.x,b=w.y;var k=d.hasOwnProperty("x"),E=d.hasOwnProperty("y"),x=o,S=t,A=window;if(p){var T=V(a),C="clientHeight",N="clientWidth";T===O(a)&&"static"!==U(T=H(a)).position&&"absolute"===f&&(C="scrollHeight",N="scrollWidth"),(c===t||(c===o||c===i)&&u===l)&&(S=r,b-=(v&&T===A&&A.visualViewport?A.visualViewport.height:T[C])-s.height,b*=h?1:-1),c!==o&&(c!==t&&c!==r||u!==l)||(x=i,_-=(v&&T===A&&A.visualViewport?A.visualViewport.width:T[N])-s.width,_*=h?1:-1)}var I,R=Object.assign({position:f},p&&ee),P=!0===m?function(e,t){var n=e.x,r=e.y,i=t.devicePixelRatio||1;return{x:L(n*i)/i||0,y:L(r*i)/i||0}}({x:_,y:b},O(a)):{x:_,y:b};return _=P.x,b=P.y,h?Object.assign({},R,((I={})[S]=E?"0":"",I[x]=k?"0":"",I.transform=(A.devicePixelRatio||1)<=1?"translate("+_+"px, "+b+"px)":"translate3d("+_+"px, "+b+"px, 0)",I)):Object.assign({},R,((n={})[S]=E?b+"px":"",n[x]=k?_+"px":"",n.transform="",n))}const ne={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,r=n.gpuAcceleration,i=void 0===r||r,o=n.adaptive,a=void 0===o||o,s=n.roundOffsets,c=void 0===s||s,l={placement:R(t.placement),variation:J(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,te(Object.assign({},l,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:a,roundOffsets:c})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,te(Object.assign({},l,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:c})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}};var re={passive:!0};const ie={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,n=e.instance,r=e.options,i=r.scroll,o=void 0===i||i,a=r.resize,s=void 0===a||a,c=O(t.elements.popper),l=[].concat(t.scrollParents.reference,t.scrollParents.popper);return o&&l.forEach((function(e){e.addEventListener("scroll",n.update,re)})),s&&c.addEventListener("resize",n.update,re),function(){o&&l.forEach((function(e){e.removeEventListener("scroll",n.update,re)})),s&&c.removeEventListener("resize",n.update,re)}},data:{}};var oe={left:"right",right:"left",bottom:"top",top:"bottom"};function ae(e){return e.replace(/left|right|bottom|top/g,(function(e){return oe[e]}))}var se={start:"end",end:"start"};function ce(e){return e.replace(/start|end/g,(function(e){return se[e]}))}function le(e){var t=O(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function ue(e){return z(H(e)).left+le(e).scrollLeft}function de(e){var t=U(e),n=t.overflow,r=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function fe(e){return["html","body","#document"].indexOf(A(e))>=0?e.ownerDocument.body:C(e)&&de(e)?e:fe(G(e))}function he(e,t){var n;void 0===t&&(t=[]);var r=fe(e),i=r===(null==(n=e.ownerDocument)?void 0:n.body),o=O(r),a=i?[o].concat(o.visualViewport||[],de(r)?r:[]):r,s=t.concat(a);return i?s:s.concat(he(G(a)))}function pe(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function me(e,t,n){return t===d?pe(function(e,t){var n=O(e),r=H(e),i=n.visualViewport,o=r.clientWidth,a=r.clientHeight,s=0,c=0;if(i){o=i.width,a=i.height;var l=M();(l||!l&&"fixed"===t)&&(s=i.offsetLeft,c=i.offsetTop)}return{width:o,height:a,x:s+ue(e),y:c}}(e,n)):T(t)?function(e,t){var n=z(e,!1,"fixed"===t);return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}(t,n):pe(function(e){var t,n=H(e),r=le(e),i=null==(t=e.ownerDocument)?void 0:t.body,o=P(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),a=P(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),s=-r.scrollLeft+ue(e),c=-r.scrollTop;return"rtl"===U(i||n).direction&&(s+=P(n.clientWidth,i?i.clientWidth:0)-o),{width:o,height:a,x:s,y:c}}(H(e)))}function ve(e){var n,a=e.reference,s=e.element,u=e.placement,d=u?R(u):null,f=u?J(u):null,h=a.x+a.width/2-s.width/2,p=a.y+a.height/2-s.height/2;switch(d){case t:n={x:h,y:a.y-s.height};break;case r:n={x:h,y:a.y+a.height};break;case i:n={x:a.x+a.width,y:p};break;case o:n={x:a.x-s.width,y:p};break;default:n={x:a.x,y:a.y}}var m=d?Y(d):null;if(null!=m){var v="y"===m?"height":"width";switch(f){case c:n[m]=n[m]-(a[v]/2-s[v]/2);break;case l:n[m]=n[m]+(a[v]/2-s[v]/2)}}return n}function ge(e,n){void 0===n&&(n={});var o=n,a=o.placement,c=void 0===a?e.placement:a,l=o.strategy,p=void 0===l?e.strategy:l,m=o.boundary,v=void 0===m?u:m,g=o.rootBoundary,_=void 0===g?d:g,y=o.elementContext,b=void 0===y?f:y,w=o.altBoundary,k=void 0!==w&&w,E=o.padding,x=void 0===E?0:E,S=K("number"!=typeof x?x:X(x,s)),O=b===f?h:f,N=e.rects.popper,I=e.elements[k?O:b],R=function(e,t,n,r){var i="clippingParents"===t?function(e){var t=he(G(e)),n=["absolute","fixed"].indexOf(U(e).position)>=0&&C(e)?V(e):e;return T(n)?t.filter((function(e){return T(e)&&F(e,n)&&"body"!==A(e)})):[]}(e):[].concat(t),o=[].concat(i,[n]),a=o[0],s=o.reduce((function(t,n){var i=me(e,n,r);return t.top=P(i.top,t.top),t.right=B(i.right,t.right),t.bottom=B(i.bottom,t.bottom),t.left=P(i.left,t.left),t}),me(e,a,r));return s.width=s.right-s.left,s.height=s.bottom-s.top,s.x=s.left,s.y=s.top,s}(T(I)?I:I.contextElement||H(e.elements.popper),v,_,p),L=z(e.elements.reference),D=ve({reference:L,element:N,strategy:"absolute",placement:c}),M=pe(Object.assign({},N,D)),j=b===f?M:L,W={top:R.top-j.top+S.top,bottom:j.bottom-R.bottom+S.bottom,left:R.left-j.left+S.left,right:j.right-R.right+S.right},$=e.modifiersData.offset;if(b===f&&$){var Z=$[c];Object.keys(W).forEach((function(e){var n=[i,r].indexOf(e)>=0?1:-1,o=[t,r].indexOf(e)>=0?"y":"x";W[e]+=Z[o]*n}))}return W}const _e={name:"flip",enabled:!0,phase:"main",fn:function(e){var n=e.state,l=e.options,u=e.name;if(!n.modifiersData[u]._skip){for(var d=l.mainAxis,f=void 0===d||d,h=l.altAxis,v=void 0===h||h,g=l.fallbackPlacements,_=l.padding,y=l.boundary,b=l.rootBoundary,w=l.altBoundary,k=l.flipVariations,E=void 0===k||k,x=l.allowedAutoPlacements,S=n.options.placement,A=R(S),O=g||(A!==S&&E?function(e){if(R(e)===a)return[];var t=ae(e);return[ce(e),t,ce(t)]}(S):[ae(S)]),T=[S].concat(O).reduce((function(e,t){return e.concat(R(t)===a?function(e,t){void 0===t&&(t={});var n=t,r=n.placement,i=n.boundary,o=n.rootBoundary,a=n.padding,c=n.flipVariations,l=n.allowedAutoPlacements,u=void 0===l?m:l,d=J(r),f=d?c?p:p.filter((function(e){return J(e)===d})):s,h=f.filter((function(e){return u.indexOf(e)>=0}));0===h.length&&(h=f);var v=h.reduce((function(t,n){return t[n]=ge(e,{placement:n,boundary:i,rootBoundary:o,padding:a})[R(n)],t}),{});return Object.keys(v).sort((function(e,t){return v[e]-v[t]}))}(n,{placement:t,boundary:y,rootBoundary:b,padding:_,flipVariations:E,allowedAutoPlacements:x}):t)}),[]),C=n.rects.reference,N=n.rects.popper,I=new Map,P=!0,B=T[0],L=0;L<T.length;L++){var D=T[L],M=R(D),z=J(D)===c,j=[t,r].indexOf(M)>=0,F=j?"width":"height",U=ge(n,{placement:D,boundary:y,rootBoundary:b,altBoundary:w,padding:_}),W=j?z?i:o:z?r:t;C[F]>N[F]&&(W=ae(W));var $=ae(W),H=[];if(f&&H.push(U[M]<=0),v&&H.push(U[W]<=0,U[$]<=0),H.every((function(e){return e}))){B=D,P=!1;break}I.set(D,H)}if(P)for(var G=function(e){var t=T.find((function(t){var n=I.get(t);if(n)return n.slice(0,e).every((function(e){return e}))}));if(t)return B=t,"break"},Z=E?3:1;Z>0&&"break"!==G(Z);Z--);n.placement!==B&&(n.modifiersData[u]._skip=!0,n.placement=B,n.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function ye(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function be(e){return[t,i,r,o].some((function(t){return e[t]>=0}))}const we={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,n=e.name,r=t.rects.reference,i=t.rects.popper,o=t.modifiersData.preventOverflow,a=ge(t,{elementContext:"reference"}),s=ge(t,{altBoundary:!0}),c=ye(a,r),l=ye(s,i,o),u=be(c),d=be(l);t.modifiersData[n]={referenceClippingOffsets:c,popperEscapeOffsets:l,isReferenceHidden:u,hasPopperEscaped:d},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":d})}},ke={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var n=e.state,r=e.options,a=e.name,s=r.offset,c=void 0===s?[0,0]:s,l=m.reduce((function(e,r){return e[r]=function(e,n,r){var a=R(e),s=[o,t].indexOf(a)>=0?-1:1,c="function"==typeof r?r(Object.assign({},n,{placement:e})):r,l=c[0],u=c[1];return l=l||0,u=(u||0)*s,[o,i].indexOf(a)>=0?{x:u,y:l}:{x:l,y:u}}(r,n.rects,c),e}),{}),u=l[n.placement],d=u.x,f=u.y;null!=n.modifiersData.popperOffsets&&(n.modifiersData.popperOffsets.x+=d,n.modifiersData.popperOffsets.y+=f),n.modifiersData[a]=l}},Ee={name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,n=e.name;t.modifiersData[n]=ve({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},xe={name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var n=e.state,a=e.options,s=e.name,l=a.mainAxis,u=void 0===l||l,d=a.altAxis,f=void 0!==d&&d,h=a.boundary,p=a.rootBoundary,m=a.altBoundary,v=a.padding,g=a.tether,_=void 0===g||g,y=a.tetherOffset,b=void 0===y?0:y,w=ge(n,{boundary:h,rootBoundary:p,padding:v,altBoundary:m}),k=R(n.placement),E=J(n.placement),x=!E,S=Y(k),A="x"===S?"y":"x",O=n.modifiersData.popperOffsets,T=n.rects.reference,C=n.rects.popper,N="function"==typeof b?b(Object.assign({},n.rects,{placement:n.placement})):b,I="number"==typeof N?{mainAxis:N,altAxis:N}:Object.assign({mainAxis:0,altAxis:0},N),L=n.modifiersData.offset?n.modifiersData.offset[n.placement]:null,D={x:0,y:0};if(O){if(u){var M,z="y"===S?t:o,F="y"===S?r:i,U="y"===S?"height":"width",W=O[S],$=W+w[z],H=W-w[F],G=_?-C[U]/2:0,Z=E===c?T[U]:C[U],K=E===c?-C[U]:-T[U],X=n.elements.arrow,Q=_&&X?j(X):{width:0,height:0},ee=n.modifiersData["arrow#persistent"]?n.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},te=ee[z],ne=ee[F],re=q(0,T[U],Q[U]),ie=x?T[U]/2-G-re-te-I.mainAxis:Z-re-te-I.mainAxis,oe=x?-T[U]/2+G+re+ne+I.mainAxis:K+re+ne+I.mainAxis,ae=n.elements.arrow&&V(n.elements.arrow),se=ae?"y"===S?ae.clientTop||0:ae.clientLeft||0:0,ce=null!=(M=null==L?void 0:L[S])?M:0,le=W+oe-ce,ue=q(_?B($,W+ie-ce-se):$,W,_?P(H,le):H);O[S]=ue,D[S]=ue-W}if(f){var de,fe="x"===S?t:o,he="x"===S?r:i,pe=O[A],me="y"===A?"height":"width",ve=pe+w[fe],_e=pe-w[he],ye=-1!==[t,o].indexOf(k),be=null!=(de=null==L?void 0:L[A])?de:0,we=ye?ve:pe-T[me]-C[me]-be+I.altAxis,ke=ye?pe+T[me]+C[me]-be-I.altAxis:_e,Ee=_&&ye?function(e,t,n){var r=q(e,t,n);return r>n?n:r}(we,pe,ke):q(_?we:ve,pe,_?ke:_e);O[A]=Ee,D[A]=Ee-pe}n.modifiersData[s]=D}},requiresIfExists:["offset"]};function Se(e,t,n){void 0===n&&(n=!1);var r,i,o=C(t),a=C(t)&&function(e){var t=e.getBoundingClientRect(),n=L(t.width)/e.offsetWidth||1,r=L(t.height)/e.offsetHeight||1;return 1!==n||1!==r}(t),s=H(t),c=z(e,a,n),l={scrollLeft:0,scrollTop:0},u={x:0,y:0};return(o||!o&&!n)&&(("body"!==A(t)||de(s))&&(l=(r=t)!==O(r)&&C(r)?{scrollLeft:(i=r).scrollLeft,scrollTop:i.scrollTop}:le(r)),C(t)?((u=z(t,!0)).x+=t.clientLeft,u.y+=t.clientTop):s&&(u.x=ue(s))),{x:c.left+l.scrollLeft-u.x,y:c.top+l.scrollTop-u.y,width:c.width,height:c.height}}function Ae(e){var t=new Map,n=new Set,r=[];function i(e){n.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach((function(e){if(!n.has(e)){var r=t.get(e);r&&i(r)}})),r.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){n.has(e.name)||i(e)})),r}var Oe={placement:"bottom",modifiers:[],strategy:"absolute"};function Te(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some((function(e){return!(e&&"function"==typeof e.getBoundingClientRect)}))}function Ce(e){void 0===e&&(e={});var t=e,n=t.defaultModifiers,r=void 0===n?[]:n,i=t.defaultOptions,o=void 0===i?Oe:i;return function(e,t,n){void 0===n&&(n=o);var i,a,s={placement:"bottom",orderedModifiers:[],options:Object.assign({},Oe,o),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},c=[],l=!1,u={state:s,setOptions:function(n){var i="function"==typeof n?n(s.options):n;d(),s.options=Object.assign({},o,s.options,i),s.scrollParents={reference:T(e)?he(e):e.contextElement?he(e.contextElement):[],popper:he(t)};var a,l,f=function(e){var t=Ae(e);return S.reduce((function(e,n){return e.concat(t.filter((function(e){return e.phase===n})))}),[])}((a=[].concat(r,s.options.modifiers),l=a.reduce((function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e}),{}),Object.keys(l).map((function(e){return l[e]}))));return s.orderedModifiers=f.filter((function(e){return e.enabled})),s.orderedModifiers.forEach((function(e){var t=e.name,n=e.options,r=void 0===n?{}:n,i=e.effect;if("function"==typeof i){var o=i({state:s,name:t,instance:u,options:r});c.push(o||function(){})}})),u.update()},forceUpdate:function(){if(!l){var e=s.elements,t=e.reference,n=e.popper;if(Te(t,n)){s.rects={reference:Se(t,V(n),"fixed"===s.options.strategy),popper:j(n)},s.reset=!1,s.placement=s.options.placement,s.orderedModifiers.forEach((function(e){return s.modifiersData[e.name]=Object.assign({},e.data)}));for(var r=0;r<s.orderedModifiers.length;r++)if(!0!==s.reset){var i=s.orderedModifiers[r],o=i.fn,a=i.options,c=void 0===a?{}:a,d=i.name;"function"==typeof o&&(s=o({state:s,options:c,name:d,instance:u})||s)}else s.reset=!1,r=-1}}},update:(i=function(){return new Promise((function(e){u.forceUpdate(),e(s)}))},function(){return a||(a=new Promise((function(e){Promise.resolve().then((function(){a=void 0,e(i())}))}))),a}),destroy:function(){d(),l=!0}};if(!Te(e,t))return u;function d(){c.forEach((function(e){return e()})),c=[]}return u.setOptions(n).then((function(e){!l&&n.onFirstUpdate&&n.onFirstUpdate(e)})),u}}var Ne=Ce(),Ie=Ce({defaultModifiers:[ie,Ee,ne,I,ke,_e,xe,Q,we]}),Re=Ce({defaultModifiers:[ie,Ee,ne,I]});const Pe=new Map,Be={set(e,t,n){Pe.has(e)||Pe.set(e,new Map);const r=Pe.get(e);r.has(t)||0===r.size?r.set(t,n):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(r.keys())[0]}.`)},get:(e,t)=>Pe.has(e)&&Pe.get(e).get(t)||null,remove(e,t){if(!Pe.has(e))return;const n=Pe.get(e);n.delete(t),0===n.size&&Pe.delete(e)}},Le="transitionend",De=e=>(e&&window.CSS&&window.CSS.escape&&(e=e.replace(/#([^\s"#']+)/g,((e,t)=>`#${CSS.escape(t)}`))),e),Me=e=>{e.dispatchEvent(new Event(Le))},ze=e=>!(!e||"object"!=typeof e)&&(void 0!==e.jquery&&(e=e[0]),void 0!==e.nodeType),je=e=>ze(e)?e.jquery?e[0]:e:"string"==typeof e&&e.length>0?document.querySelector(De(e)):null,Fe=e=>{if(!ze(e)||0===e.getClientRects().length)return!1;const t="visible"===getComputedStyle(e).getPropertyValue("visibility"),n=e.closest("details:not([open])");if(!n)return t;if(n!==e){const t=e.closest("summary");if(t&&t.parentNode!==n)return!1;if(null===t)return!1}return t},Ue=e=>!e||e.nodeType!==Node.ELEMENT_NODE||!!e.classList.contains("disabled")||(void 0!==e.disabled?e.disabled:e.hasAttribute("disabled")&&"false"!==e.getAttribute("disabled")),We=e=>{if(!document.documentElement.attachShadow)return null;if("function"==typeof e.getRootNode){const t=e.getRootNode();return t instanceof ShadowRoot?t:null}return e instanceof ShadowRoot?e:e.parentNode?We(e.parentNode):null},$e=()=>{},He=e=>{e.offsetHeight},Ge=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,Ze=[],Ve=()=>"rtl"===document.documentElement.dir,Ye=e=>{var t;t=()=>{const t=Ge();if(t){const n=e.NAME,r=t.fn[n];t.fn[n]=e.jQueryInterface,t.fn[n].Constructor=e,t.fn[n].noConflict=()=>(t.fn[n]=r,e.jQueryInterface)}},"loading"===document.readyState?(Ze.length||document.addEventListener("DOMContentLoaded",(()=>{for(const e of Ze)e()})),Ze.push(t)):t()},qe=(e,t=[],n=e)=>"function"==typeof e?e(...t):n,Ke=(e,t,n=!0)=>{if(!n)return void qe(e);const r=(e=>{if(!e)return 0;let{transitionDuration:t,transitionDelay:n}=window.getComputedStyle(e);const r=Number.parseFloat(t),i=Number.parseFloat(n);return r||i?(t=t.split(",")[0],n=n.split(",")[0],1e3*(Number.parseFloat(t)+Number.parseFloat(n))):0})(t)+5;let i=!1;const o=({target:n})=>{n===t&&(i=!0,t.removeEventListener(Le,o),qe(e))};t.addEventListener(Le,o),setTimeout((()=>{i||Me(t)}),r)},Xe=(e,t,n,r)=>{const i=e.length;let o=e.indexOf(t);return-1===o?!n&&r?e[i-1]:e[0]:(o+=n?1:-1,r&&(o=(o+i)%i),e[Math.max(0,Math.min(o,i-1))])},Qe=/[^.]*(?=\..*)\.|.*/,Je=/\..*/,et=/::\d+$/,tt={};let nt=1;const rt={mouseenter:"mouseover",mouseleave:"mouseout"},it=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function ot(e,t){return t&&`${t}::${nt++}`||e.uidEvent||nt++}function at(e){const t=ot(e);return e.uidEvent=t,tt[t]=tt[t]||{},tt[t]}function st(e,t,n=null){return Object.values(e).find((e=>e.callable===t&&e.delegationSelector===n))}function ct(e,t,n){const r="string"==typeof t,i=r?n:t||n;let o=ft(e);return it.has(o)||(o=e),[r,i,o]}function lt(e,t,n,r,i){if("string"!=typeof t||!e)return;let[o,a,s]=ct(t,n,r);if(t in rt){const e=e=>function(t){if(!t.relatedTarget||t.relatedTarget!==t.delegateTarget&&!t.delegateTarget.contains(t.relatedTarget))return e.call(this,t)};a=e(a)}const c=at(e),l=c[s]||(c[s]={}),u=st(l,a,o?n:null);if(u)return void(u.oneOff=u.oneOff&&i);const d=ot(a,t.replace(Qe,"")),f=o?function(e,t,n){return function r(i){const o=e.querySelectorAll(t);for(let{target:a}=i;a&&a!==this;a=a.parentNode)for(const s of o)if(s===a)return pt(i,{delegateTarget:a}),r.oneOff&&ht.off(e,i.type,t,n),n.apply(a,[i])}}(e,n,a):function(e,t){return function n(r){return pt(r,{delegateTarget:e}),n.oneOff&&ht.off(e,r.type,t),t.apply(e,[r])}}(e,a);f.delegationSelector=o?n:null,f.callable=a,f.oneOff=i,f.uidEvent=d,l[d]=f,e.addEventListener(s,f,o)}function ut(e,t,n,r,i){const o=st(t[n],r,i);o&&(e.removeEventListener(n,o,Boolean(i)),delete t[n][o.uidEvent])}function dt(e,t,n,r){const i=t[n]||{};for(const[o,a]of Object.entries(i))o.includes(r)&&ut(e,t,n,a.callable,a.delegationSelector)}function ft(e){return e=e.replace(Je,""),rt[e]||e}const ht={on(e,t,n,r){lt(e,t,n,r,!1)},one(e,t,n,r){lt(e,t,n,r,!0)},off(e,t,n,r){if("string"!=typeof t||!e)return;const[i,o,a]=ct(t,n,r),s=a!==t,c=at(e),l=c[a]||{},u=t.startsWith(".");if(void 0===o){if(u)for(const n of Object.keys(c))dt(e,c,n,t.slice(1));for(const[n,r]of Object.entries(l)){const i=n.replace(et,"");s&&!t.includes(i)||ut(e,c,a,r.callable,r.delegationSelector)}}else{if(!Object.keys(l).length)return;ut(e,c,a,o,i?n:null)}},trigger(e,t,n){if("string"!=typeof t||!e)return null;const r=Ge();let i=null,o=!0,a=!0,s=!1;t!==ft(t)&&r&&(i=r.Event(t,n),r(e).trigger(i),o=!i.isPropagationStopped(),a=!i.isImmediatePropagationStopped(),s=i.isDefaultPrevented());const c=pt(new Event(t,{bubbles:o,cancelable:!0}),n);return s&&c.preventDefault(),a&&e.dispatchEvent(c),c.defaultPrevented&&i&&i.preventDefault(),c}};function pt(e,t={}){for(const[n,r]of Object.entries(t))try{e[n]=r}catch(t){Object.defineProperty(e,n,{configurable:!0,get:()=>r})}return e}function mt(e){if("true"===e)return!0;if("false"===e)return!1;if(e===Number(e).toString())return Number(e);if(""===e||"null"===e)return null;if("string"!=typeof e)return e;try{return JSON.parse(decodeURIComponent(e))}catch(t){return e}}function vt(e){return e.replace(/[A-Z]/g,(e=>`-${e.toLowerCase()}`))}const gt={setDataAttribute(e,t,n){e.setAttribute(`data-bs-${vt(t)}`,n)},removeDataAttribute(e,t){e.removeAttribute(`data-bs-${vt(t)}`)},getDataAttributes(e){if(!e)return{};const t={},n=Object.keys(e.dataset).filter((e=>e.startsWith("bs")&&!e.startsWith("bsConfig")));for(const r of n){let n=r.replace(/^bs/,"");n=n.charAt(0).toLowerCase()+n.slice(1,n.length),t[n]=mt(e.dataset[r])}return t},getDataAttribute:(e,t)=>mt(e.getAttribute(`data-bs-${vt(t)}`))};class _t{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(e){return e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e}_mergeConfigObj(e,t){const n=ze(t)?gt.getDataAttribute(t,"config"):{};return{...this.constructor.Default,..."object"==typeof n?n:{},...ze(t)?gt.getDataAttributes(t):{},..."object"==typeof e?e:{}}}_typeCheckConfig(e,t=this.constructor.DefaultType){for(const[r,i]of Object.entries(t)){const t=e[r],o=ze(t)?"element":null==(n=t)?`${n}`:Object.prototype.toString.call(n).match(/\s([a-z]+)/i)[1].toLowerCase();if(!new RegExp(i).test(o))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${r}" provided type "${o}" but expected type "${i}".`)}var n}}class yt extends _t{constructor(e,t){super(),(e=je(e))&&(this._element=e,this._config=this._getConfig(t),Be.set(this._element,this.constructor.DATA_KEY,this))}dispose(){Be.remove(this._element,this.constructor.DATA_KEY),ht.off(this._element,this.constructor.EVENT_KEY);for(const e of Object.getOwnPropertyNames(this))this[e]=null}_queueCallback(e,t,n=!0){Ke(e,t,n)}_getConfig(e){return e=this._mergeConfigObj(e,this._element),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}static getInstance(e){return Be.get(je(e),this.DATA_KEY)}static getOrCreateInstance(e,t={}){return this.getInstance(e)||new this(e,"object"==typeof t?t:null)}static get VERSION(){return"5.3.3"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(e){return`${e}${this.EVENT_KEY}`}}const bt=e=>{let t=e.getAttribute("data-bs-target");if(!t||"#"===t){let n=e.getAttribute("href");if(!n||!n.includes("#")&&!n.startsWith("."))return null;n.includes("#")&&!n.startsWith("#")&&(n=`#${n.split("#")[1]}`),t=n&&"#"!==n?n.trim():null}return t?t.split(",").map((e=>De(e))).join(","):null},wt={find:(e,t=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(t,e)),findOne:(e,t=document.documentElement)=>Element.prototype.querySelector.call(t,e),children:(e,t)=>[].concat(...e.children).filter((e=>e.matches(t))),parents(e,t){const n=[];let r=e.parentNode.closest(t);for(;r;)n.push(r),r=r.parentNode.closest(t);return n},prev(e,t){let n=e.previousElementSibling;for(;n;){if(n.matches(t))return[n];n=n.previousElementSibling}return[]},next(e,t){let n=e.nextElementSibling;for(;n;){if(n.matches(t))return[n];n=n.nextElementSibling}return[]},focusableChildren(e){const t=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map((e=>`${e}:not([tabindex^="-"])`)).join(",");return this.find(t,e).filter((e=>!Ue(e)&&Fe(e)))},getSelectorFromElement(e){const t=bt(e);return t&&wt.findOne(t)?t:null},getElementFromSelector(e){const t=bt(e);return t?wt.findOne(t):null},getMultipleElementsFromSelector(e){const t=bt(e);return t?wt.find(t):[]}},kt=(e,t="hide")=>{const n=`click.dismiss${e.EVENT_KEY}`,r=e.NAME;ht.on(document,n,`[data-bs-dismiss="${r}"]`,(function(n){if(["A","AREA"].includes(this.tagName)&&n.preventDefault(),Ue(this))return;const i=wt.getElementFromSelector(this)||this.closest(`.${r}`);e.getOrCreateInstance(i)[t]()}))},Et=".bs.alert",xt=`close${Et}`,St=`closed${Et}`;class At extends yt{static get NAME(){return"alert"}close(){if(ht.trigger(this._element,xt).defaultPrevented)return;this._element.classList.remove("show");const e=this._element.classList.contains("fade");this._queueCallback((()=>this._destroyElement()),this._element,e)}_destroyElement(){this._element.remove(),ht.trigger(this._element,St),this.dispose()}static jQueryInterface(e){return this.each((function(){const t=At.getOrCreateInstance(this);if("string"==typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError(`No method named "${e}"`);t[e](this)}}))}}kt(At,"close"),Ye(At);const Ot='[data-bs-toggle="button"]';class Tt extends yt{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(e){return this.each((function(){const t=Tt.getOrCreateInstance(this);"toggle"===e&&t[e]()}))}}ht.on(document,"click.bs.button.data-api",Ot,(e=>{e.preventDefault();const t=e.target.closest(Ot);Tt.getOrCreateInstance(t).toggle()})),Ye(Tt);const Ct=".bs.swipe",Nt=`touchstart${Ct}`,It=`touchmove${Ct}`,Rt=`touchend${Ct}`,Pt=`pointerdown${Ct}`,Bt=`pointerup${Ct}`,Lt={endCallback:null,leftCallback:null,rightCallback:null},Dt={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class Mt extends _t{constructor(e,t){super(),this._element=e,e&&Mt.isSupported()&&(this._config=this._getConfig(t),this._deltaX=0,this._supportPointerEvents=Boolean(window.PointerEvent),this._initEvents())}static get Default(){return Lt}static get DefaultType(){return Dt}static get NAME(){return"swipe"}dispose(){ht.off(this._element,Ct)}_start(e){this._supportPointerEvents?this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX):this._deltaX=e.touches[0].clientX}_end(e){this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX-this._deltaX),this._handleSwipe(),qe(this._config.endCallback)}_move(e){this._deltaX=e.touches&&e.touches.length>1?0:e.touches[0].clientX-this._deltaX}_handleSwipe(){const e=Math.abs(this._deltaX);if(e<=40)return;const t=e/this._deltaX;this._deltaX=0,t&&qe(t>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(ht.on(this._element,Pt,(e=>this._start(e))),ht.on(this._element,Bt,(e=>this._end(e))),this._element.classList.add("pointer-event")):(ht.on(this._element,Nt,(e=>this._start(e))),ht.on(this._element,It,(e=>this._move(e))),ht.on(this._element,Rt,(e=>this._end(e))))}_eventIsPointerPenTouch(e){return this._supportPointerEvents&&("pen"===e.pointerType||"touch"===e.pointerType)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const zt=".bs.carousel",jt=".data-api",Ft="ArrowLeft",Ut="ArrowRight",Wt="next",$t="prev",Ht="left",Gt="right",Zt=`slide${zt}`,Vt=`slid${zt}`,Yt=`keydown${zt}`,qt=`mouseenter${zt}`,Kt=`mouseleave${zt}`,Xt=`dragstart${zt}`,Qt=`load${zt}${jt}`,Jt=`click${zt}${jt}`,en="carousel",tn="active",nn=".active",rn=".carousel-item",on=nn+rn,an={[Ft]:Gt,[Ut]:Ht},sn={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},cn={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class ln extends yt{constructor(e,t){super(e,t),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=wt.findOne(".carousel-indicators",this._element),this._addEventListeners(),this._config.ride===en&&this.cycle()}static get Default(){return sn}static get DefaultType(){return cn}static get NAME(){return"carousel"}next(){this._slide(Wt)}nextWhenVisible(){!document.hidden&&Fe(this._element)&&this.next()}prev(){this._slide($t)}pause(){this._isSliding&&Me(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval((()=>this.nextWhenVisible()),this._config.interval)}_maybeEnableCycle(){this._config.ride&&(this._isSliding?ht.one(this._element,Vt,(()=>this.cycle())):this.cycle())}to(e){const t=this._getItems();if(e>t.length-1||e<0)return;if(this._isSliding)return void ht.one(this._element,Vt,(()=>this.to(e)));const n=this._getItemIndex(this._getActive());if(n===e)return;const r=e>n?Wt:$t;this._slide(r,t[e])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(e){return e.defaultInterval=e.interval,e}_addEventListeners(){this._config.keyboard&&ht.on(this._element,Yt,(e=>this._keydown(e))),"hover"===this._config.pause&&(ht.on(this._element,qt,(()=>this.pause())),ht.on(this._element,Kt,(()=>this._maybeEnableCycle()))),this._config.touch&&Mt.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const e of wt.find(".carousel-item img",this._element))ht.on(e,Xt,(e=>e.preventDefault()));const e={leftCallback:()=>this._slide(this._directionToOrder(Ht)),rightCallback:()=>this._slide(this._directionToOrder(Gt)),endCallback:()=>{"hover"===this._config.pause&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout((()=>this._maybeEnableCycle()),500+this._config.interval))}};this._swipeHelper=new Mt(this._element,e)}_keydown(e){if(/input|textarea/i.test(e.target.tagName))return;const t=an[e.key];t&&(e.preventDefault(),this._slide(this._directionToOrder(t)))}_getItemIndex(e){return this._getItems().indexOf(e)}_setActiveIndicatorElement(e){if(!this._indicatorsElement)return;const t=wt.findOne(nn,this._indicatorsElement);t.classList.remove(tn),t.removeAttribute("aria-current");const n=wt.findOne(`[data-bs-slide-to="${e}"]`,this._indicatorsElement);n&&(n.classList.add(tn),n.setAttribute("aria-current","true"))}_updateInterval(){const e=this._activeElement||this._getActive();if(!e)return;const t=Number.parseInt(e.getAttribute("data-bs-interval"),10);this._config.interval=t||this._config.defaultInterval}_slide(e,t=null){if(this._isSliding)return;const n=this._getActive(),r=e===Wt,i=t||Xe(this._getItems(),n,r,this._config.wrap);if(i===n)return;const o=this._getItemIndex(i),a=t=>ht.trigger(this._element,t,{relatedTarget:i,direction:this._orderToDirection(e),from:this._getItemIndex(n),to:o});if(a(Zt).defaultPrevented)return;if(!n||!i)return;const s=Boolean(this._interval);this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(o),this._activeElement=i;const c=r?"carousel-item-start":"carousel-item-end",l=r?"carousel-item-next":"carousel-item-prev";i.classList.add(l),He(i),n.classList.add(c),i.classList.add(c),this._queueCallback((()=>{i.classList.remove(c,l),i.classList.add(tn),n.classList.remove(tn,l,c),this._isSliding=!1,a(Vt)}),n,this._isAnimated()),s&&this.cycle()}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return wt.findOne(on,this._element)}_getItems(){return wt.find(rn,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(e){return Ve()?e===Ht?$t:Wt:e===Ht?Wt:$t}_orderToDirection(e){return Ve()?e===$t?Ht:Gt:e===$t?Gt:Ht}static jQueryInterface(e){return this.each((function(){const t=ln.getOrCreateInstance(this,e);if("number"!=typeof e){if("string"==typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError(`No method named "${e}"`);t[e]()}}else t.to(e)}))}}ht.on(document,Jt,"[data-bs-slide], [data-bs-slide-to]",(function(e){const t=wt.getElementFromSelector(this);if(!t||!t.classList.contains(en))return;e.preventDefault();const n=ln.getOrCreateInstance(t),r=this.getAttribute("data-bs-slide-to");return r?(n.to(r),void n._maybeEnableCycle()):"next"===gt.getDataAttribute(this,"slide")?(n.next(),void n._maybeEnableCycle()):(n.prev(),void n._maybeEnableCycle())})),ht.on(window,Qt,(()=>{const e=wt.find('[data-bs-ride="carousel"]');for(const t of e)ln.getOrCreateInstance(t)})),Ye(ln);const un=".bs.collapse",dn=`show${un}`,fn=`shown${un}`,hn=`hide${un}`,pn=`hidden${un}`,mn=`click${un}.data-api`,vn="show",gn="collapse",_n="collapsing",yn=`:scope .${gn} .${gn}`,bn='[data-bs-toggle="collapse"]',wn={parent:null,toggle:!0},kn={parent:"(null|element)",toggle:"boolean"};class En extends yt{constructor(e,t){super(e,t),this._isTransitioning=!1,this._triggerArray=[];const n=wt.find(bn);for(const e of n){const t=wt.getSelectorFromElement(e),n=wt.find(t).filter((e=>e===this._element));null!==t&&n.length&&this._triggerArray.push(e)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return wn}static get DefaultType(){return kn}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let e=[];if(this._config.parent&&(e=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter((e=>e!==this._element)).map((e=>En.getOrCreateInstance(e,{toggle:!1})))),e.length&&e[0]._isTransitioning)return;if(ht.trigger(this._element,dn).defaultPrevented)return;for(const t of e)t.hide();const t=this._getDimension();this._element.classList.remove(gn),this._element.classList.add(_n),this._element.style[t]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const n=`scroll${t[0].toUpperCase()+t.slice(1)}`;this._queueCallback((()=>{this._isTransitioning=!1,this._element.classList.remove(_n),this._element.classList.add(gn,vn),this._element.style[t]="",ht.trigger(this._element,fn)}),this._element,!0),this._element.style[t]=`${this._element[n]}px`}hide(){if(this._isTransitioning||!this._isShown())return;if(ht.trigger(this._element,hn).defaultPrevented)return;const e=this._getDimension();this._element.style[e]=`${this._element.getBoundingClientRect()[e]}px`,He(this._element),this._element.classList.add(_n),this._element.classList.remove(gn,vn);for(const e of this._triggerArray){const t=wt.getElementFromSelector(e);t&&!this._isShown(t)&&this._addAriaAndCollapsedClass([e],!1)}this._isTransitioning=!0,this._element.style[e]="",this._queueCallback((()=>{this._isTransitioning=!1,this._element.classList.remove(_n),this._element.classList.add(gn),ht.trigger(this._element,pn)}),this._element,!0)}_isShown(e=this._element){return e.classList.contains(vn)}_configAfterMerge(e){return e.toggle=Boolean(e.toggle),e.parent=je(e.parent),e}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const e=this._getFirstLevelChildren(bn);for(const t of e){const e=wt.getElementFromSelector(t);e&&this._addAriaAndCollapsedClass([t],this._isShown(e))}}_getFirstLevelChildren(e){const t=wt.find(yn,this._config.parent);return wt.find(e,this._config.parent).filter((e=>!t.includes(e)))}_addAriaAndCollapsedClass(e,t){if(e.length)for(const n of e)n.classList.toggle("collapsed",!t),n.setAttribute("aria-expanded",t)}static jQueryInterface(e){const t={};return"string"==typeof e&&/show|hide/.test(e)&&(t.toggle=!1),this.each((function(){const n=En.getOrCreateInstance(this,t);if("string"==typeof e){if(void 0===n[e])throw new TypeError(`No method named "${e}"`);n[e]()}}))}}ht.on(document,mn,bn,(function(e){("A"===e.target.tagName||e.delegateTarget&&"A"===e.delegateTarget.tagName)&&e.preventDefault();for(const e of wt.getMultipleElementsFromSelector(this))En.getOrCreateInstance(e,{toggle:!1}).toggle()})),Ye(En);const xn="dropdown",Sn=".bs.dropdown",An=".data-api",On="ArrowUp",Tn="ArrowDown",Cn=`hide${Sn}`,Nn=`hidden${Sn}`,In=`show${Sn}`,Rn=`shown${Sn}`,Pn=`click${Sn}${An}`,Bn=`keydown${Sn}${An}`,Ln=`keyup${Sn}${An}`,Dn="show",Mn='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',zn=`${Mn}.${Dn}`,jn=".dropdown-menu",Fn=Ve()?"top-end":"top-start",Un=Ve()?"top-start":"top-end",Wn=Ve()?"bottom-end":"bottom-start",$n=Ve()?"bottom-start":"bottom-end",Hn=Ve()?"left-start":"right-start",Gn=Ve()?"right-start":"left-start",Zn={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},Vn={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class Yn extends yt{constructor(e,t){super(e,t),this._popper=null,this._parent=this._element.parentNode,this._menu=wt.next(this._element,jn)[0]||wt.prev(this._element,jn)[0]||wt.findOne(jn,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return Zn}static get DefaultType(){return Vn}static get NAME(){return xn}toggle(){return this._isShown()?this.hide():this.show()}show(){if(Ue(this._element)||this._isShown())return;const e={relatedTarget:this._element};if(!ht.trigger(this._element,In,e).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(const e of[].concat(...document.body.children))ht.on(e,"mouseover",$e);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(Dn),this._element.classList.add(Dn),ht.trigger(this._element,Rn,e)}}hide(){if(Ue(this._element)||!this._isShown())return;const e={relatedTarget:this._element};this._completeHide(e)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(e){if(!ht.trigger(this._element,Cn,e).defaultPrevented){if("ontouchstart"in document.documentElement)for(const e of[].concat(...document.body.children))ht.off(e,"mouseover",$e);this._popper&&this._popper.destroy(),this._menu.classList.remove(Dn),this._element.classList.remove(Dn),this._element.setAttribute("aria-expanded","false"),gt.removeDataAttribute(this._menu,"popper"),ht.trigger(this._element,Nn,e)}}_getConfig(e){if("object"==typeof(e=super._getConfig(e)).reference&&!ze(e.reference)&&"function"!=typeof e.reference.getBoundingClientRect)throw new TypeError(`${xn.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return e}_createPopper(){if(void 0===e)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let t=this._element;"parent"===this._config.reference?t=this._parent:ze(this._config.reference)?t=je(this._config.reference):"object"==typeof this._config.reference&&(t=this._config.reference);const n=this._getPopperConfig();this._popper=Ie(t,this._menu,n)}_isShown(){return this._menu.classList.contains(Dn)}_getPlacement(){const e=this._parent;if(e.classList.contains("dropend"))return Hn;if(e.classList.contains("dropstart"))return Gn;if(e.classList.contains("dropup-center"))return"top";if(e.classList.contains("dropdown-center"))return"bottom";const t="end"===getComputedStyle(this._menu).getPropertyValue("--bs-position").trim();return e.classList.contains("dropup")?t?Un:Fn:t?$n:Wn}_detectNavbar(){return null!==this._element.closest(".navbar")}_getOffset(){const{offset:e}=this._config;return"string"==typeof e?e.split(",").map((e=>Number.parseInt(e,10))):"function"==typeof e?t=>e(t,this._element):e}_getPopperConfig(){const e={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||"static"===this._config.display)&&(gt.setDataAttribute(this._menu,"popper","static"),e.modifiers=[{name:"applyStyles",enabled:!1}]),{...e,...qe(this._config.popperConfig,[e])}}_selectMenuItem({key:e,target:t}){const n=wt.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter((e=>Fe(e)));n.length&&Xe(n,t,e===Tn,!n.includes(t)).focus()}static jQueryInterface(e){return this.each((function(){const t=Yn.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e])throw new TypeError(`No method named "${e}"`);t[e]()}}))}static clearMenus(e){if(2===e.button||"keyup"===e.type&&"Tab"!==e.key)return;const t=wt.find(zn);for(const n of t){const t=Yn.getInstance(n);if(!t||!1===t._config.autoClose)continue;const r=e.composedPath(),i=r.includes(t._menu);if(r.includes(t._element)||"inside"===t._config.autoClose&&!i||"outside"===t._config.autoClose&&i)continue;if(t._menu.contains(e.target)&&("keyup"===e.type&&"Tab"===e.key||/input|select|option|textarea|form/i.test(e.target.tagName)))continue;const o={relatedTarget:t._element};"click"===e.type&&(o.clickEvent=e),t._completeHide(o)}}static dataApiKeydownHandler(e){const t=/input|textarea/i.test(e.target.tagName),n="Escape"===e.key,r=[On,Tn].includes(e.key);if(!r&&!n)return;if(t&&!n)return;e.preventDefault();const i=this.matches(Mn)?this:wt.prev(this,Mn)[0]||wt.next(this,Mn)[0]||wt.findOne(Mn,e.delegateTarget.parentNode),o=Yn.getOrCreateInstance(i);if(r)return e.stopPropagation(),o.show(),void o._selectMenuItem(e);o._isShown()&&(e.stopPropagation(),o.hide(),i.focus())}}ht.on(document,Bn,Mn,Yn.dataApiKeydownHandler),ht.on(document,Bn,jn,Yn.dataApiKeydownHandler),ht.on(document,Pn,Yn.clearMenus),ht.on(document,Ln,Yn.clearMenus),ht.on(document,Pn,Mn,(function(e){e.preventDefault(),Yn.getOrCreateInstance(this).toggle()})),Ye(Yn);const qn="backdrop",Kn="show",Xn=`mousedown.bs.${qn}`,Qn={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},Jn={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class er extends _t{constructor(e){super(),this._config=this._getConfig(e),this._isAppended=!1,this._element=null}static get Default(){return Qn}static get DefaultType(){return Jn}static get NAME(){return qn}show(e){if(!this._config.isVisible)return void qe(e);this._append();const t=this._getElement();this._config.isAnimated&&He(t),t.classList.add(Kn),this._emulateAnimation((()=>{qe(e)}))}hide(e){this._config.isVisible?(this._getElement().classList.remove(Kn),this._emulateAnimation((()=>{this.dispose(),qe(e)}))):qe(e)}dispose(){this._isAppended&&(ht.off(this._element,Xn),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const e=document.createElement("div");e.className=this._config.className,this._config.isAnimated&&e.classList.add("fade"),this._element=e}return this._element}_configAfterMerge(e){return e.rootElement=je(e.rootElement),e}_append(){if(this._isAppended)return;const e=this._getElement();this._config.rootElement.append(e),ht.on(e,Xn,(()=>{qe(this._config.clickCallback)})),this._isAppended=!0}_emulateAnimation(e){Ke(e,this._getElement(),this._config.isAnimated)}}const tr=".bs.focustrap",nr=`focusin${tr}`,rr=`keydown.tab${tr}`,ir="backward",or={autofocus:!0,trapElement:null},ar={autofocus:"boolean",trapElement:"element"};class sr extends _t{constructor(e){super(),this._config=this._getConfig(e),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return or}static get DefaultType(){return ar}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),ht.off(document,tr),ht.on(document,nr,(e=>this._handleFocusin(e))),ht.on(document,rr,(e=>this._handleKeydown(e))),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,ht.off(document,tr))}_handleFocusin(e){const{trapElement:t}=this._config;if(e.target===document||e.target===t||t.contains(e.target))return;const n=wt.focusableChildren(t);0===n.length?t.focus():this._lastTabNavDirection===ir?n[n.length-1].focus():n[0].focus()}_handleKeydown(e){"Tab"===e.key&&(this._lastTabNavDirection=e.shiftKey?ir:"forward")}}const cr=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",lr=".sticky-top",ur="padding-right",dr="margin-right";class fr{constructor(){this._element=document.body}getWidth(){const e=document.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}hide(){const e=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,ur,(t=>t+e)),this._setElementAttributes(cr,ur,(t=>t+e)),this._setElementAttributes(lr,dr,(t=>t-e))}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,ur),this._resetElementAttributes(cr,ur),this._resetElementAttributes(lr,dr)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(e,t,n){const r=this.getWidth();this._applyManipulationCallback(e,(e=>{if(e!==this._element&&window.innerWidth>e.clientWidth+r)return;this._saveInitialAttribute(e,t);const i=window.getComputedStyle(e).getPropertyValue(t);e.style.setProperty(t,`${n(Number.parseFloat(i))}px`)}))}_saveInitialAttribute(e,t){const n=e.style.getPropertyValue(t);n&&gt.setDataAttribute(e,t,n)}_resetElementAttributes(e,t){this._applyManipulationCallback(e,(e=>{const n=gt.getDataAttribute(e,t);null!==n?(gt.removeDataAttribute(e,t),e.style.setProperty(t,n)):e.style.removeProperty(t)}))}_applyManipulationCallback(e,t){if(ze(e))t(e);else for(const n of wt.find(e,this._element))t(n)}}const hr=".bs.modal",pr=`hide${hr}`,mr=`hidePrevented${hr}`,vr=`hidden${hr}`,gr=`show${hr}`,_r=`shown${hr}`,yr=`resize${hr}`,br=`click.dismiss${hr}`,wr=`mousedown.dismiss${hr}`,kr=`keydown.dismiss${hr}`,Er=`click${hr}.data-api`,xr="modal-open",Sr="show",Ar="modal-static",Or={backdrop:!0,focus:!0,keyboard:!0},Tr={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class Cr extends yt{constructor(e,t){super(e,t),this._dialog=wt.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new fr,this._addEventListeners()}static get Default(){return Or}static get DefaultType(){return Tr}static get NAME(){return"modal"}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){this._isShown||this._isTransitioning||ht.trigger(this._element,gr,{relatedTarget:e}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(xr),this._adjustDialog(),this._backdrop.show((()=>this._showElement(e))))}hide(){this._isShown&&!this._isTransitioning&&(ht.trigger(this._element,pr).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(Sr),this._queueCallback((()=>this._hideModal()),this._element,this._isAnimated())))}dispose(){ht.off(window,hr),ht.off(this._dialog,hr),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new er({isVisible:Boolean(this._config.backdrop),isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new sr({trapElement:this._element})}_showElement(e){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const t=wt.findOne(".modal-body",this._dialog);t&&(t.scrollTop=0),He(this._element),this._element.classList.add(Sr),this._queueCallback((()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,ht.trigger(this._element,_r,{relatedTarget:e})}),this._dialog,this._isAnimated())}_addEventListeners(){ht.on(this._element,kr,(e=>{"Escape"===e.key&&(this._config.keyboard?this.hide():this._triggerBackdropTransition())})),ht.on(window,yr,(()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()})),ht.on(this._element,wr,(e=>{ht.one(this._element,br,(t=>{this._element===e.target&&this._element===t.target&&("static"!==this._config.backdrop?this._config.backdrop&&this.hide():this._triggerBackdropTransition())}))}))}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide((()=>{document.body.classList.remove(xr),this._resetAdjustments(),this._scrollBar.reset(),ht.trigger(this._element,vr)}))}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(ht.trigger(this._element,mr).defaultPrevented)return;const e=this._element.scrollHeight>document.documentElement.clientHeight,t=this._element.style.overflowY;"hidden"===t||this._element.classList.contains(Ar)||(e||(this._element.style.overflowY="hidden"),this._element.classList.add(Ar),this._queueCallback((()=>{this._element.classList.remove(Ar),this._queueCallback((()=>{this._element.style.overflowY=t}),this._dialog)}),this._dialog),this._element.focus())}_adjustDialog(){const e=this._element.scrollHeight>document.documentElement.clientHeight,t=this._scrollBar.getWidth(),n=t>0;if(n&&!e){const e=Ve()?"paddingLeft":"paddingRight";this._element.style[e]=`${t}px`}if(!n&&e){const e=Ve()?"paddingRight":"paddingLeft";this._element.style[e]=`${t}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(e,t){return this.each((function(){const n=Cr.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===n[e])throw new TypeError(`No method named "${e}"`);n[e](t)}}))}}ht.on(document,Er,'[data-bs-toggle="modal"]',(function(e){const t=wt.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&e.preventDefault(),ht.one(t,gr,(e=>{e.defaultPrevented||ht.one(t,vr,(()=>{Fe(this)&&this.focus()}))}));const n=wt.findOne(".modal.show");n&&Cr.getInstance(n).hide(),Cr.getOrCreateInstance(t).toggle(this)})),kt(Cr),Ye(Cr);const Nr=".bs.offcanvas",Ir=".data-api",Rr=`load${Nr}${Ir}`,Pr="show",Br="showing",Lr="hiding",Dr=".offcanvas.show",Mr=`show${Nr}`,zr=`shown${Nr}`,jr=`hide${Nr}`,Fr=`hidePrevented${Nr}`,Ur=`hidden${Nr}`,Wr=`resize${Nr}`,$r=`click${Nr}${Ir}`,Hr=`keydown.dismiss${Nr}`,Gr={backdrop:!0,keyboard:!0,scroll:!1},Zr={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class Vr extends yt{constructor(e,t){super(e,t),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return Gr}static get DefaultType(){return Zr}static get NAME(){return"offcanvas"}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){this._isShown||ht.trigger(this._element,Mr,{relatedTarget:e}).defaultPrevented||(this._isShown=!0,this._backdrop.show(),this._config.scroll||(new fr).hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(Br),this._queueCallback((()=>{this._config.scroll&&!this._config.backdrop||this._focustrap.activate(),this._element.classList.add(Pr),this._element.classList.remove(Br),ht.trigger(this._element,zr,{relatedTarget:e})}),this._element,!0))}hide(){this._isShown&&(ht.trigger(this._element,jr).defaultPrevented||(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(Lr),this._backdrop.hide(),this._queueCallback((()=>{this._element.classList.remove(Pr,Lr),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||(new fr).reset(),ht.trigger(this._element,Ur)}),this._element,!0)))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const e=Boolean(this._config.backdrop);return new er({className:"offcanvas-backdrop",isVisible:e,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:e?()=>{"static"!==this._config.backdrop?this.hide():ht.trigger(this._element,Fr)}:null})}_initializeFocusTrap(){return new sr({trapElement:this._element})}_addEventListeners(){ht.on(this._element,Hr,(e=>{"Escape"===e.key&&(this._config.keyboard?this.hide():ht.trigger(this._element,Fr))}))}static jQueryInterface(e){return this.each((function(){const t=Vr.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError(`No method named "${e}"`);t[e](this)}}))}}ht.on(document,$r,'[data-bs-toggle="offcanvas"]',(function(e){const t=wt.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&e.preventDefault(),Ue(this))return;ht.one(t,Ur,(()=>{Fe(this)&&this.focus()}));const n=wt.findOne(Dr);n&&n!==t&&Vr.getInstance(n).hide(),Vr.getOrCreateInstance(t).toggle(this)})),ht.on(window,Rr,(()=>{for(const e of wt.find(Dr))Vr.getOrCreateInstance(e).show()})),ht.on(window,Wr,(()=>{for(const e of wt.find("[aria-modal][class*=show][class*=offcanvas-]"))"fixed"!==getComputedStyle(e).position&&Vr.getOrCreateInstance(e).hide()})),kt(Vr),Ye(Vr);const Yr={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},qr=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),Kr=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,Xr=(e,t)=>{const n=e.nodeName.toLowerCase();return t.includes(n)?!qr.has(n)||Boolean(Kr.test(e.nodeValue)):t.filter((e=>e instanceof RegExp)).some((e=>e.test(n)))},Qr={allowList:Yr,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},Jr={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},ei={entry:"(string|element|function|null)",selector:"(string|element)"};class ti extends _t{constructor(e){super(),this._config=this._getConfig(e)}static get Default(){return Qr}static get DefaultType(){return Jr}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map((e=>this._resolvePossibleFunction(e))).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(e){return this._checkContent(e),this._config.content={...this._config.content,...e},this}toHtml(){const e=document.createElement("div");e.innerHTML=this._maybeSanitize(this._config.template);for(const[t,n]of Object.entries(this._config.content))this._setContent(e,n,t);const t=e.children[0],n=this._resolvePossibleFunction(this._config.extraClass);return n&&t.classList.add(...n.split(" ")),t}_typeCheckConfig(e){super._typeCheckConfig(e),this._checkContent(e.content)}_checkContent(e){for(const[t,n]of Object.entries(e))super._typeCheckConfig({selector:t,entry:n},ei)}_setContent(e,t,n){const r=wt.findOne(n,e);r&&((t=this._resolvePossibleFunction(t))?ze(t)?this._putElementInTemplate(je(t),r):this._config.html?r.innerHTML=this._maybeSanitize(t):r.textContent=t:r.remove())}_maybeSanitize(e){return this._config.sanitize?function(e,t,n){if(!e.length)return e;if(n&&"function"==typeof n)return n(e);const r=(new window.DOMParser).parseFromString(e,"text/html"),i=[].concat(...r.body.querySelectorAll("*"));for(const e of i){const n=e.nodeName.toLowerCase();if(!Object.keys(t).includes(n)){e.remove();continue}const r=[].concat(...e.attributes),i=[].concat(t["*"]||[],t[n]||[]);for(const t of r)Xr(t,i)||e.removeAttribute(t.nodeName)}return r.body.innerHTML}(e,this._config.allowList,this._config.sanitizeFn):e}_resolvePossibleFunction(e){return qe(e,[this])}_putElementInTemplate(e,t){if(this._config.html)return t.innerHTML="",void t.append(e);t.textContent=e.textContent}}const ni=new Set(["sanitize","allowList","sanitizeFn"]),ri="fade",ii="show",oi=".tooltip-inner",ai=".modal",si="hide.bs.modal",ci="hover",li="focus",ui={AUTO:"auto",TOP:"top",RIGHT:Ve()?"left":"right",BOTTOM:"bottom",LEFT:Ve()?"right":"left"},di={allowList:Yr,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},fi={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class hi extends yt{constructor(t,n){if(void 0===e)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(t,n),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return di}static get DefaultType(){return fi}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){this._isEnabled&&(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()?this._leave():this._enter())}dispose(){clearTimeout(this._timeout),ht.off(this._element.closest(ai),si,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if("none"===this._element.style.display)throw new Error("Please use show on visible elements");if(!this._isWithContent()||!this._isEnabled)return;const e=ht.trigger(this._element,this.constructor.eventName("show")),t=(We(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(e.defaultPrevented||!t)return;this._disposePopper();const n=this._getTipElement();this._element.setAttribute("aria-describedby",n.getAttribute("id"));const{container:r}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(r.append(n),ht.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(n),n.classList.add(ii),"ontouchstart"in document.documentElement)for(const e of[].concat(...document.body.children))ht.on(e,"mouseover",$e);this._queueCallback((()=>{ht.trigger(this._element,this.constructor.eventName("shown")),!1===this._isHovered&&this._leave(),this._isHovered=!1}),this.tip,this._isAnimated())}hide(){if(this._isShown()&&!ht.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented){if(this._getTipElement().classList.remove(ii),"ontouchstart"in document.documentElement)for(const e of[].concat(...document.body.children))ht.off(e,"mouseover",$e);this._activeTrigger.click=!1,this._activeTrigger[li]=!1,this._activeTrigger[ci]=!1,this._isHovered=null,this._queueCallback((()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),ht.trigger(this._element,this.constructor.eventName("hidden")))}),this.tip,this._isAnimated())}}update(){this._popper&&this._popper.update()}_isWithContent(){return Boolean(this._getTitle())}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(e){const t=this._getTemplateFactory(e).toHtml();if(!t)return null;t.classList.remove(ri,ii),t.classList.add(`bs-${this.constructor.NAME}-auto`);const n=(e=>{do{e+=Math.floor(1e6*Math.random())}while(document.getElementById(e));return e})(this.constructor.NAME).toString();return t.setAttribute("id",n),this._isAnimated()&&t.classList.add(ri),t}setContent(e){this._newContent=e,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(e){return this._templateFactory?this._templateFactory.changeContent(e):this._templateFactory=new ti({...this._config,content:e,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[oi]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(e){return this.constructor.getOrCreateInstance(e.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(ri)}_isShown(){return this.tip&&this.tip.classList.contains(ii)}_createPopper(e){const t=qe(this._config.placement,[this,e,this._element]),n=ui[t.toUpperCase()];return Ie(this._element,e,this._getPopperConfig(n))}_getOffset(){const{offset:e}=this._config;return"string"==typeof e?e.split(",").map((e=>Number.parseInt(e,10))):"function"==typeof e?t=>e(t,this._element):e}_resolvePossibleFunction(e){return qe(e,[this._element])}_getPopperConfig(e){const t={placement:e,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:e=>{this._getTipElement().setAttribute("data-popper-placement",e.state.placement)}}]};return{...t,...qe(this._config.popperConfig,[t])}}_setListeners(){const e=this._config.trigger.split(" ");for(const t of e)if("click"===t)ht.on(this._element,this.constructor.eventName("click"),this._config.selector,(e=>{this._initializeOnDelegatedTarget(e).toggle()}));else if("manual"!==t){const e=t===ci?this.constructor.eventName("mouseenter"):this.constructor.eventName("focusin"),n=t===ci?this.constructor.eventName("mouseleave"):this.constructor.eventName("focusout");ht.on(this._element,e,this._config.selector,(e=>{const t=this._initializeOnDelegatedTarget(e);t._activeTrigger["focusin"===e.type?li:ci]=!0,t._enter()})),ht.on(this._element,n,this._config.selector,(e=>{const t=this._initializeOnDelegatedTarget(e);t._activeTrigger["focusout"===e.type?li:ci]=t._element.contains(e.relatedTarget),t._leave()}))}this._hideModalHandler=()=>{this._element&&this.hide()},ht.on(this._element.closest(ai),si,this._hideModalHandler)}_fixTitle(){const e=this._element.getAttribute("title");e&&(this._element.getAttribute("aria-label")||this._element.textContent.trim()||this._element.setAttribute("aria-label",e),this._element.setAttribute("data-bs-original-title",e),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout((()=>{this._isHovered&&this.show()}),this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout((()=>{this._isHovered||this.hide()}),this._config.delay.hide))}_setTimeout(e,t){clearTimeout(this._timeout),this._timeout=setTimeout(e,t)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(e){const t=gt.getDataAttributes(this._element);for(const e of Object.keys(t))ni.has(e)&&delete t[e];return e={...t,..."object"==typeof e&&e?e:{}},e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e.container=!1===e.container?document.body:je(e.container),"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),"number"==typeof e.title&&(e.title=e.title.toString()),"number"==typeof e.content&&(e.content=e.content.toString()),e}_getDelegateConfig(){const e={};for(const[t,n]of Object.entries(this._config))this.constructor.Default[t]!==n&&(e[t]=n);return e.selector=!1,e.trigger="manual",e}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(e){return this.each((function(){const t=hi.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e])throw new TypeError(`No method named "${e}"`);t[e]()}}))}}Ye(hi);const pi=".popover-header",mi=".popover-body",vi={...hi.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},gi={...hi.DefaultType,content:"(null|string|element|function)"};class _i extends hi{static get Default(){return vi}static get DefaultType(){return gi}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[pi]:this._getTitle(),[mi]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(e){return this.each((function(){const t=_i.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e])throw new TypeError(`No method named "${e}"`);t[e]()}}))}}Ye(_i);const yi=".bs.scrollspy",bi=`activate${yi}`,wi=`click${yi}`,ki=`load${yi}.data-api`,Ei="active",xi="[href]",Si=".nav-link",Ai=`${Si}, .nav-item > ${Si}, .list-group-item`,Oi={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},Ti={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class Ci extends yt{constructor(e,t){super(e,t),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement="visible"===getComputedStyle(this._element).overflowY?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return Oi}static get DefaultType(){return Ti}static get NAME(){return"scrollspy"}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const e of this._observableSections.values())this._observer.observe(e)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(e){return e.target=je(e.target)||document.body,e.rootMargin=e.offset?`${e.offset}px 0px -30%`:e.rootMargin,"string"==typeof e.threshold&&(e.threshold=e.threshold.split(",").map((e=>Number.parseFloat(e)))),e}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(ht.off(this._config.target,wi),ht.on(this._config.target,wi,xi,(e=>{const t=this._observableSections.get(e.target.hash);if(t){e.preventDefault();const n=this._rootElement||window,r=t.offsetTop-this._element.offsetTop;if(n.scrollTo)return void n.scrollTo({top:r,behavior:"smooth"});n.scrollTop=r}})))}_getNewObserver(){const e={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver((e=>this._observerCallback(e)),e)}_observerCallback(e){const t=e=>this._targetLinks.get(`#${e.target.id}`),n=e=>{this._previousScrollData.visibleEntryTop=e.target.offsetTop,this._process(t(e))},r=(this._rootElement||document.documentElement).scrollTop,i=r>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=r;for(const o of e){if(!o.isIntersecting){this._activeTarget=null,this._clearActiveClass(t(o));continue}const e=o.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(i&&e){if(n(o),!r)return}else i||e||n(o)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const e=wt.find(xi,this._config.target);for(const t of e){if(!t.hash||Ue(t))continue;const e=wt.findOne(decodeURI(t.hash),this._element);Fe(e)&&(this._targetLinks.set(decodeURI(t.hash),t),this._observableSections.set(t.hash,e))}}_process(e){this._activeTarget!==e&&(this._clearActiveClass(this._config.target),this._activeTarget=e,e.classList.add(Ei),this._activateParents(e),ht.trigger(this._element,bi,{relatedTarget:e}))}_activateParents(e){if(e.classList.contains("dropdown-item"))wt.findOne(".dropdown-toggle",e.closest(".dropdown")).classList.add(Ei);else for(const t of wt.parents(e,".nav, .list-group"))for(const e of wt.prev(t,Ai))e.classList.add(Ei)}_clearActiveClass(e){e.classList.remove(Ei);const t=wt.find(`${xi}.${Ei}`,e);for(const e of t)e.classList.remove(Ei)}static jQueryInterface(e){return this.each((function(){const t=Ci.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError(`No method named "${e}"`);t[e]()}}))}}ht.on(window,ki,(()=>{for(const e of wt.find('[data-bs-spy="scroll"]'))Ci.getOrCreateInstance(e)})),Ye(Ci);const Ni=".bs.tab",Ii=`hide${Ni}`,Ri=`hidden${Ni}`,Pi=`show${Ni}`,Bi=`shown${Ni}`,Li=`click${Ni}`,Di=`keydown${Ni}`,Mi=`load${Ni}`,zi="ArrowLeft",ji="ArrowRight",Fi="ArrowUp",Ui="ArrowDown",Wi="Home",$i="End",Hi="active",Gi="fade",Zi="show",Vi=".dropdown-toggle",Yi=`:not(${Vi})`,qi='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',Ki=`.nav-link${Yi}, .list-group-item${Yi}, [role="tab"]${Yi}, ${qi}`,Xi=`.${Hi}[data-bs-toggle="tab"], .${Hi}[data-bs-toggle="pill"], .${Hi}[data-bs-toggle="list"]`;class Qi extends yt{constructor(e){super(e),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),ht.on(this._element,Di,(e=>this._keydown(e))))}static get NAME(){return"tab"}show(){const e=this._element;if(this._elemIsActive(e))return;const t=this._getActiveElem(),n=t?ht.trigger(t,Ii,{relatedTarget:e}):null;ht.trigger(e,Pi,{relatedTarget:t}).defaultPrevented||n&&n.defaultPrevented||(this._deactivate(t,e),this._activate(e,t))}_activate(e,t){e&&(e.classList.add(Hi),this._activate(wt.getElementFromSelector(e)),this._queueCallback((()=>{"tab"===e.getAttribute("role")?(e.removeAttribute("tabindex"),e.setAttribute("aria-selected",!0),this._toggleDropDown(e,!0),ht.trigger(e,Bi,{relatedTarget:t})):e.classList.add(Zi)}),e,e.classList.contains(Gi)))}_deactivate(e,t){e&&(e.classList.remove(Hi),e.blur(),this._deactivate(wt.getElementFromSelector(e)),this._queueCallback((()=>{"tab"===e.getAttribute("role")?(e.setAttribute("aria-selected",!1),e.setAttribute("tabindex","-1"),this._toggleDropDown(e,!1),ht.trigger(e,Ri,{relatedTarget:t})):e.classList.remove(Zi)}),e,e.classList.contains(Gi)))}_keydown(e){if(![zi,ji,Fi,Ui,Wi,$i].includes(e.key))return;e.stopPropagation(),e.preventDefault();const t=this._getChildren().filter((e=>!Ue(e)));let n;if([Wi,$i].includes(e.key))n=t[e.key===Wi?0:t.length-1];else{const r=[ji,Ui].includes(e.key);n=Xe(t,e.target,r,!0)}n&&(n.focus({preventScroll:!0}),Qi.getOrCreateInstance(n).show())}_getChildren(){return wt.find(Ki,this._parent)}_getActiveElem(){return this._getChildren().find((e=>this._elemIsActive(e)))||null}_setInitialAttributes(e,t){this._setAttributeIfNotExists(e,"role","tablist");for(const e of t)this._setInitialAttributesOnChild(e)}_setInitialAttributesOnChild(e){e=this._getInnerElement(e);const t=this._elemIsActive(e),n=this._getOuterElement(e);e.setAttribute("aria-selected",t),n!==e&&this._setAttributeIfNotExists(n,"role","presentation"),t||e.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(e,"role","tab"),this._setInitialAttributesOnTargetPanel(e)}_setInitialAttributesOnTargetPanel(e){const t=wt.getElementFromSelector(e);t&&(this._setAttributeIfNotExists(t,"role","tabpanel"),e.id&&this._setAttributeIfNotExists(t,"aria-labelledby",`${e.id}`))}_toggleDropDown(e,t){const n=this._getOuterElement(e);if(!n.classList.contains("dropdown"))return;const r=(e,r)=>{const i=wt.findOne(e,n);i&&i.classList.toggle(r,t)};r(Vi,Hi),r(".dropdown-menu",Zi),n.setAttribute("aria-expanded",t)}_setAttributeIfNotExists(e,t,n){e.hasAttribute(t)||e.setAttribute(t,n)}_elemIsActive(e){return e.classList.contains(Hi)}_getInnerElement(e){return e.matches(Ki)?e:wt.findOne(Ki,e)}_getOuterElement(e){return e.closest(".nav-item, .list-group-item")||e}static jQueryInterface(e){return this.each((function(){const t=Qi.getOrCreateInstance(this);if("string"==typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError(`No method named "${e}"`);t[e]()}}))}}ht.on(document,Li,qi,(function(e){["A","AREA"].includes(this.tagName)&&e.preventDefault(),Ue(this)||Qi.getOrCreateInstance(this).show()})),ht.on(window,Mi,(()=>{for(const e of wt.find(Xi))Qi.getOrCreateInstance(e)})),Ye(Qi);const Ji=".bs.toast",eo=`mouseover${Ji}`,to=`mouseout${Ji}`,no=`focusin${Ji}`,ro=`focusout${Ji}`,io=`hide${Ji}`,oo=`hidden${Ji}`,ao=`show${Ji}`,so=`shown${Ji}`,co="hide",lo="show",uo="showing",fo={animation:"boolean",autohide:"boolean",delay:"number"},ho={animation:!0,autohide:!0,delay:5e3};class po extends yt{constructor(e,t){super(e,t),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return ho}static get DefaultType(){return fo}static get NAME(){return"toast"}show(){ht.trigger(this._element,ao).defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove(co),He(this._element),this._element.classList.add(lo,uo),this._queueCallback((()=>{this._element.classList.remove(uo),ht.trigger(this._element,so),this._maybeScheduleHide()}),this._element,this._config.animation))}hide(){this.isShown()&&(ht.trigger(this._element,io).defaultPrevented||(this._element.classList.add(uo),this._queueCallback((()=>{this._element.classList.add(co),this._element.classList.remove(uo,lo),ht.trigger(this._element,oo)}),this._element,this._config.animation)))}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(lo),super.dispose()}isShown(){return this._element.classList.contains(lo)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout((()=>{this.hide()}),this._config.delay)))}_onInteraction(e,t){switch(e.type){case"mouseover":case"mouseout":this._hasMouseInteraction=t;break;case"focusin":case"focusout":this._hasKeyboardInteraction=t}if(t)return void this._clearTimeout();const n=e.relatedTarget;this._element===n||this._element.contains(n)||this._maybeScheduleHide()}_setListeners(){ht.on(this._element,eo,(e=>this._onInteraction(e,!0))),ht.on(this._element,to,(e=>this._onInteraction(e,!1))),ht.on(this._element,no,(e=>this._onInteraction(e,!0))),ht.on(this._element,ro,(e=>this._onInteraction(e,!1)))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(e){return this.each((function(){const t=po.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e])throw new TypeError(`No method named "${e}"`);t[e](this)}}))}}kt(po),Ye(po);var mo=n(611),vo=n.n(mo),go=n(72),_o=n.n(go),yo=n(825),bo=n.n(yo),wo=n(659),ko=n.n(wo),Eo=n(56),xo=n.n(Eo),So=n(540),Ao=n.n(So),Oo=n(113),To=n.n(Oo),Co=n(556),No={};No.styleTagTransform=To(),No.setAttributes=xo(),No.insert=ko().bind(null,"head"),No.domAPI=bo(),No.insertStyleElement=Ao(),_o()(Co.A,No),Co.A&&Co.A.locals&&Co.A.locals;var Io=n(710),Ro=n.n(Io);function Po(e){return(...t)=>!e(...t)}function Bo(e){const t=String(e),n=Number(e),r=!isNaN(parseFloat(t))&&!isNaN(Number(e))&&isFinite(n);return Boolean(r)}function Lo(e,t){return Bo(e)&&Bo(t)&&Number(e)===Number(t)}function Do(e,t){return Lo(e.length,t)}function Mo(e){return null===e}function zo(e){return void 0===e}function jo(e){return Mo(e)||zo(e)}function Fo(e,...t){return function(e){return"function"==typeof e}(e)?e(...t):e}function Uo(e){return!e||(function(e){return Object.prototype.hasOwnProperty.call(e,"length")}(e)?Do(e,0):!!function(e){return"object"==typeof e&&!jo(e)}(e)&&Do(Object.keys(e),0))}Po(Bo),Po(Lo),Po(Do),Po(Mo),Po(zo),Po(jo),Object.assign,Object.freeze({__proto__:null,createBus:function(){const e={};return{emit(e,n){t(e).concat(t("*")).forEach((e=>{e(n)}))},on:(n,r)=>(e[n]=t(n).concat(r),{off(){e[n]=t(n).filter((e=>e!==r))}})};function t(t){return e[t]||[]}}}),function(){return e=0,()=>""+e++;var e}(),Po((function(e){return Boolean(Array.isArray(e))})),Po(Uo),Object.freeze({__proto__:null,createTinyState:function(e){let t;return r(),()=>[t,n,r];function n(e){t=Fo(e,t)}function r(){n(Fo(e))}}}),Object.freeze({__proto__:null,all:function(...e){return t=>!Uo(e)&&e.every((e=>Fo(e,t)))},any:function(...e){return t=>!Uo(e)&&e.some((e=>Fo(e,t)))}});const Wo=Symbol();var $o=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},Ho=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},Go=function(){function e(t,n){this.id=e.idToString(t),this.payload=n}return e.idToString=function(e){return"string"==typeof e?e:JSON.stringify(e)},e}(),Zo=function(){function e(e){this.registry=new Map,this.factory=e}return e.prototype.get=function(e){var t;return null===(t=this.registry.get(Go.idToString(e)))||void 0===t?void 0:t.payload},e.prototype.has=function(e){return this.registry.has(Go.idToString(e))},e.prototype.use=function(e){for(var t,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=this.registry.get(Go.idToString(e));if(!i){var o="function"==typeof this.factory?this.factory.apply(this,Ho([],$o(n),!1)):n[0];o&&(o.id=e),!!o&&(o.parent=this),i=new Go(e,o),this.registry.set(Go.idToString(e),i)}return i.payload&&function(e){return!!e&&"function"==typeof e.use}(i.payload)&&(t=i.payload).use.apply(t,Ho([],$o(n),!1)),i.payload},e.prototype.entries=function(){return Ho([],$o(this.registry.entries()),!1)},e.prototype.values=function(){return Ho([],$o(this.registry.values()),!1)},e.prototype.payloads=function(){return Ho([],$o(this.registry.values()),!1).map((function(e){return e.payload}))},e.prototype.clear=function(){this.registry.clear()},e}();let Vo,Yo;try{Vo=/\s+at\s(?:(?<method>.+?)\s\()?(?<file>.+?):(?<line>\d+):(?<char>\d+)\)?\s*$/}catch(e){Yo=/\s+at\s(?:(.+?)\s\()?(.+?):(\d+):(\d+)\)?\s*$/}const qo={line:-1,char:-1,method:"",file:""};function Ko(e={method:"getCurrentLine",frames:0,immediate:!1}){return function(e,t={immediate:!0}){return function(e,t){let n=!t.file&&!t.method,r=0;for(;r<e.length;){const i=e[r];if(t.file&&("string"==typeof t.file?i.file.includes(t.file):t.file.test(i.file))||t.method&&("string"==typeof t.method?i.method.includes(t.method):t.method.test(i.method))){if(t.immediate)return r+=t.frames||0,e[r];n=!0,++r}else{if(n)return r+=t.frames||0,e[r];++r}}return qo}(function(e){const t=function(e){let t,n;try{t=e.stack}catch(e){try{const e=err.__previous__||err.__previous;t=e&&e.stack}catch(e){t=null}}return n=t?Array.isArray(t)?Array(t):t.toString().split("\n"):[],n}(e);return function(e){const t=[];for(let n of e)if(n=(n||"").toString(),0!==n.length)if(Vo){const e=n.match(Vo);e&&e.groups&&t.push({method:e.groups.method||"",file:e.groups.file||"",line:Number(e.groups.line),char:Number(e.groups.char)})}else{const[e,r,i,o,a]=n.match(Yo)||[];e&&t.push({method:r||"",file:i||"",line:Number(o),char:Number(a)})}return t}(t)}(e),t)}(new Error,e)}var Xo=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},Qo=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},Jo="    ",ea="cm",ta="inches",na="rotations",ra="degrees",ia="seconds",oa="AUTO";function aa(e,t,n){void 0===t&&(t="-"),void 0===n&&(n=80);var r=n-e.length-6;return"# ".concat(t.repeat(Math.floor(r/2))," ").concat(e," ").concat(t.repeat(Math.ceil(r/2))," #")}function sa(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n,r=Ko?(n=Ko({frames:3}),"at ".concat(null==n?void 0:n.method," (").concat(null==n?void 0:n.file,":").concat(null==n?void 0:n.line,":").concat(null==n?void 0:n.char,")")):"";console.log.apply(console,Qo(Qo(["::DEBUG::"],Xo(e),!1),[r],!1))}function ca(e,t){return void 0===t&&(t=1),Array.isArray(e)?e.reduce((function(e,n){return Qo(Qo([],Xo(e),!1),Xo(ca(n,t)),!1)}),[]):e.includes("\n")?ca(e.split("\n"),t):[Jo.repeat(t)+e]}function la(e){return e.trim().toLowerCase().replace(/[ .-]|^\s?\d+/gim,"_").replace(/[áéíóöőúüű]/g,(function(e){return{á:"a",é:"e",í:"i",ó:"o",ö:"o",ő:"o",ú:"u",ü:"u",ű:"u"}[e]||e})).replace(/[^a-zA-Z0-9_]/gim,"")}var ua,da,fa=function(){function e(e){this.name=e}return e.prototype.get_code=function(e){return"".concat(this.get_pyname()," = Message([").concat(e.join(", "),"])")},e.prototype.get_pyname=function(){return"message_".concat(la(this.name))},e.createRegistry=function(){return new Zo((function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return new e(t[0])}))},e}(),ha=function(){function e(){}return Object.defineProperty(e.prototype,"devicename",{get:function(){},enumerable:!1,configurable:!0}),e.prototype.setup_code=function(){return[]},Object.defineProperty(e.prototype,"dependencies",{get:function(){return[]},enumerable:!1,configurable:!0}),e.prototype.ensure_dependencies=function(){},e.createRegistry=function(){return new Map},e}();!function(e){e[e.SIMPLE=0]="SIMPLE",e[e.PARENTHESIS=1]="PARENTHESIS",e[e.REFERENCE=2]="REFERENCE",e[e.EXPONENTIATION=3]="EXPONENTIATION",e[e.UNARY=4]="UNARY",e[e.BINARYOP_MUL=5]="BINARYOP_MUL",e[e.BINARY_ADD=6]="BINARY_ADD",e[e.BINARY_SHIFT=7]="BINARY_SHIFT",e[e.BINARY_AND=8]="BINARY_AND",e[e.BINARY_XOR=9]="BINARY_XOR",e[e.BINARY_OR=10]="BINARY_OR",e[e.BINARY_COMPARISON=11]="BINARY_COMPARISON",e[e.BOOLEAN_NOT=12]="BOOLEAN_NOT",e[e.BOOLEAN_AND=13]="BOOLEAN_AND",e[e.BOOLEAN_OR=14]="BOOLEAN_OR"}(ua||(ua={})),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.NUMBER=1]="NUMBER",e[e.STRING=2]="STRING",e[e.BOOLEAN=3]="BOOLEAN",e[e.OTHER=4]="OTHER"}(da||(da={}));var pa,ma=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},va=function(){function e(t,n){this.options=n,this.value=e.is(t)?t.value:t}return Object.defineProperty(e.prototype,"is_string",{get:function(){var e;return(null===(e=this.options)||void 0===e?void 0:e.type)===da.STRING},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"is_numeric",{get:function(){var e,t;return(null===(e=this.options)||void 0===e?void 0:e.type)===da.NUMBER||!(null===(t=this.options)||void 0===t?void 0:t.is_dynamic)&&!this.is_string&&"number"==typeof this.value},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"raw",{get:function(){var e;return!this.is_string||(null===(e=this.options)||void 0===e?void 0:e.is_dynamic)?this.value:'"'.concat(this.value,'"')},enumerable:!1,configurable:!0}),e.prototype.toString=function(){return e.toString(this)},e.prototype.toInt=function(){return e.toInt(this)},e.prototype.toFloat=function(){return e.toFloat(this)},e.prototype.ensureNumber=function(t){var n;return void 0===t&&(t=!1),this.is_numeric?(null===(n=this.options)||void 0===n?void 0:n.is_dynamic)?this:new e(t?this.toFloat():this.toInt(),{type:da.NUMBER}):ja.helpers.use(t?"int_safe":"float_safe").call(this)},e.is=function(t){return t instanceof e},e.is_dynamic=function(t){var n;return e.is(t)&&(null===(n=t.options)||void 0===n?void 0:n.is_dynamic)},e.raw=function(t){return e.is(t)?t.raw:t},e.value=function(t){return e.is(t)?t.value:t},e.toString=function(t){var n;return(null===(n=e.value(t))||void 0===n?void 0:n.toString())||""},e.toInt=function(t){var n,r=e.is(t)?t.value:t;return parseInt(null!==(n=null==r?void 0:r.toString())&&void 0!==n?n:"")},e.toFloat=function(t){var n,r=e.is(t)?t.value:t;return parseFloat(null!==(n=null==r?void 0:r.toString())&&void 0!==n?n:"")},e.ensureNumber=function(t,n){return void 0===n&&(n=!1),e.is(t)?t.ensureNumber():ja.helpers.use(n?"int_safe":"float_safe").call(t)},e}();function ga(e,t){var n,r,i;void 0===t&&(t=!1);var o=ma(Array.isArray(e)?e:[e,void 0,void 0],3),a=o[0],s=o[1],c=o[2];if(void 0===s)return Array.isArray(a)?ga(a,t):va.is_dynamic(a)?va.is(a)&&(null===(n=a.options)||void 0===n?void 0:n.type)===da.NUMBER?new va(a,{type:da.NUMBER}):va.ensureNumber(a,t):new va(a,{type:da.NUMBER});if(void 0!==c){var l=ga(a,t),u=ga(c,t),d=va.raw(l),f=va.raw(u);if(v=!va.is_dynamic(l)&&!va.is_dynamic(u)){if(void 0===d||void 0===s||void 0===f)return;var h=function(e,t,n){switch(t){case"+":return e+n;case"-":return e-n;case"*":return e*n;case"/":return e/n;case"%":return e%n}}(va.toFloat(d),null==s?void 0:s.toString(),va.toFloat(f));return new va(h,{type:da.NUMBER,precedence:ua.SIMPLE})}var p=["-","+"].includes(s.toString())?ua.BINARY_ADD:["*","/","%"].includes(s.toString())?ua.BINARYOP_MUL:ua.SIMPLE;return(!(null===(r=null==l?void 0:l.options)||void 0===r?void 0:r.precedence)||p<l.options.precedence)&&(d="(".concat(d,")")),(!(null===(i=null==u?void 0:u.options)||void 0===i?void 0:i.precedence)||p<u.options.precedence)&&(f="(".concat(f,")")),new va("".concat(d," ").concat(s," ").concat(f),{is_dynamic:!0,type:da.NUMBER,precedence:p})}var m=ga(s,t),v=!va.is_dynamic(m);return"-"===a?v?new va(-va.toFloat(m),{type:da.NUMBER}):new va("-".concat(va.raw(m)),{is_dynamic:!0,type:da.NUMBER,precedence:ua.UNARY}):"abs"===a?v?new va(Math.abs(va.toFloat(m)),{type:da.NUMBER}):(ja.imports.use("umath",null),new va("umath.fabs(".concat(va.raw(m),")"),{is_dynamic:!0,type:da.NUMBER,precedence:ua.SIMPLE})):void 0}!function(e){e[e.COAST=0]="COAST",e[e.BRAKE=1]="BRAKE",e[e.HOLD=2]="HOLD"}(pa||(pa={}));var _a,ya,ba=new Map([[pa.COAST,"Stop.COAST"],[pa.BRAKE,"Stop.BRAKE"],[pa.HOLD,"Stop.HOLD"]]);!function(e){e[e.FRONT=0]="FRONT",e[e.BACK=1]="BACK",e[e.TOP=2]="TOP",e[e.BOTTOM=3]="BOTTOM",e[e.LEFT=4]="LEFT",e[e.RIGHT=5]="RIGHT"}(_a||(_a={})),new Map([[_a.FRONT,"Side.FRONT"],[_a.BACK,"Side.BACK"],[_a.TOP,"Side.TOP"],[_a.BOTTOM,"Side.BOTTOM"],[_a.LEFT,"Side.LEFT"],[_a.RIGHT,"Side.RIGHT"]]),function(e){e[e.TOP=1]="TOP",e[e.LEFT=2]="LEFT",e[e.RIGHT=3]="RIGHT",e[e.BOTTOM=4]="BOTTOM"}(ya||(ya={}));var wa,ka=new Map([[ya.TOP,"Side.TOP"],[ya.LEFT,"Side.LEFT"],[ya.RIGHT,"Side.RIGHT"],[ya.BOTTOM,"Side.BOTTOM"]]);!function(e){e[e.BLACK=0]="BLACK",e[e.MAGENTA=1]="MAGENTA",e[e.VIOLET=2]="VIOLET",e[e.BLUE=3]="BLUE",e[e.TURQUOISE=4]="TURQUOISE",e[e.GREEN=5]="GREEN",e[e.YELLOWGREEN=6]="YELLOWGREEN",e[e.YELLOW=7]="YELLOW",e[e.ORANGE=8]="ORANGE",e[e.RED=9]="RED",e[e.WHITE=10]="WHITE"}(wa||(wa={}));var Ea=new Map([[wa.BLACK,"Color.BLACK"],[wa.MAGENTA,"Color.MAGENTA"],[wa.VIOLET,"Color.VIOLET"],[wa.BLUE,"Color.BLUE"],[wa.TURQUOISE,"Color.CYAN"],[wa.GREEN,"Color.GREEN"],[wa.YELLOWGREEN,"Color.GREEN"],[wa.YELLOW,"Color.YELLOW"],[wa.ORANGE,"Color.ORANGE"],[wa.RED,"Color.RED"],[wa.WHITE,"Color.WHITE"]]);function xa(e){if(void 0===e&&(e=-1),ja.imports.use("pybricks.parameters","Stop"),ba.has(e))return ba.get(e)}function Sa(e,t){void 0===t&&(t=0);var n=Math.pow(10,t);return Math.round(e*n)/n}function Aa(e){return"="===e.value?new va("=="):e}var Oa=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},Ta=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},Ca=function(){function e(){this.isPyFnEnabled=!1}return e.prototype.call=function(){for(var t,n,r,i,o=this,a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];var c=e._helperFunctionsMap.get(this.id);if(c){if(null===(t=c.imports)||void 0===t||t.forEach((function(e){var t=Oa(e,2),n=t[0],r=t[1];return ja.imports.use(n,r)})),c.local_fn){if(a.every((function(e){return!va.is_dynamic(e)}))&&(!c.local_fn_condition||c.local_fn_condition(a.map((function(e){return va.value(e)}))))){var l=c.local_fn.apply(c,Ta([],Oa(a.map((function(e){return va.value(e)}))),!1));return va.is(l)?l:new va(l,{precedence:ua.SIMPLE,type:null!==(n=c.type)&&void 0!==n?n:"string"==typeof l?da.STRING:da.NUMBER})}if(c.local_dynamic_fn)return l=c.local_fn.apply(c,Ta([],Oa(a),!1)),va.is(l)?l:new va(l,{is_dynamic:!0,type:null!==(r=c.type)&&void 0!==r?r:"string"==typeof l?da.STRING:da.NUMBER})}c.py_fn&&(this.isPyFnEnabled=!0,null===(i=c.py_dependencies)||void 0===i||i.forEach((function(e){return o.parent.use(e).isPyFnEnabled=!0})))}else sa('WARN: missing helper function called "'.concat(this.id,'"'));return new va("".concat(this.id,"(").concat(a.map((function(e){return va.raw(e)})).join(", "),")"),{is_dynamic:!0,type:null==c?void 0:c.type,precedence:ua.SIMPLE})},e.to_global_code=function(t){return Array.from(t.entries()).filter((function(e){return Oa(e,2)[1].payload.isPyFnEnabled})).map((function(t){var n=Oa(t,1)[0],r=e._helperFunctionsMap.get(n);if(r&&r.py_fn){var i=r.py_fn();return null==i?void 0:i.trim().split("\r\n")}return[]})).flat()},e.createRegistry=function(){return new Zo((function(){return new e}))},e._helperFunctionsMap=new Map([["convert_time",{py_fn:function(){return"\ndef convert_time(sec):\n    return float_safe(sec) * 1000"},py_dependencies:["float_safe"],local_fn:function(e){return 1e3*va.toFloat(e)},type:da.NUMBER}],["convert_speed",{py_fn:function(){return"\ndef convert_speed(pct):\n    return float_safe(pct) * 10"},local_fn:function(e){return 10*va.toFloat(e)},py_dependencies:["float_safe"],type:da.NUMBER}],["convert_speed_back",{py_fn:function(){return"\ndef convert_speed_back(deg_s):\n    return float_safe(deg_s) / 10"},py_dependencies:["float_safe"],local_fn:function(e){return va.toFloat(e)/10},type:da.NUMBER}],["hub_speaker_flipper_play",{py_fn:function(){return"\n".concat(ja.asyncPrefix,"def hub_speaker_flipper_play(note, duration):\n    NOTE_FREQS = [16.35, 17.32, 18.35, 19.45, 20.60, 21.83, 23.12, 24.50, 25.96, 27.50, 29.14, 30.87]\n    freq = NOTE_FREQS[note%12] * (2 ** (note//12))\n    ").concat(ja.awaitPrefix,"hub.speaker.beep(freq, duration)")}}],["hub_speaker_iconblocks_play",{py_fn:function(){return"\n".concat(ja.asyncPrefix,'def hub_speaker_iconblocks_play(note):\n    NOTES = [261.63, 293.66, 329.63, 349.23, 392.00, 440.00, 493.88, 523.25]\n    freq = NOTES[((int(note) if note != "?" else randint(1, 8))%8)-1]\n    ').concat(ja.awaitPrefix,"hub.speaker.beep(freq, 500)")}}],["round",{local_fn:function(e){return Sa(va.toFloat(e))},type:da.NUMBER}],["float_safe",{py_fn:function(){return"\ndef float_safe(value, default=0):\n    try: return float(value)\n    except: return default\n"},local_fn_condition:function(e){return e.every((function(e){return"number"==typeof e||"string"==typeof e&&String(parseFloat(e))===e}))},local_fn:function(e){return va.toFloat(e)},type:da.NUMBER}],["str",{local_fn:function(e){return String(e)},type:da.STRING}],["int_safe",{py_fn:function(){return"\ndef int_safe(value, default=0, base=10):\n    try: return int(value, base)\n    except: return default\n"},local_fn_condition:function(e){return e.every((function(e){return"number"==typeof e||"string"==typeof e&&String(parseFloat(e))===e}))},local_fn:function(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=10),parseInt(va.toString(e),va.toInt(n))},type:da.NUMBER}],["event_task",{py_fn:function(){return"\nasync def event_task(condition_fn, stack_fn):\n    while True:\n        while not await condition_fn(): yield\n        await stack_fn()\n        while await condition_fn(): yield"}}],["class_Message",{py_fn:function(){return"\nclass Message:\n    def __init__(self, stack_fns):\n        self.running = False\n        self.signalled = False\n        self.cancelling = False\n        self.stack_fns = stack_fns\n    async def main_fn(self):\n        while True:\n            while not self.signalled: yield\n            self.signalled = False\n            await self.action_fn()\n    async def action_fn(self):\n        await self.guard_single()\n        if self.running:\n            self.cancelling = True\n            while self.running: yield\n            self.cancelling = False\n        try:\n            self.running = True\n            await multitask(self.guard_fn(), multitask(*[stack_fn() for stack_fn in self.stack_fns]), race=True)\n        finally:\n            self.running = False\n    def guard_single(self):\n        if self.running:\n            self.cancelling = True\n            while self.running: yield\n        self.cancelling = False\n    def guard_fn(self):\n        while self.running and not self.cancelling: yield\n    async def broadcast_exec(self, wait):\n        if wait:\n            await self.action_fn()\n        else:\n            await self.guard_single()\n            self.signalled = True"}}],["convert_distance",{local_fn:function(e,t){switch(t){case ea:return Sa(10*(null==va?void 0:va.toFloat(e)),2);case ta:return Sa(25.4*(null==va?void 0:va.toFloat(e)),2);default:return e}},py_fn:function(){return'\ndef convert_distance(value, unit):\n    if unit == "cm": return value * 10\n    elif unit == "inches": return value * 25.4\n    else: return value'},type:da.NUMBER}],["convert_color",{local_fn:function(e){var t=Array.from(Ea.values()),n=va.toInt(e);return n in t?t[n]:"Color.NONE"},py_fn:function(){return"\ndef convert_color(value):\n    COLORS = [Color.BLACK, Color.MAGENTA, Color.VIOLET, Color.BLUE, Color.CYAN, Color.GREEN, Color.GREEN, Color.YELLOW, Color.ORANGE, Color.RED, Color.WHITE]\n    return COLORS[int_safe(value)]"},py_dependencies:["int_safe"],type:da.OTHER,imports:[["pybricks.parameters","Color"]]}],["convert_color_back",{py_fn:function(){return"\ndef convert_color_back(value):\n    colorMap = [".concat(Array.from(Ea.values()).map((function(e,t){return"".concat(e,": ").concat(t)})).join(", "),"]\n    return colorMap.index(value)")},type:da.NUMBER}],["convert_color_matrix",{local_fn:function(e){return"["+(null==e?void 0:e.toString().split("").map((function(e){return ja.helpers.use("convert_color").call(parseInt(e,16))})).join(", "))+"]"},py_fn:function(){return"\ndef convert_color_matrix(colors: Color[]):\n    return [convert_color(int_safe(color,0,16) if color!='?' else randint(0, 10)) for color in colors]"},py_dependencies:["convert_color","int_safe"],type:da.OTHER}],["convert_brightness",{local_fn:function(e){return Sa(Math.min(9,Math.max(0,va.toFloat(e)))/9*100,3)},py_fn:function(){return"\ndef convert_brightness(value):\n    return round(min(9, max(0, value)) / 9 * 100)"},type:da.NUMBER}],["convert_icon_matrix",{py_fn:function(){return"\ndef convert_icon_matrix(value, pixel_brightness=100):\n    return [[round((int(char) if '0' <= char <= '9' else\n             9 if char == 'x' else\n             randint(1, 9)) / 9 * pixel_brightness)\n             for char in value[i:i+5]] for i in range(0, len(value), 5)]"},type:da.OTHER}],["convert_ussensor_distance",{local_fn:function(e,t){switch(va.raw(t)){case ea:return 10*va.toFloat(e);case ta:return 25.4*va.toFloat(e);case"%":return 2e3*va.toFloat(e)/100;default:return e}},py_fn:function(){return'\ndef convert_ussensor_distance(value, unit):\n    if unit == "cm": return value * 10\n    elif unit == "inches": return value * 25.4\n    elif unit == "%": return 2000 * value / 100\n    else: return value'},type:da.NUMBER}],["convert_ussensor_distance_back",{local_fn:function(e,t){switch(va.raw(t)){case ea:return va.toFloat(e)/10;case ta:return va.toFloat(e)/25.4;case"%":return 100*va.toFloat(e)/2e3;default:return e}},py_fn:function(){return'\ndef convert_ussensor_distance_back(value, unit):\n    if unit == "cm": return value / 10\n    elif unit == "inches": return value / 25.4\n    elif unit == "%": return value * 100 / 2000\n    else: return value'},type:da.NUMBER}],["convert_hub_orientation",{local_fn:function(e){var t;return"Side."+(null===(t=va.value(e))||void 0===t?void 0:t.toString().replace("side","").toUpperCase())},py_fn:function(){return"\ndef convert_hub_orientation(value: str):\n    return 'Side.' + value.replace('side', '').upper()"},type:da.OTHER}],["convert_hub_orientation_back",{py_fn:function(){return"\ndef convert_hub_orientation_back(value: Side):\n    value = str(value).replace('Side.', '').lower()\n    return value + 'side' if value in ['left','right'] else value"},type:da.STRING}],["convert_display_orientation",{local_fn:function(e){var t=Array.from(ka.entries()).find((function(t){var n=Oa(t,2),r=n[0];return n[1],r===va.toInt(e)}));return t?t[1]:"Side.ERROR"},py_fn:function(){return"\ndef convert_display_orientation(value):\n    return [Side.TOP, Side.LEFT, Side.RIGHT, Side.BOTTOM][value-1]"},imports:[["pybricks.parameters","Side"]]}],["get_pupdevices",{py_fn:function(){return"\ndef get_pupdevices(class_type, *args):\n    for port in [Port.A,Port.B,Port.C,Port.D,Port.E,Port.F]:\n        try: return class_type(port, *args)\n        except: pass"}}],["pupdevice_type",{py_fn:function(){return"\ndef pupdevice_type(port):\n    try: return PUPDevice(port).info()['id']\n    except: return None"}}],["play_animation",{py_fn:function(){return"\n".concat(ja.asyncPrefix,'def play_animation(anim):\n    while True:\n        for frame in anim["frames"]:\n            hub.display.icon(frame)\n            ').concat(ja.awaitPrefix,'wait(1000/anim["fps"])\n        if not anim["loop"]: break\n')}}]]),e}(),Na=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},Ia=function(){function e(){this.importedItems=new Set}return e.prototype.use=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];t.forEach((function(t){null==t||e.importedItems.has(t)||e.importedItems.add(t)}))},e.to_global_code=function(e){return Array.from(e.entries().sort((function(e,t){var n=Na(e,2),r=n[0],i=(n[1],Na(t,2)),o=i[0];return i[1],r.localeCompare(o)}))).map((function(e){var t,n,r=Na(e,2),i=r[0],o=r[1];return(null===(t=null==o?void 0:o.payload)||void 0===t?void 0:t.importedItems.size)>0?"from ".concat(i," import ")+Array.from(null===(n=null==o?void 0:o.payload)||void 0===n?void 0:n.importedItems.keys()).join(", "):"import ".concat(i)}))},e.createRegistry=function(){return new Zo((function(){return new e}))},e}(),Ra=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},Pa=function(){function e(e,t,n,r){this.id=e,this.blockid=n,this.name=t,this.args=r}return e.prototype.getPyName=function(e){return"".concat(null!=e?e:"").concat(this.name)},e.prototype.getPyDefinition=function(e){var t=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}([],Ra(this.args.values()),!1).map((function(e){return"".concat(e.name,": ").concat(e.type)}));return"".concat(this.getPyName(e),"(").concat(t.join(", "),")")},e.create=function(t,n){var r,i,o,a;void 0===n&&(n=!1);var s=t.getBlock("custom_block"),c=null!==(i=null===(r=s._block.mutation)||void 0===r?void 0:r.proccode)&&void 0!==i?i:"";if(n)return ja.procedures.get(c);var l=la(null!==(a=null===(o=c.match(/^(.*?)(?= %[sb])|^.*/))||void 0===o?void 0:o[0])&&void 0!==a?a:""),u=[],d=[],f=[];return Object.entries(s._block.inputs).forEach((function(e){var t,n=Ra(e,2),r=n[0],i=n[1][1];if("string"!=typeof i)return null;var o=s.getPeerById(i);if(o){var a=o.opcode.replace("argument_reporter_",""),l=la(null===(t=o.get("VALUE"))||void 0===t?void 0:t.toString());f.indexOf(l)>=0&&sa("duplicate argname at ".concat(c," - ").concat(l,"/").concat(r)),f.push(l),d.push(r),u.push("string_number"===a?"string":"boolean")}})),new e(c,l,t._id,f.reduce((function(e,t,n){return e.set(t,{name:t,id:d[n],type:u[n]}),e}),new Map))},e.createRegistry=function(){return new Zo},e}(),Ba=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},La=function(){function e(e,t){this._value=e,this._is_list=t}return Object.defineProperty(e.prototype,"py",{get:function(){return this._py_name_unique},enumerable:!1,configurable:!0}),e.prototype.py_setValue=function(e,t){return e.variablesForWriteAccess.add(this),"".concat(this.py," = ").concat(t)},e.prototype.use=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.generateUniqueName()},e.prototype.generateUniqueName=function(){var e,t,n="string"==typeof this.id?this.id:this.id[0];this._py_name_base="g_".concat(la(n)),this._py_name_unique=(e=this._py_name_base,(t=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}([],Ba(this.parent.values()),!1).filter((function(t){return t.payload._py_name_base===e||t.payload._py_name_unique===e})).length)<=1?e:"".concat(e,"_").concat(t))},e.to_global_code=function(e){return Array.from(e.entries()).map((function(e){var t=Ba(e,2),n=(t[0],t[1]);return"".concat(n.payload._py_name_unique," = ").concat(n.payload._value||(n.payload._is_list?"[]":"None"))}))},e.createRegistry=function(){return new Zo((function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return new e(t[0],t[1])}))},e}(),Da=function(){function e(){this.isAsyncNeeded=!1,this.imports=Ia.createRegistry(),this.broadcasts=fa.createRegistry(),this.variables=La.createRegistry(),this.procedures=Pa.createRegistry(),this.helpers=Ca.createRegistry(),this.devicesRegistry=ha.createRegistry(),this.deviceDefaultSpeeds=new Map}return Object.defineProperty(e.prototype,"awaitPrefix",{get:function(){return this.isAsyncNeeded?"await ":""},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"asyncPrefix",{get:function(){return this.isAsyncNeeded?"async ":""},enumerable:!1,configurable:!0}),e.prototype.clear=function(){this.imports.clear(),this.broadcasts.clear(),this.variables.clear(),this.procedures.clear(),this.helpers.clear(),this.devicesRegistry.clear(),this.deviceDefaultSpeeds.clear(),this.isAsyncNeeded=!1},e}(),Ma=function(){function e(){}return Object.defineProperty(e.prototype,"contextApi",{get:function(){return za},enumerable:!1,configurable:!0}),e.prototype._getContext=function(){return za.useX()},Object.defineProperty(e.prototype,"imports",{get:function(){return this._getContext().imports},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"broadcasts",{get:function(){return this._getContext().broadcasts},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"variables",{get:function(){return this._getContext().variables},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"procedures",{get:function(){return this._getContext().procedures},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"helpers",{get:function(){return this._getContext().helpers},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"devicesRegistry",{get:function(){return this._getContext().devicesRegistry},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"deviceDefaultSpeeds",{get:function(){return this._getContext().deviceDefaultSpeeds},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isAsyncNeeded",{get:function(){return this._getContext().isAsyncNeeded},set:function(e){this._getContext().isAsyncNeeded=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"awaitPrefix",{get:function(){return this._getContext().awaitPrefix},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"asyncPrefix",{get:function(){return this._getContext().asyncPrefix},enumerable:!1,configurable:!0}),e.prototype.clear=function(){this._getContext().clear()},e}(),za=function(e){let t=Wo;return{run:function(e,i){const o=r()?n():Wo;t=e;const a=i();return t=o,a},use:n,useX:function(e){return function(e,t){if(!e)throw t instanceof String?t.valueOf():new Error(t?Fo(t):t)}(r(),function(e,t){var n;return null!==(n=Fo(e))&&void 0!==n?n:Fo(t)}(e,"Not inside of a running context.")),t}};function n(){return r()?t:e}function r(){return t!==Wo}}();const ja=new Ma;var Fa=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},Ua=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))};const Wa={block:function(e){switch(e.opcode){case"control_forever":return function(e){var t=js.process_stack(e.substacks[0]);return Ua(["while True:"],Fa(t),!1)}(e);case"control_repeat":return function(e){var t=e.get("TIMES"),n=js.process_stack(e.substacks[0]);return Ua(["for _ in range(".concat(t.ensureNumber(!0).raw,"):")],Fa(n),!1)}(e);case"control_repeat_until":return function(e){var t=Ss(e.getBlock("CONDITION"),"True"),n=js.process_stack(e.substacks[0]);return Ua(["while not (".concat(t.raw,"):")],Fa(n),!1)}(e);case"control_wait":return function(e){var t=ja.helpers.use("convert_time").call(e.get("DURATION").ensureNumber(!0));return ja.imports.use("pybricks.tools","wait"),["".concat(ja.awaitPrefix,"wait(").concat(t.raw,")")]}(e);case"control_if":case"control_if_else":return function(e){var t=[],n=Ss(e.getBlock("CONDITION"));if(t.push("if ".concat(n.raw,":")),e.substacks[0]){var r=js.process_stack(e.substacks[0]);t.push.apply(t,Ua([],Fa(r),!1))}else t.push.apply(t,Ua([],Fa(ca("pass")),!1));return"control_if_else"===e.opcode&&(t.push("else:"),r=js.process_stack(e.substacks[1]),t.push.apply(t,Ua([],Fa(r),!1))),t}(e);case"control_wait_until":return function(e){var t=Ss(e.getBlock("CONDITION"),"True"),n=js.process_stack(null);return Ua(["while not (".concat(t.raw,"):")],Fa(n),!1)}(e)}},operator:function(e){}};var $a,Ha=($a=function(e,t){return $a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},$a(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}$a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),Ga=function(e){function t(t,n){var r=e.call(this)||this;return r.port=t,r.devicePyClass=n,r}return Ha(t,e),Object.defineProperty(t.prototype,"portString",{get:function(){return t.portToString(this.port)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"devicename",{get:function(){return t.devicename_from_port(this.port,this.devicePyClass)},enumerable:!1,configurable:!0}),t.portToString=function(e){return"Port.".concat(e)},t.prototype.setup_code=function(){return this._setup_code_internal([])},t.prototype._setup_code_internal=function(t){void 0===t&&(t=[]);var n=e.prototype.setup_code.call(this);return ja.imports.use("pybricks.parameters","Port"),ja.imports.use("PUPDevice"===this.devicePyClass?"pybricks.iodevices":"pybricks.pupdevices",this.devicePyClass),n.push.apply(n,["".concat(this.devicename," = ").concat(this.port!==oa?"".concat(this.devicePyClass,"(").concat([this.portString].concat(t).join(", "),")"):"".concat(ja.helpers.use("get_pupdevices").call([this.devicePyClass].concat(t).join(", ")).raw))]),n},t.getDeviceClass=function(e){var t;if(e)return null===(t=ja.devicesRegistry.get(e))||void 0===t?void 0:t.devicePyClass},t.devicename_from_port=function(e,t){var n;return t||(t=this.getDeviceClass(e)),"".concat(null!==(n=null==t?void 0:t.toLowerCase())&&void 0!==n?n:"device","_").concat(null==e?void 0:e.toLowerCase())},t.instance=function(e,t){var n=this.devicename_from_port(e,t),r=ja.devicesRegistry.get(n);return r||(r=this.factory(e,t),ja.devicesRegistry.set(n,r)),r},t.factory=function(e,n){return new t(e,n)},t}(ha),Za={block:function(e){switch(e.opcode){case"flipperdisplay_displayOff":case"flipperlight_lightDisplayOff":return["hub.display.off()"];case"flipperdisplay_centerButtonLight":case"flipperlight_centerButtonLight":return function(e){var t,n=null===(t=ja.helpers.use("convert_color"))||void 0===t?void 0:t.call(e.get("COLOR"));return["hub.light.on(".concat(n.value,")")]}(e);case"flipperdisplay_ledImage":case"flipperlight_lightDisplayImageOn":case"horizontaldisplay_ledImage":case"flipperdisplay_ledImageFor":case"flipperdisplay_ledMatrixFor":case"flipperlight_lightDisplayImageOnForTime":case"horizontaldisplay_ledRandom":return function(e){var t,n=null!==(t=e.get("MATRIX"))&&void 0!==t?t:new va("?".repeat(25),{type:da.STRING}),r=ja.variables.use("pixel_brightness",100),i=["hub.display.icon(".concat(ja.helpers.use("convert_icon_matrix").call(n,r.py),")")];if(e.get("VALUE")){ja.imports.use("pybricks.tools","wait");var o=ja.helpers.use("convert_time").call(e.get("VALUE"));i.push.apply(i,["".concat(ja.awaitPrefix,"wait(").concat(o.raw,")"),"hub.display.off()"])}return i}(e);case"flipperdisplay_ledText":case"flipperlight_lightDisplayText":return function(e){var t,n=e.get("TEXT"),r=(null==n?void 0:n.is_string)?va.raw(n):null===(t=ja.helpers.use("str"))||void 0===t?void 0:t.call(n).value;return["".concat(ja.awaitPrefix,"hub.display.text(").concat(r,")")]}(e);case"flipperdisplay_ledOn":case"flipperlight_lightDisplaySetPixel":return function(e){var t=e.get("X").ensureNumber(!0),n=e.get("Y").ensureNumber(!0),r=e.get("BRIGHTNESS").ensureNumber(),i=ga([t,"-",1],!0),o=ga([n,"-",1],!0);return["hub.display.pixel(".concat(null==i?void 0:i.raw,", ").concat(null==o?void 0:o.raw,", ").concat(r.raw,")")]}(e);case"flipperdisplay_ledSetBrightness":case"flipperlight_lightDisplaySetBrightness":return function(e){var t=e.get("BRIGHTNESS");return[ja.variables.use("pixel_brightness",100).py_setValue(e,va.raw(t))]}(e);case"flipperdisplay_ultrasonicLightUp":case"flipperlight_ultrasonicLightUp":return function(e){var t,n=null===(t=e.get("PORT"))||void 0===t?void 0:t.toString(),r=e.get("VALUE"),i=Ga.instance(n,"UltrasonicSensor").devicename;return["".concat(i,".lights.on([").concat(r.toString().split(" ").join(", "),"])")]}(e);case"displaymonitor_displayWrite":case"displaymonitor_displayWriteForTime":case"horizontaldisplaymonitor_displayWriteWithBuiltInDelay":return function(e){var t=e.get("TEXT");return["print(".concat(t.raw,")")]}(e);case"flipperlight_lightColorMatrixImageOn":case"flipperlight_lightColorMatrixImageOnForTime":case"horizontaldisplay_ledMatrix":case"horizontaldisplay_ledMatrixRandom":return function(e){var t,n,r,i=null!==(n=null===(t=e.get("PORT"))||void 0===t?void 0:t.toString())&&void 0!==n?n:oa,o=null!==(r=e.get("MATRIX"))&&void 0!==r?r:new va("?".repeat(9),{type:da.STRING}),a=ja.helpers.use("convert_color_matrix").call(o),s=Ga.instance(i,"ColorLightMatrix").devicename;return["".concat(ja.awaitPrefix).concat(s,".on(").concat(a,")")]}(e);case"flipperlight_lightDisplaySetOrientation":case"flipperdisplay_ledRotateOrientation":return function(e){var t=e.get("ORIENTATION");return ja.imports.use("pybricks.parameters","Side"),["hub.display.orientation(".concat(ja.helpers.use("convert_display_orientation").call(t),")")]}(e);case"flipperdisplay_ledAnimationUntilDone":case"flipperdisplay_ledAnimation":return function(e){var t=JSON.parse(e.get("MATRIX").toString()),n="animation_"+la(t.animationName),r=ja.variables.get(n);if(!r){var i=parseInt(t.fps),o=t.frames.map((function(e){return"".concat(ja.helpers.use("convert_icon_matrix").call(new va(e.pixels.map((function(e){return Math.round(9*e)})).join(""),{type:da.STRING})))})),a=t.loop?"True":"False",s='{\n    "frames": [\n'.concat(ca(o.join(",\n"),2).join("\n"),'\n    ],\n    "fps": ').concat(i,',\n    "loop": ').concat(a,"\n}");r=ja.variables.use(n,s)}return ja.imports.use("pybricks.tools","wait"),["".concat(ja.awaitPrefix).concat(ja.helpers.use("play_animation").call(r.py))]}(e)}},operator:void 0};const Va=Za;var Ya=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},qa=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))};function Ka(e,t){var n,r=e.getInputAsShadowId("BROADCAST_INPUT"),i=null===(n=ja.broadcasts.get(r))||void 0===n?void 0:n.get_pyname();return["".concat(ja.awaitPrefix).concat(i,".broadcast_exec(").concat(t?"True":"False",")")]}const Xa={block:function(e){switch(e.opcode){case"flippersensors_resetTimer":return ja.imports.use("pybricks.tools","StopWatch"),ja.variables.use("sw_main","StopWatch()"),["sw_main.reset()"];case"flippercontrol_fork":return function(e){function t(e,t){var n=js.process_stack(t),r="substack".concat(e,"_fn");return[r,qa(["def ".concat(r,"():")],Ya(n),!1)]}var n=Ya(t(1,e.substacks[0]),2),r=n[0],i=n[1],o=Ya(t(2,e.substacks[1]),2),a=o[0],s=o[1];return qa(qa(qa([],Ya(i),!1),Ya(s),!1),["multitask(".concat(r,", ").concat(a,")")],!1)}(e);case"flippersensors_resetYaw":return["hub.imu.reset_heading()"];case"event_broadcast":return Ka(e,!1);case"event_broadcastandwait":return Ka(e,!0);case"horizontalevents_broadcast":return function(e){var t,n=null===(t=e.get("CHOICE"))||void 0===t?void 0:t.toString(),r=ja.broadcasts.use(n,n).get_pyname();return["".concat(ja.awaitPrefix).concat(r,".broadcast_exec(False)")]}(e);case"procedures_call":return function(e){var t,n,r=null===(n=null===(t=e._block)||void 0===t?void 0:t.mutation)||void 0===n?void 0:n.proccode,i=ja.procedures.get(r),o=i?qa([],Ya(i.args.values()),!1).map((function(t){try{var n=e.get(t.id);return null!=n?n:function(e){if("string"===e)return new va("",{type:da.STRING});if("boolean"===e)return new va("False",{type:da.BOOLEAN});throw new Error("Unknown type ".concat(e))}(t.type)}catch(n){if(n instanceof Ps)return Ss(e.getBlock(t.id));throw n}})):void 0;return["".concat(ja.awaitPrefix).concat(null==i?void 0:i.name,"(").concat(null==o?void 0:o.map(va.raw).join(", "),")")]}(e)}},operator:function(e){switch(e.opcode){case"flipperevents_whenProgramStarts":case"flipperhorizontalevents_when":return new va("True",{is_dynamic:!0,type:da.BOOLEAN})}}};var Qa=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ja=function(e){function t(t,n){var r=e.call(this,t,"Motor")||this;return r.direction_cw=n,r._default_then=void 0,r}return Qa(t,e),t.factory=function(e,n){return new t(e)},t.getDeviceClass=function(e){return"Motor"},t.instance=function(t,n){return e.instance.call(this,t,n)},t.prototype.get_then=function(){return this._default_then},Object.defineProperty(t.prototype,"default_speed_variable",{get:function(){return"default_speeds[".concat(this.devicename,"]")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"default_then",{set:function(e){this._default_then=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"devicename",{get:function(){return t.devicename_from_port(this.port)},enumerable:!1,configurable:!0}),t.prototype.setup_code=function(){var t,n=!1!==this.direction_cw?[]:["Direction.COUNTERCLOCKWISE"];ja.imports.use("pybricks.parameters","Direction");var r=e.prototype._setup_code_internal.call(this,n);return ja.deviceDefaultSpeeds.set(this.devicename,null===(t=ja.helpers.use("convert_speed"))||void 0===t?void 0:t.call(50).toString()),r},t}(Ga);function es(e,t){var n,r,i=t?null===(n=e.get("PORT"))||void 0===n?void 0:n.toString():oa,o=e.get("SPEED"),a=null===(r=ja.helpers.use("convert_speed"))||void 0===r?void 0:r.call(o);return i.split("").map((function(e){var t=Ja.instance(e);return"".concat(t.default_speed_variable," = ").concat(a.raw)}))}function ts(e,t){var n=e.get("ROTATIONS");return ns(0,oa,n,t,new va(na,{type:da.STRING}))}function ns(e,t,n,r,i){var o;n=n.ensureNumber();var a=Ja.instance(t),s=a.devicename,c=a.get_then()?", ".concat(a.get_then()):"";if(i.value===na||i.value===ra){var l=ga([[r*(i.value===na?360:1)],"*",n.ensureNumber()]);return["".concat(ja.awaitPrefix).concat(s,".run_angle(").concat(a.default_speed_variable,", ").concat(null==l?void 0:l.raw).concat(c,")")]}if(i.value===ia){var u=null===(o=ja.helpers.use("convert_time"))||void 0===o?void 0:o.call(n);return["".concat(ja.awaitPrefix).concat(s,".run_time(").concat(r>0?"":"-").concat(a.default_speed_variable,", ").concat(u.raw).concat(c,")")]}}var rs={block:function(e){switch(e.opcode){case"flippermotor_motorSetSpeed":return es(e,!0);case"horizontalmotor_motorSetSpeed":return es(e,!1);case"flippermotor_motorStartDirection":return function(e){var t=e.get("PORT").toString(),n="clockwise"===e.get("DIRECTION").value?"":"-";return t.split("").map((function(e){var t=Ja.instance(e),r=t.devicename;return"".concat(r,".run(").concat(n).concat(t.default_speed_variable,")")}))}(e);case"flippermotor_motorStop":case"horizontalmotor_motorStop":return function(e){var t,n;return(null!==(n=null===(t=e.get("PORT"))||void 0===t?void 0:t.toString())&&void 0!==n?n:oa).split("").map((function(e){var t=Ja.instance(e),n=t.devicename;switch(t.default_then){case"Stop.HOLD":return"".concat(n,".hold()");case"Stop.COAST":return"".concat(n,".stop()");default:return"".concat(n,".brake()")}}))}(e);case"flippermotor_motorGoDirectionToPosition":return function(e){var t=[],n=e.get("PORT").toString(),r=e.get("POSITION"),i=e.get("DIRECTION").value,o=Ja.instance(n),a=o.devicename;if("shortest"===i);else if("clockwise"===i){var s="(".concat(r.value," - ").concat(a,".angle()) % 360");t.push("".concat(ja.awaitPrefix).concat(a,".run_angle(").concat(o.default_speed_variable,", ").concat(s,", Stop.NONE)"))}else"counterclockwise"===i&&(s="-(360 - (".concat(r.value," - ").concat(a,".angle() % 360))"),t.push("".concat(ja.awaitPrefix).concat(a,".run_angle(").concat(o.default_speed_variable,", ").concat(s,", Stop.NONE)")));var c=o.get_then()?", ".concat(o.get_then()):"",l=ga([r.ensureNumber(),"%",360]);return t.push("".concat(ja.awaitPrefix).concat(a,".run_target(").concat(o.default_speed_variable,", ").concat(null==l?void 0:l.raw).concat(c,")")),t}(e);case"flippermotor_motorTurnForDirection":return function(e){var t=va.toString(e.get("PORT")),n="clockwise"===e.get("DIRECTION").value?1:-1;return ns(0,t,e.get("VALUE"),n,e.get("UNIT"))}(e);case"horizontalmotor_motorTurnClockwiseRotations":return ts(e,1);case"horizontalmotor_motorTurnCounterClockwiseRotations":return ts(e,-1);case"flippermoremotor_motorSetStopMethod":return function(e){var t=e.get("PORT").toString(),n=xa(parseInt(e.get("STOP").toString()));return t.split("").map((function(e){var t=Ja.instance(e),r=t.devicename;return t.default_then=n,"# setting ".concat(r," stop at end to ").concat(n)}))}(e);case"flippermoremotor_motorStartPower":return function(e){var t,n=null===(t=e.get("PORT"))||void 0===t?void 0:t.toString(),r=e.get("POWER");return n.split("").map((function(e){var t=Ja.instance(e).devicename;return"".concat(t,".dc(").concat(r.raw,")")}))}(e)}},operator:function(e){switch(e.opcode){case"flippermotor_absolutePosition":return function(e){var t=e.get("PORT").toString(),n=Ja.instance(t).devicename;return new va("".concat(n,".angle()"),{is_dynamic:!0,type:da.NUMBER,precedence:ua.SIMPLE})}(e);case"flippermotor_speed":return function(e){var t,n=e.get("PORT").toString(),r=Ja.instance(n).devicename;return null===(t=ja.helpers.use("convert_speed_back"))||void 0===t?void 0:t.call(new va("".concat(r,".speed()"),{is_dynamic:!0,type:da.NUMBER,precedence:ua.SIMPLE}))}(e);case"flippermoremotor_power":return function(e){var t=e.get("PORT").toString(),n=Ja.instance(t).devicename;return new va("".concat(n,".load()"),{is_dynamic:!0,type:da.NUMBER,precedence:ua.SIMPLE})}(e)}}};const is=rs;var os=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),as=function(e){function t(t,n,r,i){void 0===i&&(i=!0);var o=e.call(this)||this;return o._ports=t,o._wheel_diameter=n,o._axle_track=r,o._default_then=void 0,o.isExplicitlyUsed=i,o}return os(t,e),t.instance=function(e,n,r,i){void 0===i&&(i=!0);var o=ja.devicesRegistry.get(t.DEVICENAME);return o?(o.ports=null!=e?e:o._ports,o.wheel_diameter=null!=n?n:o._wheel_diameter,o.axle_track=null!=r?r:o._axle_track,o.isExplicitlyUsed||(o.isExplicitlyUsed=i)):(o=new t(e,n,r,i),ja.devicesRegistry.set(t.DEVICENAME,o)),o},t.prototype.get_then=function(){return this._default_then},Object.defineProperty(t.prototype,"default_speed_variable",{get:function(){return"default_speeds[".concat(this.devicename,"]")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"default_then",{set:function(e){this._default_then=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"wheel_diameter",{get:function(){var e;return null!==(e=this._wheel_diameter)&&void 0!==e?e:55.7},set:function(e){this._wheel_diameter=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rotation_distance",{get:function(){var e;return null!==(e=this._rotation_distance)&&void 0!==e?e:175},set:function(e){this._rotation_distance=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rotation_distance_variable",{get:function(){return"".concat(this.devicename,"_rotation_distance")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"axle_track",{get:function(){var e;return null!==(e=this._axle_track)&&void 0!==e?e:117},set:function(e){this._axle_track=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"devicename",{get:function(){return t.DEVICENAME},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dependencies",{get:function(){return this.ensure_dependencies(),[this.motor_left,this.motor_right].filter((function(e){return!!e}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ports",{get:function(){return this._ports||["A","B"]},set:function(e){this._ports=e},enumerable:!1,configurable:!0}),t.prototype.setup_code=function(){var t,n,r;if(!this.isExplicitlyUsed)return[];var i=e.prototype.setup_code.call(this);return i.push.apply(i,["".concat(this.devicename," = DriveBase(").concat(null===(t=this.motor_left)||void 0===t?void 0:t.devicename,", ").concat(null===(n=this.motor_right)||void 0===n?void 0:n.devicename,", ").concat(this.wheel_diameter,", ").concat(this.axle_track,")")]),ja.deviceDefaultSpeeds.set(this.devicename,null===(r=ja.helpers.use("convert_speed"))||void 0===r?void 0:r.call(50).toString()),i},t.prototype.ensure_dependencies=function(){if(this.isExplicitlyUsed){var e=function(e,t){var n=Ja.instance(e);return void 0!==t&&(n.direction_cw=t),n.ensure_dependencies(),n};if(ja.imports.use("pybricks.robotics","DriveBase"),!this.ports||!Array.isArray(this.ports))throw new Error("Invalid ports");this.motor_left=e(this.ports[0],!1),this.motor_right=e(this.ports[1],!0)}},t.DEVICENAME="drivebase",t}(ha);function ss(e,t,n,r,i,o,a){n=n.ensureNumber();var s=r.devicename,c=r.get_then()?", ".concat(r.get_then()):"",l="";return t.value!==ia?function(){var a,u,d,f,h,p,m;if(!r)throw new Error("Device not initialized");if(t.value===ea||t.value===ta)m=null===(a=ja.helpers.use("convert_distance"))||void 0===a?void 0:a.call(n,t);else{if(t.value!==na&&t.value!==ra)throw new Error("Unknown unit ".concat(t.value));var v=(null!==(u=r.rotation_distance)&&void 0!==u?u:0)*(t.value===na?1:1/360);m=ga([n,"*",v])}if(i){if("forward"===i||"back"===i)return l="forward"===i?"":"-",["".concat(ja.awaitPrefix).concat(s,".straight(").concat(l).concat(null===(d=va.raw(m))||void 0===d?void 0:d.toString()).concat(c,")")];if("clockwise"===i||"counterclockwise"===i){l="clockwise"===i?"":"-";var g=null===(f=ja.helpers.use("round"))||void 0===f?void 0:f.call(ga([[m,"*",360],"/",(null!==(h=r.axle_track)&&void 0!==h?h:0)*Math.PI]),2);return["".concat(ja.awaitPrefix).concat(s,".turn(").concat(l).concat(g.raw).concat(c,")")]}}else if(o){if(0!==parseInt(o.ensureNumber().toString()))throw new Error("Steering direction ".concat(o.raw," for ").concat(e," with ").concat(t.value," is not yet implemented here"));return l="",["".concat(ja.awaitPrefix).concat(s,".straight(").concat(l).concat(null===(p=va.raw(m))||void 0===p?void 0:p.toString()).concat(c,")")]}}():function(){var e,t,c,l,u,d,f,h=null===(e=ja.helpers.use("convert_time"))||void 0===e?void 0:e.call(n),p="Stop.COAST"===r.get_then()?"".concat(ja.awaitPrefix).concat(s,".stop()"):"".concat(ja.awaitPrefix).concat(s,".brake()"),m=[],v=0;i?"clockwise"===i||"counterclockwise"===i?(d="clockwise"===i?1:-1,f=0):"forward"!==i&&"back"!==i||(d=0,f="forward"===i?1:-1):o&&(d=v=null!==(c=null===(t=ga([o.ensureNumber(),"/",100]))||void 0===t?void 0:t.toFloat())&&void 0!==c?c:0,f=null!==(u=null===(l=ga([1,"-",["abs",v]]))||void 0===l?void 0:l.toFloat())&&void 0!==u?u:0);var g=a||new va(r.default_speed_variable,{is_dynamic:!0,type:da.NUMBER}),_=ga([f,"*",g]),y=ga([d,"*",g]);return ja.imports.use("pybricks.tools","wait"),m.push.apply(m,["".concat(ja.awaitPrefix).concat(s,".drive(").concat(null==_?void 0:_.raw,", ").concat(null==y?void 0:y.raw,")"),"".concat(ja.awaitPrefix,"wait(").concat(h.raw,")"),"".concat(p)]),m}()}function cs(e,t){var n=e.get("ROTATIONS"),r=as.instance(),i=new va(na,{type:da.STRING});return ss(e.opcode,i,n,r,t,void 0)}function ls(e,t,n){var r;void 0===n&&(n=!0);var i=e?null===(r=e.get("PAIR"))||void 0===r?void 0:r.toString().split(""):t;return as.instance(i,void 0,void 0,n)}var us={block:function(e){switch(e.opcode){case"flippermove_setMovementPair":return function(e){var t,n,r=null===(t=e.get("PAIR"))||void 0===t?void 0:t.toString().split(""),i=as.instance();return["# setting drivebase motor pair to ".concat(r.join(", ")," - first one ").concat(null===(n=i.ports)||void 0===n?void 0:n.join(", ")," is applied for the complete code")]}(e);case"flippermoremove_steerDistanceAtSpeed":return function(e){var t=e.get("STEERING"),n=e.get("DISTANCE"),r=e.get("UNIT"),i=ja.helpers.use("convert_speed").call(e.get("SPEED")),o=as.instance();return ss(e.opcode,r,n,o,void 0,t,i)}(e);case"flippermove_setDistance":return function(e){var t,n,r=e.get("UNIT"),i=null===(t=ja.helpers.use("convert_distance"))||void 0===t?void 0:t.call(e.get("DISTANCE"),r).raw,o=null===(n=ja.helpers.use("round"))||void 0===n?void 0:n.call(i/Math.PI,2).raw;if("number"!=typeof o)throw new Error("Wheel diameter must be simple number");var a=as.instance(void 0,o);return a.rotation_distance=i,a.wheel_diameter=o,["# setting drivebase wheel distance to ".concat(i,", that is wheel diameter ").concat(o," mm - this will apply for the complete code")]}(e);case"flippermove_startMove":return function(e){var t="forward"===e.get("DIRECTION").value,n=as.instance(),r=n.devicename,i=new va(n.default_speed_variable,{is_dynamic:!0,is_variable:!0,type:da.NUMBER});return["".concat(ja.awaitPrefix).concat(r,".drive(").concat(t?"":"-",",").concat(va.raw(i),")")]}(e);case"flippermove_stopMove":case"horizontalmove_moveStop":return function(){var e=as.instance().devicename;return["".concat(ja.awaitPrefix).concat(e,".stop()")]}();case"flippermove_move":return function(e){var t,n=null===(t=e.get("DIRECTION"))||void 0===t?void 0:t.toString(),r=e.get("VALUE"),i=e.get("UNIT"),o=as.instance();return ss(e.opcode,i,r,o,n,void 0)}(e);case"flippermove_movementSpeed":case"horizontalmove_moveSetSpeed":return function(e){var t,n=e.get("SPEED"),r=as.instance(),i=null===(t=ja.helpers.use("convert_speed"))||void 0===t?void 0:t.call(n);return["".concat(r.default_speed_variable," = ").concat(i.raw)]}(e);case"flippermoremove_movementSetStopMethod":return function(e){var t,n=xa(parseInt(null===(t=e.get("STOP"))||void 0===t?void 0:t.toString())),r=as.instance(),i=r.devicename;return r.default_then=n,["# setting ".concat(i," stop at end to ").concat(n)]}(e);case"flippermove_startSteer":case"flippermoremove_startSteerAtSpeed":return function(e){var t=e.get("STEERING"),n=e.get("SPEED"),r=t.value?parseInt(t.value.toString()):0;if(0!==r)throw new Error("Steering direction ".concat(t.raw," for ").concat(e.opcode," is not yet implemented here"));var i=as.instance(),o=i.devicename,a=n?ja.helpers.use("convert_speed").call(n):i.default_speed_variable;return["".concat(ja.awaitPrefix).concat(o,".drive(").concat(a,", ").concat(r,")")]}(e);case"flippermove_steer":return function(e){var t=e.get("STEERING"),n=e.get("VALUE"),r=e.get("UNIT"),i=as.instance();return ss(e.opcode,r,n,i,void 0,t)}(e);case"horizontalmove_moveForward":return cs(e,"forward");case"horizontalmove_moveBackward":return cs(e,"back");case"horizontalmove_moveTurnClockwiseRotations":return cs(e,"clockwise");case"horizontalmove_moveTurnCounterClockwiseRotations":return cs(e,"counterclockwise");case"flippermoremove_movementSetAcceleration":return function(e){var t=e.get("ACCELERATION").toInt(),n=[1e3,3e3,1e4].includes(t)?Math.round(t/6.5):-1===t?800:Math.round(16e4/t),r=as.instance();return["".concat(r.devicename,".setting(straight_acceleration=").concat(n,")")]}(e)}},operator:void 0};const ds=us;function fs(e,t,n){var r,i=null===(r=ja.helpers.use("convert_color"))||void 0===r?void 0:r.call(n),o=Ga.instance(t,"ColorSensor").devicename;return new va("".concat(ja.awaitPrefix).concat(o,".color() == ").concat(i.value),{is_dynamic:!0,type:da.BOOLEAN,precedence:ua.BINARY_COMPARISON})}function hs(e,t){var n,r=t?null===(n=e.get("PORT"))||void 0===n?void 0:n.toString():oa,i=e.get("OPTION"),o=Ga.instance(r,"ForceSensor").devicename;switch(null==i?void 0:i.value){case"pressed":return new va("".concat(ja.awaitPrefix).concat(o,".pressed()"),{is_dynamic:!0,type:da.BOOLEAN});case"released":return new va("not ".concat(ja.awaitPrefix).concat(o,".pressed()"),{is_dynamic:!0,type:da.BOOLEAN});case"hardpressed":return new va("".concat(ja.awaitPrefix).concat(o,".pressed(10)"),{is_dynamic:!0,type:da.BOOLEAN});case"pressurechanged":throw new Error("pressurechanged - Not implemented yet")}}function ps(e,t,n,r,i){var o=Aa(i),a=Ga.instance(t,"UltrasonicSensor").devicename,s=ja.helpers.use("convert_ussensor_distance_back").call(new va("".concat(ja.awaitPrefix).concat(a,".distance()"),{is_dynamic:!0,type:da.NUMBER}),r);return new va("".concat(s," ").concat(o.value," ").concat(n.ensureNumber().raw),{is_dynamic:!0,type:da.BOOLEAN,precedence:ua.BINARY_COMPARISON})}var ms={block:void 0,operator:function(e){switch(e.opcode){case"flippermoresensors_deviceType":return function(e){var t,n=Ga.portToString(null===(t=e.get("PORT"))||void 0===t?void 0:t.toString());return ja.helpers.use("pupdevice_type").call(n)}(e);case"flippersensors_orientationAxis":return function(e){var t,n=null===(t=e.get("AXIS"))||void 0===t?void 0:t.toString();return"yaw"===n?new va("hub.imu.heading()",{is_dynamic:!0,type:da.NUMBER}):"pitch"===n?new va("hub.imu.tilt()[0]",{is_dynamic:!0,type:da.NUMBER}):"roll"===n?new va("hub.imu.tilt()[1]",{is_dynamic:!0,type:da.NUMBER}):void 0}(e);case"flippersensors_orientation":return null===(t=ja.helpers.use("convert_hub_orientation_back"))||void 0===t?void 0:t.call(new va("hub.imu.up()",{is_dynamic:!0,type:da.NUMBER}));case"flippersensors_isorientation":case"flipperevents_whenOrientation":return function(e){var t,n,r=null===(t=e.get(["ORIENTATION","VALUE"]))||void 0===t?void 0:t.value;return ja.imports.use("pybricks.parameters","Side"),new va("hub.imu.up() == ".concat(null===(n=ja.helpers.use("convert_hub_orientation"))||void 0===n?void 0:n.call(r).value),{is_dynamic:!0,type:da.BOOLEAN,precedence:ua.BINARY_COMPARISON})}(e);case"flippersensors_color":return function(e){var t,n,r=null===(t=e.get("PORT"))||void 0===t?void 0:t.toString(),i=Ga.instance(r,"ColorSensor").devicename;return null===(n=ja.helpers.use("convert_color_back"))||void 0===n?void 0:n.call(new va("".concat(ja.awaitPrefix).concat(i,".color()"),{is_dynamic:!0,type:da.OTHER}))}(e);case"flippersensors_isColor":case"flipperevents_whenColor":return function(e){var t;return fs(0,null===(t=e.get("PORT"))||void 0===t?void 0:t.toString(),e.get(["VALUE","OPTION"]))}(e);case"horizontalevents_whenColor":return function(e){return fs(0,oa,e.get("COLOR"))}(e);case"flippersensors_reflectivity":return function(e){var t,n=null===(t=e.get("PORT"))||void 0===t?void 0:t.toString(),r=Ga.instance(n,"ColorSensor").devicename;return new va("".concat(ja.awaitPrefix).concat(r,".reflection()"),{is_dynamic:!0,type:da.NUMBER})}(e);case"flippersensors_isReflectivity":case"flippersensors_whenReflectivity":return function(e){var t,n=null===(t=e.get("PORT"))||void 0===t?void 0:t.toString(),r=e.get("VALUE"),i=Aa(e.get("COMPARATOR")),o=Ga.instance(n,"ColorSensor").devicename;return new va("".concat(ja.awaitPrefix).concat(o,".reflection() ").concat(i.value," ").concat(r.ensureNumber().raw),{is_dynamic:!0,type:da.BOOLEAN,precedence:ua.BINARY_COMPARISON})}(e);case"flippersensors_isPressed":case"flipperevents_whenPressed":return hs(e,!0);case"horizontalevents_whenPressed":return hs(e,!1);case"flippersensors_distance":return function(e){var t,n,r=null===(t=e.get("PORT"))||void 0===t?void 0:t.toString(),i=e.get("UNIT"),o=Ga.instance(r,"UltrasonicSensor").devicename;return null===(n=ja.helpers.use("convert_ussensor_distance_back"))||void 0===n?void 0:n.call(new va("".concat(ja.awaitPrefix).concat(o,".distance()"),{is_dynamic:!0,type:da.NUMBER}),i)}(e);case"flippersensors_isDistance":case"flipperevents_whenDistance":return function(e){var t,n=null===(t=e.get("PORT"))||void 0===t?void 0:t.toString(),r=e.get("UNIT");return ps(0,n,e.get("VALUE"),r,e.get("COMPARATOR"))}(e);case"horizontalevents_whenCloserThan":return function(e){var t=oa,n=new va("%",{type:da.STRING});return ps(0,t,e.get("DISTANCE"),n,new va("<"))}(e);case"flippersensors_buttonIsPressed":case"flipperevents_whenButton":return function(e){var t,n,r=null===(t=e.get("BUTTON"))||void 0===t?void 0:t.value,i=null===(n=e.get("EVENT"))||void 0===n?void 0:n.value,o="Button.".concat(null==r?void 0:r.toString().toUpperCase()),a="".concat(o," in hub.buttons.pressed()");return new va("pressed"===i?a:"not ".concat(a),{is_dynamic:!0,type:da.BOOLEAN,precedence:ua.BINARY_COMPARISON})}(e)}var t}};const vs=ms;var gs={block:function(e){switch(e.opcode){case"flippersound_beep":case"flippersound_beepForTime":return function(e){var t,n=e.get("NOTE").ensureNumber(!0),r=ja.helpers.use("convert_time").call(null!==(t=e.get("DURATION"))&&void 0!==t?t:-.001);return[ja.awaitPrefix+ja.helpers.use("hub_speaker_flipper_play").call(n,r).raw]}(e);case"horizontalsound_playMusicSoundUntilDone":return function(e){var t=e.get("SOUND");return ja.imports.use("urandom","randint"),[ja.awaitPrefix+ja.helpers.use("hub_speaker_iconblocks_play").call(t).raw]}(e);case"flippersound_stopSound":return["".concat(ja.awaitPrefix,"hub.speaker.beep(0, 0)")];case"sound_setvolumeto":return function(e){var t=e.get("VOLUME").ensureNumber(!0);return["hub.speaker.volume(".concat(t.raw,")")]}(e);case"sound_changevolumeby":return function(e){var t=e.get("VOLUME").ensureNumber(!0);return["hub.speaker.volume(hub.speaker.volume() + ".concat(t.raw,")")]}(e)}},operator:function(e){if("sound_volume"===e.opcode)return new va("hub.speaker.volume()",{is_dynamic:!0,type:da.NUMBER})}};const _s=gs;function ys(e,t){var n,r;void 0===t&&(t={});var i=t.item?e.get("ITEM"):void 0;return{variable:t.variable?ja.variables.get([null===(n=e.get("VARIABLE"))||void 0===n?void 0:n.toString(),!1]):void 0,list:t.list?ja.variables.get([null===(r=e.get("LIST"))||void 0===r?void 0:r.toString(),!0]):void 0,index:t.index?ga([e.get("INDEX"),"-",1],!0):void 0,item:i,value:t.value?e.get("VALUE"):void 0}}var bs={block:function(e){switch(e.opcode){case"data_setvariableto":return function(e){var t,n,r=ys(e,{variable:!0,value:!0}),i=r.variable,o=r.value;if(null==i?void 0:i.py_setValue)return[i.py_setValue(e,null!==(n=null===(t=va.raw(o))||void 0===t?void 0:t.toString())&&void 0!==n?n:"")]}(e);case"data_changevariableby":return function(e){var t,n=ys(e,{variable:!0,value:!0}),r=n.variable,i=n.value,o=(null===(t=null==i?void 0:i.options)||void 0===t?void 0:t.is_variable)?ga(i):i,a="".concat(new va(null==r?void 0:r.py,{is_dynamic:!0,is_variable:!0,type:da.OTHER}).ensureNumber().raw," + ").concat(va.raw(o));if(null==r?void 0:r.py_setValue)return[null==r?void 0:r.py_setValue(e,a)]}(e);case"data_addtolist":return function(e){var t=ys(e,{list:!0,item:!0}),n=t.list,r=t.item;return["".concat(null==n?void 0:n.py,".append(").concat(null==r?void 0:r.raw,")")]}(e);case"data_deleteoflist":return function(e){var t=ys(e,{list:!0,index:!0}),n=t.list,r=t.index;return["del ".concat(null==n?void 0:n.py,"[").concat(va.raw(r),"]")]}(e);case"data_deletealloflist":return function(e){var t=ys(e,{list:!0}).list;return["".concat(null==t?void 0:t.py,".clear()")]}(e);case"data_insertatlist":return function(e){var t=ys(e,{list:!0,index:!0,item:!0}),n=t.list,r=t.index,i=t.item;return["".concat(null==n?void 0:n.py,".insert(").concat(va.raw(r),", ").concat(null==i?void 0:i.raw,")")]}(e);case"data_replaceitemoflist":return function(e){var t=ys(e,{list:!0,index:!0,item:!0}),n=t.list,r=t.index,i=t.item;return["".concat(null==n?void 0:n.py,"[").concat(va.raw(r),"] = ").concat(null==i?void 0:i.raw)]}(e)}},operator:function(e){switch(e.opcode){case"data_itemoflist":return function(e){var t=ys(e,{list:!0,index:!0}),n=t.list,r=t.index;return new va("".concat(null==n?void 0:n.py,"[").concat(va.raw(r),"]"),{is_dynamic:!0,type:da.STRING})}(e);case"data_itemnumoflist":return function(e){var t=ys(e,{list:!0,item:!0}),n=t.list,r=t.item;return new va("".concat(null==n?void 0:n.py,".index(").concat(null==r?void 0:r.raw,") + 1"),{is_dynamic:!0,type:da.NUMBER})}(e);case"data_lengthoflist":return function(e){var t=ys(e,{list:!0}).list;return new va("len(".concat(null==t?void 0:t.py,")"),{is_dynamic:!0,type:da.NUMBER})}(e);case"data_listcontainsitem":return function(e){var t=ys(e,{list:!0,item:!0}),n=t.list,r=t.item;return new va("(".concat(null==n?void 0:n.py,".index(").concat(null==r?void 0:r.raw,") != None)"),{is_dynamic:!0,type:da.BOOLEAN})}(e)}}};const ws=bs;var ks,Es=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};function xs(){return ks||(ks=[Wa,Va,Os,ws,is,ds,vs,_s,Xa]),ks}function Ss(e,t){if(void 0===t&&(t="None"),e){var n=function(e){var t,n,r;xs();try{for(var i=Es(ks),o=i.next();!o.done;o=i.next()){var a=o.value,s=null===(r=a.operator)||void 0===r?void 0:r.call(a,e);if(s)return s}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}}(e);if(n)return n;sa("unknown block",e.getDescription())}return new va(t,{is_dynamic:!0,precedence:ua.SIMPLE,type:da.OTHER})}var As={block:void 0,operator:function(e){switch(e.opcode){case"operator_or":case"operator_and":return function(e){var t=null==e?void 0:e.opcode,n=null==e?void 0:e.getBlock("OPERAND1"),r=null==e?void 0:e.getBlock("OPERAND2"),i=Ss(n),o=Ss(r);return new va("(".concat(i.raw,") ").concat(t.includes("and")?"and":"or"," (").concat(o.raw,")"),{is_dynamic:!0,precedence:ua.SIMPLE,type:da.BOOLEAN})}(e);case"operator_not":return function(e){var t=Ss(e.getBlock("OPERAND"));return new va("not (".concat(t.raw,")"),{is_dynamic:!0,precedence:ua.SIMPLE,type:da.BOOLEAN})}(e);case"operator_lt":case"operator_gt":case"operator_equals":return function(e){var t=e.get("OPERAND1").ensureNumber(),n=e.get("OPERAND2").ensureNumber(),r=new Map([["operator_equals","=="],["operator_lt","<"],["operator_gt",">"]]).get(null==e?void 0:e.opcode);return new va("".concat(t.raw," ").concat(r," ").concat(n.raw),{is_dynamic:!0,type:da.BOOLEAN,precedence:ua.BINARY_COMPARISON})}(e);case"operator_add":case"operator_subtract":case"operator_multiply":case"operator_divide":case"operator_mod":return function(e){var t=new Map([["operator_add","+"],["operator_subtract","-"],["operator_multiply","*"],["operator_divide","/"],["operator_mod","%"]]).get(null==e?void 0:e.opcode),n=e.get("NUM1"),r=e.get("NUM2");if(!t)throw new Error("Unknown operator");return ga([n,t,r])}(e);case"operator_round":return function(e){var t=e.get("NUM").ensureNumber();return new va("round(".concat(t.raw,")"),{is_dynamic:!0,precedence:ua.SIMPLE,type:da.NUMBER})}(e);case"operator_mathop":return function(e){var t=e.get(["TYPE","OPERATOR"]).value,n=[e.get("NUM").ensureNumber()],r=function(e){return e};switch(ja.imports.use("umath",null),t){case"ceiling":t="ceil";break;case"ln":t="log";break;case"log":t="log",r=function(e){return"".concat(e,"/umath.log(10)")};break;case"e ^":t="pow",n.unshift("umath.e");break;case"10 ^":t="pow",n.unshift(10)}return new va(r("umath.".concat(t,"(").concat(n.map(va.raw).join(", "),")")),{is_dynamic:!0,precedence:ua.SIMPLE,type:da.NUMBER})}(e);case"flipperoperator_mathFunc2Params":return function(e){var t=[e.get("ARG1").ensureNumber(),e.get("ARG2").ensureNumber()],n=e.get("TYPE").value;switch(n){case"pow":case"atan2":case"copysign":ja.imports.use("umath",null),n="umath.".concat(n)}return new va("".concat(n,"(").concat(t.map(va.raw).join(", "),")"),{is_dynamic:!0,precedence:ua.SIMPLE,type:da.NUMBER})}(e);case"operator_random":return function(e){var t=e.get("FROM").ensureNumber(),n=e.get("TO").ensureNumber();return ja.imports.use("urandom","randint"),new va("randint(".concat(t.raw,", ").concat(n.raw,")"),{is_dynamic:!0,precedence:ua.SIMPLE,type:da.NUMBER})}(e);case"operator_join":return function(e){var t,n,r=null===(t=ja.helpers.use("str"))||void 0===t?void 0:t.call(e.get("STRING1")),i=null===(n=ja.helpers.use("str"))||void 0===n?void 0:n.call(e.get("STRING2"));return new va('"".join(['.concat(r.raw,", ").concat(i.raw,"])"),{is_dynamic:!0,precedence:ua.SIMPLE,type:da.STRING})}(e);case"operator_letter_of":return function(e){var t,n=null===(t=ja.helpers.use("str"))||void 0===t?void 0:t.call(e.get("STRING")),r=e.get("LETTER").ensureNumber(!0);return new va("".concat(n.raw,"[").concat(r.raw,"]"),{is_dynamic:!0,precedence:ua.SIMPLE,type:da.STRING})}(e);case"operator_length":return function(e){var t,n=null===(t=ja.helpers.use("str"))||void 0===t?void 0:t.call(e.get("STRING"));return new va("len(".concat(n.raw,")"),{is_dynamic:!0,precedence:ua.SIMPLE,type:da.NUMBER})}(e);case"operator_contains":return function(e){var t,n,r=null===(t=ja.helpers.use("str"))||void 0===t?void 0:t.call(e.get("STRING1")),i=null===(n=ja.helpers.use("str"))||void 0===n?void 0:n.call(e.get("STRING2"));return new va("".concat(r.raw,".lower().find(").concat(i.raw,".lower()) >= 0"),{is_dynamic:!0,precedence:ua.SIMPLE,type:da.BOOLEAN})}(e);case"flipperoperator_isInBetween":return function(e){var t=e.get("VALUE").ensureNumber(),n=e.get("LOW").ensureNumber(),r=e.get("HIGH").ensureNumber();return new va("(".concat(n.raw," <= ").concat(t.raw,") and (").concat(t.raw," <= ").concat(r.raw,")"),{is_dynamic:!0,precedence:ua.SIMPLE,type:da.BOOLEAN})}(e);case"flippersensors_timer":return ja.imports.use("pybricks.tools","StopWatch"),ja.variables.use("sw_main","StopWatch()"),new va("sw_main.time()",{is_dynamic:!0,precedence:ua.SIMPLE,type:da.NUMBER});case"flipperevents_whenTimer":return function(e){var t,n=null===(t=ja.helpers.use("convert_time"))||void 0===t?void 0:t.call(e.get("VALUE"));return ja.imports.use("pybricks.tools","StopWatch"),ja.variables.use("sw_main","StopWatch()"),new va("sw_main.time() > ".concat(n.raw),{is_dynamic:!0,precedence:ua.BINARY_COMPARISON,type:da.BOOLEAN})}(e);case"flipperevents_whenCondition":return function(e){return Ss(e.getBlock("CONDITION"))}(e);case"argument_reporter_string_number":case"argument_reporter_boolean":return function(e){var t=la(e.get("VALUE").toString());return new va(t,{is_dynamic:!0,is_variable:!0,precedence:ua.SIMPLE})}(e)}}};const Os=As;var Ts,Cs;!function(e){e[e.NUMBER=4]="NUMBER",e[e.POSITIVENUMBER=5]="POSITIVENUMBER",e[e.POSITIVEINTEGER=6]="POSITIVEINTEGER",e[e.INTEGER=7]="INTEGER",e[e.ANGLE=8]="ANGLE",e[e.COLOR=9]="COLOR",e[e.STRING=10]="STRING",e[e.BROADCAST=11]="BROADCAST",e[e.VARIABLE=12]="VARIABLE",e[e.LIST=13]="LIST"}(Ts||(Ts={})),function(e){e[e.SHADOW=1]="SHADOW",e[e.NOSHADOW=2]="NOSHADOW",e[e.OBSCURED=3]="OBSCURED"}(Cs||(Cs={}));var Ns,Is=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Rs=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},Ps=function(e){function t(n){var r=e.call(this,n)||this;return Object.setPrototypeOf(r,t.prototype),r}return Is(t,e),t}(Error),Bs=function(){function e(e,t,n){this._block=e,this._id=t,this._root=n,this.substacks=[],this.variablesForWriteAccess=new Set,this._block=e,this._id=t,this._root=n}return Object.defineProperty(e.prototype,"opcode",{get:function(){return this._block.opcode},enumerable:!1,configurable:!0}),e.prototype.get=function(e,t){return void 0===t&&(t=!0),this._get(e,t,!0)},e.prototype.getBlock=function(e){return this._get(e,void 0,!1)},e.prototype.getPeerById=function(t){var n,r;if(t){var i=null===(r=null===(n=this._root)||void 0===n?void 0:n.blocks)||void 0===r?void 0:r[t];return i?new e(i,t,this._root):void 0}},e.prototype.getInputAsShadowId=function(e){var t,n,r=this.getInputObject(e);return r&&r[0]===Cs.SHADOW&&Array.isArray(r[1])?null===(n=null===(t=null==r?void 0:r[1])||void 0===t?void 0:t[2])||void 0===n?void 0:n.toString():void 0},e.prototype.getFieldObject=function(e){return this._block.fields[e]},e.prototype.getInputObject=function(e){return this._block.inputs[e]},e.prototype.getDescription=function(e){var t,n,r,i=this;void 0===e&&(e=!0);var o=null===(n=null===(t=Object.entries(this._block.inputs))||void 0===t?void 0:t.filter((function(t){var n=Rs(t,2),r=n[0];return n[1],e||!r.startsWith("SUBSTACK")})))||void 0===n?void 0:n.map((function(t){var n,r,o=Rs(t,2),a=o[0];o[1];try{r=null===(n=i.get(a,e))||void 0===n?void 0:n.raw}catch(t){r=i.getBlock(a).getDescription(e)}return"".concat(a.toLowerCase(),": ").concat(r)})),a=null===(r=Object.entries(this._block.fields))||void 0===r?void 0:r.map((function(e){var t,n=Rs(e,2),r=n[0];return n[1],"".concat(r.toLowerCase(),": ").concat(null===(t=i.get(r))||void 0===t?void 0:t.raw)}));return"".concat(this.opcode,"(").concat(o.concat(a).join(", "),")")},e.prototype._get=function(e,t,n){var r,i;if(void 0===t&&(t=!0),void 0===n&&(n=!0),"string"==typeof e)return n?this._getField(e)||this._getInput(e,t):this._getInputAsBlock(e);try{for(var o=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),a=o.next();!a.done;a=o.next()){var s=a.value,c=this._get(s,n);if(c)return c}}catch(e){r={error:e}}finally{try{a&&!a.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}},e.prototype._getInputAsBlock=function(e){var t=this._block.inputs[e];if(t)return this.getPeerById(t[1])},e.prototype._getInput=function(e,t){var n;void 0===t&&(t=!0);var r=this._block.inputs[e];if(r)switch(r[0]){case Cs.SHADOW:var i="string"==typeof r[1],o=Array.isArray(r[1]);if(i){if(!(f=this.getPeerById(r[1]))||"object"!=typeof f)return;if("procedures_prototype"===f.opcode)return new va(null===(n=f._block.mutation)||void 0===n?void 0:n.proccode);var a=Object.values(null==f?void 0:f._block.fields)[0][0];return null!==a?new va(a,{type:"number"!=typeof a?da.STRING:da.NUMBER}):void 0}if(o){var s=r[1];if(null===s)return;var c=s[0],l=c===Ts.STRING||c===Ts.BROADCAST,u=c===Ts.STRING||c===Ts.BROADCAST?s[1].toString():parseFloat(s[1].toString());return new va(u,{type:l?da.STRING:da.NUMBER})}break;case Cs.NOSHADOW:throw new Ps("Input is a blocks, use get_inputAsBlock");case Cs.OBSCURED:var d=r[1];if("string"==typeof d){var f;if(!(f=this.getPeerById(d.toString())))return;return t?Ss(f):new va(f.getDescription(t))}if("object"==typeof d&&Array.isArray(d)){var h=ja.variables.get([d[1].toString(),d[0]===Ts.LIST]);return new va(null==h?void 0:h.py,{is_dynamic:!0,is_variable:!0})}}},e.prototype._getField=function(e){var t=this.getFieldObject(e);return t?new va(t[0],{type:"number"!=typeof t[0]?da.STRING:da.NUMBER}):null},e.buildStack=function(e){for(var t=this,n=[];e;){n.push(e);var r=function(e,n){var r;if(e._block.inputs&&Object.prototype.hasOwnProperty.call(e._block.inputs,n)){var i=null===(r=e._block.inputs[n])||void 0===r?void 0:r[1];if(i&&"string"==typeof i){var o=e.getPeerById(i);o&&e.substacks.push(t.buildStack(o))}}};r(e,"SUBSTACK"),r(e,"SUBSTACK2");var i=e.getPeerById(e._block.next);if(!i)break;e=i}return n},e}(),Ls=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},Ds=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},Ms=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};!function(e){e[e.Start=1]="Start",e[e.Event=2]="Event",e[e.MessageEvent=3]="MessageEvent",e[e.MyBlock=4]="MyBlock",e[e.Orphan=9]="Orphan"}(Ns||(Ns={}));var zs=function(){function e(e){void 0===e&&(e={}),this._options=e}return e.prototype.convert=function(e){return this.convertProject(e)},e.prototype.convertProject=function(e){if(e.targets&&!(e.targets.length<2))return this.preprocessMessages(e.targets[0]),this.convertMainTarget(e.targets[1])},e.prototype.convertMainTarget=function(e){var t,n,r,i,o,a,s,c,l,u,d,f,h,p,m,v;try{this.preprocessProcedureDefinitions(e),this.preprocessVariables(e);var g=this.prepareTopLevelStacks(e);m=this.generatePlainCodeForStacks(g);var _=this.getStackGroups(g);this.preprocessStackGroups(_),ja.isAsyncNeeded||(ja.isAsyncNeeded=(null!==(n=null===(t=_.get(Ns.Start))||void 0===t?void 0:t.length)&&void 0!==n?n:0)>1||(null!==(i=null===(r=_.get(Ns.Event))||void 0===r?void 0:r.length)&&void 0!==i?i:0)>0||(null!==(a=null===(o=_.get(Ns.MessageEvent))||void 0===o?void 0:o.length)&&void 0!==a?a:0)>0||!1);var y=this.getPycodeForStackGroups(_),b=this.createProgramStacksCode(y),w=this.createSetupCodes(),k=Ca.to_global_code(ja.helpers),E=this.createMainProgramCode(y),x=[{name:"imports",code:Ia.to_global_code(ja.imports),skip:null===(c=null===(s=this._options)||void 0===s?void 0:s.debug)||void 0===c?void 0:c.skipImports},{name:"helper functions",code:k,skip:null===(u=null===(l=this._options)||void 0===l?void 0:l.debug)||void 0===u?void 0:u.skipHelpers},{name:"setup",code:w,skip:null===(f=null===(d=this._options)||void 0===d?void 0:d.debug)||void 0===f?void 0:f.skipSetup},{name:"global variables",code:La.to_global_code(ja.variables),skip:null===(p=null===(h=this._options)||void 0===h?void 0:h.debug)||void 0===p?void 0:p.skipVariableDeclarations},{name:"program code",code:b},{name:"main code",code:E}],S=function(e,t){return"#".concat(t?"":"end","region section_").concat(e.toLowerCase().replace(/[^a-z0-9]/g,"_"))},A=x.filter((function(e){return!e.skip})).map((function(e){var t;return(null===(t=e.code)||void 0===t?void 0:t.length)?Ds(Ds([aa("SECTION: ".concat(e.name.toUpperCase()),"="),S(e.name,!0)],Ls(e.code),!1),[S(e.name,!1)],!1).join("\r\n"):null}));v=A.filter((function(e){return e})).join("\r\n\r\n")}catch(e){console.error("::ERROR::",e)}return{plaincode:m,pycode:v}},e.prototype.preprocessVariables=function(e){var t,n,r,i;if(e.variables&&e.lists){try{for(var o=Ms(Object.values(e.variables)),a=o.next();!a.done;a=o.next()){var s=a.value;if(Array.isArray(s)){var c=s[0];ja.variables.use([c,!1],null,!1)}}}catch(e){t={error:e}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}try{for(var l=Ms(Object.values(e.lists)),u=l.next();!u.done;u=l.next())if(s=u.value,Array.isArray(s)){var d=s[0];ja.variables.use([d,!0],null,!0)}}catch(e){r={error:e}}finally{try{u&&!u.done&&(i=l.return)&&i.call(l)}finally{if(r)throw r.error}}}},e.prototype.generatePlainCodeForStacks=function(e){var t=function(e,n){return void 0===n&&(n=!0),null==e?void 0:e.map((function(e,r){var i,o=[(!n||r>0?Jo:"")+e.getDescription(!1)];return null===(i=e.substacks)||void 0===i||i.map((function(e,n){var r,i=null===(r=t(e,!1))||void 0===r?void 0:r.map((function(e){return Jo+e}));n>0&&o.push(Jo+"^^^"),i&&o.push.apply(o,Ds([],Ls(i),!1))})),o})).flat()};return e.map((function(e){return t(e,!0)})).map((function(e){return Ds(Ds([],Ls(e),!1),[""],!1)})).flat().join("\n")},e.prototype.createSetupCodes=function(){var e,t,n=[];n.push("hub = PrimeHub()"),ja.imports.use("pybricks.hubs","PrimeHub");try{for(var r=Ms(ja.devicesRegistry.values()),i=r.next();!i.done;i=r.next())i.value.ensure_dependencies()}catch(t){e={error:t}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}var o=Ds([],Ls(ja.devicesRegistry.values()),!1);if(Array.from(o.filter((function(e){return e instanceof Ga}))).sort((function(e,t){return e.portString.localeCompare(t.portString)})).forEach((function(e){var t=e.setup_code();t&&n.push.apply(n,Ds([],Ls(t),!1));var r=o.indexOf(e);o.splice(r,1)})),o.sort((function(e,t){var n,r,i;return null!==(i=null===(n=e.devicename)||void 0===n?void 0:n.localeCompare(null!==(r=null==t?void 0:t.devicename)&&void 0!==r?r:""))&&void 0!==i?i:0})).forEach((function(e){var t=e.setup_code();t&&n.push.apply(n,Ds([],Ls(t),!1))})),ja.deviceDefaultSpeeds.size){var a=Array.from(ja.deviceDefaultSpeeds.entries()).map((function(e){var t=Ls(e,2),n=t[0],r=t[1];return"".concat(n,": ").concat(r)}));n.push("default_speeds = {".concat(a.join(", "),"}"))}return n},e.prototype.preprocessMessages=function(e){e.broadcasts&&Object.entries(e.broadcasts).forEach((function(e){var t=Ls(e,2),n=t[0],r=t[1];return ja.broadcasts.use(n,r)}))},e.prototype.preprocessProcedureDefinitions=function(e){e.blocks&&Object.entries(e.blocks).filter((function(e){var t=Ls(e,2);return t[0],"procedures_definition"===t[1].opcode})).forEach((function(t){var n=Ls(t,2),r=n[0],i=n[1],o=new Bs(i,r,e),a=Pa.create(o);a&&ja.procedures.use(a.id,a)}))},e.prototype.createProgramStacksCode=function(e){var t=this,n=Array.from(e.values()).filter((function(e){return e.code}));return(null==n?void 0:n.length)>0?n.filter((function(e){var n,r,i,o;return!(null===(r=null===(n=t._options)||void 0===n?void 0:n.debug)||void 0===r?void 0:r.showThisStackOnly)||e.id===(null===(o=null===(i=t._options)||void 0===i?void 0:i.debug)||void 0===o?void 0:o.showThisStackOnly)})).map((function(e){var n;return e.code&&e.code.length>0&&!e.isDivider?Ds(Ds([(null===(n=t._options.debug)||void 0===n?void 0:n.showBlockIds)?'# BlockId: "'.concat(e.id,'"'):null],Ls(e.code),!1),[""],!1):e.code?Ds([],Ls(e.code),!1):[]})).flat().filter((function(e){return null!==e})):void 0},e.prototype.createMainProgramCode=function(e){var t=e.filter((function(e){return e.isStartup}));return 0===e.length||0===t.length?["# no startup stacks registered, program will not do anything",ja.isAsyncNeeded?"yield":"pass"]:ja.isAsyncNeeded?(ja.imports.use("pybricks.tools","multitask, run_task"),["async def main():",ca(["await multitask(".concat(Ds([],Ls(t.map((function(e){return"".concat(e.name,"()")}))),!1).join(", "),")")])[0],"run_task(main())"]):["".concat(t[0].name,"()")]},e.prototype.getPycodeForStackGroups=function(t){var n,r,i,o,a,s,c,l,u,d,f=0,h=[];try{for(var p=Ms(t.entries()),m=p.next();!m.done;m=p.next()){var v=Ls(m.value,2),g=v[0],_=v[1];if(g!==Ns.Orphan||(null===(s=null===(a=this._options)||void 0===a?void 0:a.debug)||void 0===s?void 0:s.showOrphanCode)){var y=Ns[g];h.push({id:void 0,code:[aa("GROUP: ".concat(y.toUpperCase()),"-")],isStartup:!1,isDivider:!0,group:g});var b=void 0,w=[];try{for(var k=(i=void 0,Ms(_)),E=k.next();!E.done;E=k.next()){var x=E.value;try{f++;var S=[],A=x.stack,O=x.group,T=A[0],C=A.slice(1),N="stack".concat(f,"_").concat(x.shortname,"_fn"),I="stack".concat(f,"_action_fn"),R=T.getDescription(),P="".concat(N,"()"),B=this.getMessageRecord(A),L=null==B?void 0:B[1],D=null===(c=null==B?void 0:B[0])||void 0===c?void 0:c.toString(),M=b!==L;if(b=this.checkAndRegisterMessage(A,I,b,h,w,!1),O===Ns.MyBlock){var z=Pa.create(T,!0);if(!z)return[];N=z.getPyName("myblock_"),R=P=z.getPyDefinition()}else O===Ns.MessageEvent&&M&&h.push({id:void 0,code:[aa("MESSAGE: ".concat(D),"-")],isStartup:!1,isDivider:!0,group:O});S.push("# STACK #".concat(f,": ").concat(R));var j=e.getCommentForBlock(T);j&&S.push("# ".concat(j));var F=e.process_stack(C);switch(g){case Ns.Start:case Ns.MyBlock:S.push("".concat(ja.isAsyncNeeded?"async def":"def"," ").concat(P,":"));var U=A.reduce((function(e,t){return t.variablesForWriteAccess.forEach((function(t){return e.add(t)})),e}),new Set);U.size&&S.push.apply(S,Ds([],Ls(ca("global ".concat(Array.from(U).map((function(e){return e.py})).join(", ")))),!1)),S.push.apply(S,Ds([],Ls(F),!1)),h.push({id:T._id,code:S,isStartup:g===Ns.Start,name:N,isDivider:!1,group:O});break;case Ns.Event:S.push("async def ".concat(I,"():")),S.push.apply(S,Ds([],Ls(F),!1));var W="stack".concat(f,"_condition_fn"),$=Ss(T);S.push("async def ".concat(W,"():")),S.push.apply(S,Ds([],Ls(ca(["return "+$.raw])),!1)),S.push("async def ".concat(N,"():")),S.push.apply(S,Ds([],Ls(ca(["await ".concat(null===(l=ja.helpers.use("event_task"))||void 0===l?void 0:l.call(W,I).raw)])),!1)),h.push({id:T._id,code:S,isStartup:!0,name:N,group:O});break;case Ns.MessageEvent:S.push("async def ".concat(I,"():")),S.push.apply(S,Ds([],Ls(F),!1)),h.push({id:T._id,code:S,isStartup:!1,group:O});break;default:if(!(null===(d=null===(u=this._options)||void 0===u?void 0:u.debug)||void 0===d?void 0:d.showOrphanCode))continue;S.push("### this code has no hat block and will not be running");var H=e.process_stack(A).map((function(e){return"# "+e}));S.push.apply(S,Ds([],Ls(H),!1)),h.push({id:T._id,code:S,isStartup:!1,group:O})}}catch(e){console.error("::ERROR::",e)}}}catch(e){i={error:e}}finally{try{E&&!E.done&&(o=k.return)&&o.call(k)}finally{if(i)throw i.error}}this.checkAndRegisterMessage(void 0,void 0,b,h,w,!0)}}}catch(e){n={error:e}}finally{try{m&&!m.done&&(r=p.return)&&r.call(p)}finally{if(n)throw n.error}}return h},e.prototype.checkAndRegisterMessage=function(e,t,n,r,i,o){var a,s;if(e&&r){var c=this.getMessageRecord(e),l=null!==(a=null==c?void 0:c[1])&&void 0!==a?a:void 0;if(i.length&&(n!==l||o)){var u=ja.broadcasts.get(n);ja.helpers.use("class_Message");var d=null==u?void 0:u.get_pyname();r.push({id:d,code:u?[u.get_code(i)]:[],isStartup:!1});var f="".concat(d,".main_fn");r.push({id:void 0,code:void 0,isStartup:!0,name:f}),i.splice(0,i.length),n=l}if(null==l?void 0:l.length){if(!ja.broadcasts.has(l)){var h=null===(s=null==c?void 0:c[0])||void 0===s?void 0:s.toString();ja.broadcasts.use(l,h)}t&&i.push(t),n=l}return n}},e.prototype.prepareTopLevelStacks=function(e){var t=this;return e.blocks?Object.entries(e.blocks).filter((function(e){var t=Ls(e,2)[1];return t.topLevel&&!t.shadow})).sort((function(e,t){var n,r,i,o,a,s;return Math.floor((null!==(r=null===(n=e[1])||void 0===n?void 0:n.y)&&void 0!==r?r:0)/600)-Math.floor((null!==(i=t[1].y)&&void 0!==i?i:0)/600)||Math.floor((null!==(a=null===(o=e[1])||void 0===o?void 0:o.x)&&void 0!==a?a:0)/400)-Math.floor((null!==(s=t[1].x)&&void 0!==s?s:0)/400)})).map((function(n){var r=Ls(n,2),i=r[0],o=r[1];return t.prepareStack(o,i,e)})):[]},e.prototype.prepareStack=function(e,t,n){var r=new Bs(e,t,n);return Bs.buildStack(r)},e.prototype.getStackGroups=function(e){var t,n=this,r=e.map((function(e){var t,n=e[0].opcode,r=function(e){var t;return(t=e.match(/^(?:flipper|horizontal)events_(whenProgramStarts)/))?[t[1],Ns.Start]:(t=e.match(/^event_when(broadcast)received|horizontalevents_when(Broadcast)/))?[t[1],Ns.MessageEvent]:(t=e.match(/^(?:flipper|horizontal)events_(when.*)/))?[t[1],Ns.Event]:(t=e.match(/^(procedures_definition)/))?[t[1],Ns.MyBlock]:[null,Ns.Orphan]}(n);return{opcode:n,shortname:null===(t=r[0])||void 0===t?void 0:t.toString().toLowerCase(),group:r[1],stack:e,writeAccessVariables:[]}})).sort((function(e,t){return e.group.valueOf()-t.group.valueOf()})).reduce((function(e,t){var n=t.group,r=e.get(n)||[];return r.push(t),e.set(n,r),e}),new Map);return r.get(Ns.MessageEvent)&&(null===(t=r.get(Ns.MessageEvent))||void 0===t||t.sort((function(e,t){var r,i,o,a,s,c,l;return null!==(l=null===(o=null===(i=null===(r=n.getMessageRecord(null==e?void 0:e.stack))||void 0===r?void 0:r[0])||void 0===i?void 0:i.toString())||void 0===o?void 0:o.localeCompare(null!==(c=null===(s=null===(a=n.getMessageRecord(null==t?void 0:t.stack))||void 0===a?void 0:a[0])||void 0===s?void 0:s.toString())&&void 0!==c?c:""))&&void 0!==l?l:0}))),r},e.prototype.preprocessStackGroups=function(e){var t,n,r,i,o,a,s=!1;try{for(var c=Ms(e.entries()),l=c.next();!l.done;l=c.next()){var u=Ls(l.value,2),d=u[0],f=u[1];if(d!==Ns.Orphan)try{for(var h=(r=void 0,Ms(f)),p=h.next();!p.done;p=h.next()){var m=p.value;try{for(var v=(o=void 0,Ms(m.stack)),g=v.next();!g.done;g=v.next()){var _=g.value,y=_.opcode;"flippermove_setMovementPair"!==y||s||(ls(_,void 0,!0).ensure_dependencies(),s=!0),"flippercontrol_fork"===y&&(ja.isAsyncNeeded=!0)}}catch(e){o={error:e}}finally{try{g&&!g.done&&(a=v.return)&&a.call(v)}finally{if(o)throw o.error}}}}catch(e){r={error:e}}finally{try{p&&!p.done&&(i=h.return)&&i.call(h)}finally{if(r)throw r.error}}}}catch(e){t={error:e}}finally{try{l&&!l.done&&(n=c.return)&&n.call(c)}finally{if(t)throw t.error}}s||ls(void 0,["A","B"],!1).ensure_dependencies()},e.process_stack=function(t){var n,r,i=[];if(t&&t.length>0)try{for(var o=Ms(t),a=o.next();!a.done;a=o.next()){var s=a.value,c=e.getCommentForBlock(s);c&&i.push.apply(i,Ds([],Ls(ca("# ".concat(c))),!1));var l=e.convertBlockToCode(s);null!==l&&i.push.apply(i,Ds([],Ls(ca(l)),!1))}}catch(e){n={error:e}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}else i.push.apply(i,Ds([],Ls(ca(ja.isAsyncNeeded?"yield":"pass")),!1));return i},e.prototype.getMessageRecord=function(e){var t,n=null==e?void 0:e[0];if("event_whenbroadcastreceived"===(null==n?void 0:n.opcode))return n.getFieldObject("BROADCAST_OPTION");if("horizontalevents_whenBroadcast"===(null==n?void 0:n.opcode)){var r=null===(t=n.get("CHOICE"))||void 0===t?void 0:t.toString();return[r,r]}},e.getCommentForBlock=function(e){var t,n,r=e._block.comment?null===(n=null===(t=e._root.comments)||void 0===t?void 0:t[e._block.comment])||void 0===n?void 0:n.text:void 0;return null==r?void 0:r.replace(/[\r\n]/g," ")},e.convertBlockToCode=function(e){try{var t=function(e){var t,n,r;xs();try{for(var i=Es(ks),o=i.next();!o.done;o=i.next()){var a=o.value,s=null===(r=a.block)||void 0===r?void 0:r.call(a,e);if(s)return s}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}}(e);if(t)return t}catch(t){return console.trace(t),["# error with: ".concat(e.getDescription()," @ ").concat(e._id," - ").concat(t)]}return["# Unknown: ".concat(e.getDescription()),"pass"]},e}();const js=zs;var Fs=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},Us=function(e,t){var n,r,i,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=s(0),a.throw=s(1),a.return=s(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(o=0)),o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}};function Ws(e,t){return Fs(this,void 0,void 0,(function(){var n,r,i,o,a,s,c,l,u,d,f,h,p,m,v,g;return Us(this,(function(_){switch(_.label){case 0:return n={pycode:void 0,plaincode:void 0,projectInfo:void 0,svg:void 0,project:void 0},[4,(r=new(Ro())).loadAsync(e)];case 1:if(!(i=_.sent()))throw"Error loading the zip file.";if(!(o=i.file("manifest.json")))throw"No manifest.json file found in the zip file.";return[4,o.async("string")];case 2:if(a=_.sent(),(s=JSON.parse(a)).type&&!["word-blocks","icon-blocks"].includes(s.type))throw'File type should be word-blocks instead of "'.concat(s.type,'"');if(n.projectInfo=s,c=(null===(g=null==t?void 0:t.debug)||void 0===g?void 0:g.skipHeader)?null:function(e){return'\n"""\nProject:    '.concat(e.name,"\nSlot:       ").concat(e.slotIndex,"\nCreated:    ").concat(e.created,"\nLast saved: ").concat(e.lastsaved,'\n\n"""\n').trim()}(s),!(l=i.file("icon.svg")))throw"No ".concat("icon.svg"," file found in the zip file.");return u=n,[4,l.async("string")];case 3:return u.svg=_.sent(),[4,i.file("scratch.sb3")];case 4:if(!(d=_.sent()))throw new Error("Missing scratch.sb3");return[4,null==d?void 0:d.async("arraybuffer")];case 5:return f=_.sent(),[4,r.loadAsync(f)];case 6:if(h=_.sent(),!(p=h.file("project.json")))throw new Error("Missing project.json");return[4,p.async("text")];case 7:return m=_.sent(),v=JSON.parse(m),n.project=v,ja.contextApi.run(new Da,(function(){var e=new js(t).convert(v);if(e){var r=[c,e.pycode].filter((function(e){return e}));n.pycode=r.join("\n"),n.plaincode=e.plaincode}})),[2,n]}}))}))}var $s=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},Hs=function(e,t){var n,r,i,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=s(0),a.throw=s(1),a.return=s(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(o=0)),o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}};function Gs(e){var t=this;e.arrayBuffer().then((function(e){return $s(t,void 0,void 0,(function(){var t,n,r,i,o,a,s,c;return Hs(this,(function(l){switch(l.label){case 0:return[4,Ws(e,{})];case 1:return t=l.sent(),$("#preview-svg").html(null!==(i=null==t?void 0:t.svg)&&void 0!==i?i:""),$("#preview-svg-map").html(null!==(o=null==t?void 0:t.svg)&&void 0!==o?o:"").removeClass("d-none"),$("#preview-pycode").html(null!==(a=null==t?void 0:t.pycode)&&void 0!==a?a:""),$("#preview-pseudocode").html(null!==(s=null==t?void 0:t.plaincode)&&void 0!==s?s:""),n=null===(c=t.projectInfo)||void 0===c?void 0:c.slotIndex,r="img/cat".concat(n,".svg#dsmIcon"),$("#svg-program-use").attr("href",r).attr("xlink:href",r),$("#tab-dummy").addClass("d-none"),$("#tabs-main").removeClass("d-none"),Zs(),[2]}}))}))}))}function Zs(){var e="svg-tab"!==$("a[data-bs-toggle='tab'].active").attr("id");$("#preview-svg-map").toggleClass("d-none",!e)}$(".example-content-button").on("click",(function(e){var t=e.target.dataset.file;t&&fetch(t).then((function(e){return $s(void 0,void 0,void 0,(function(){var t,n,r;return Hs(this,(function(i){switch(i.label){case 0:return[4,e.blob()];case 1:return t=i.sent(),n=new File([t],"sample.llsp3"),(r=new DataTransfer).items.add(n),$("#file-selector").get(0).files=r.files,Gs(n),[2]}}))}))})).catch((function(e){console.error("::ERROR::",e)}))})),$("#maincontainer").on({dragover:function(e){return $s(void 0,void 0,void 0,(function(){var t;return Hs(this,(function(n){return e.stopPropagation(),e.preventDefault(),$("#maincontainer").addClass("drop-active"),(null===(t=e.originalEvent)||void 0===t?void 0:t.dataTransfer)&&(e.originalEvent.dataTransfer.dropEffect="copy"),[2]}))}))},dragleave:function(e){e.stopPropagation(),e.preventDefault(),$("#maincontainer").removeClass("drop-active")},drop:function(e){var t;if(e.stopPropagation(),e.preventDefault(),$("#maincontainer").removeClass("drop-active"),null===(t=e.originalEvent)||void 0===t?void 0:t.dataTransfer){var n=e.originalEvent.dataTransfer.files;$("#file-selector").get(0).files=n,Gs(n[0])}}}),$("#file-selector").on("change",(function(e){var t,n=$(this)[0];(null===(t=n.files)||void 0===t?void 0:t.length)&&Gs(n.files[0])})),$(".copy-button").on("click",(function(e){e.stopPropagation(),e.preventDefault();var t=$(this),n=t.data("target"),r=$("#"+n).text();navigator.clipboard.writeText(r),t.addClass("success"),t.children().toggleClass("bi-clipboard-check bi-copy");var i=new hi(t[0],{title:"Copied!",trigger:"manual"});i.show(),setTimeout((function(){t.removeClass("success"),t.children().toggleClass("bi-clipboard-check bi-copy"),i.dispose()}),2e3)})),$("a[data-bs-toggle='tab']").on("shown.bs.tab",(function(e){Zs()})),$("#preview-svg-map").on("click",(function(e){new Qi($("#svg-tab")[0]).show()})),$((function(){var e=$("#preview-svg");e&&(new MutationObserver((function(e){vo()($("#preview-svg svg")[0],{bounds:!0})})).observe(e[0],{childList:!0}),$("#github-sha").attr("title","7919ffa master"))}))})()})();